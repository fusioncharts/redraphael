!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define("RedRaphael",[],factory):"object"==typeof exports?exports["RedRaphael"]=factory():root["RedRaphael"]=factory()}("undefined"!=typeof self?self:this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=41)}([function(module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports,__webpack_require__){var dP=__webpack_require__(3),createDesc=__webpack_require__(15);module.exports=__webpack_require__(4)?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(13),IE8_DOM_DEFINE=__webpack_require__(32),toPrimitive=__webpack_require__(20),dP=Object.defineProperty;exports.f=__webpack_require__(4)?Object.defineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(14)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){var IObject=__webpack_require__(51),defined=__webpack_require__(19);module.exports=function(it){return IObject(defined(it))}},function(module,exports,__webpack_require__){var store=__webpack_require__(24)("wks"),uid=__webpack_require__(16),Symbol=__webpack_require__(0).Symbol,USE_SYMBOL="function"==typeof Symbol;(module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))}).store=store},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(44),__esModule:!0}},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(61),__esModule:!0}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0,exports.cacher=exports.showRecursively=exports.loadRefImage=exports.dashedAttr2CSSMap=exports.getArrayCopy=exports.merge=undefined;var _iterator=__webpack_require__(7),_iterator2=_interopRequireDefault(_iterator),_symbol=__webpack_require__(9),_symbol2=_interopRequireDefault(_symbol),_typeof="function"==typeof _symbol2["default"]&&"symbol"==typeof _iterator2["default"]?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof _symbol2["default"]&&obj.constructor===_symbol2["default"]&&obj!==_symbol2["default"].prototype?"symbol":typeof obj};exports["default"]=function(obj1,obj2,skipUndef,shallow){var item;if((void 0===obj1?"undefined":_typeof(obj1))!==objectStr&&(void 0===obj2?"undefined":_typeof(obj2))!==objectStr)return null;if((void 0===obj2?"undefined":_typeof(obj2))!==objectStr||null===obj2)return obj1;if(void 0===obj1&&(obj1=obj2 instanceof Array?[]:{}),shallow)for(item in obj2)obj1[item]=obj2[item];else merge(obj1,obj2,skipUndef);return obj1};var BLANK="__blank",nullStr="␀",E="",objectStr="object",dashedAttr2CSSMap={"font-family":"fontFamily","font-size":"fontSize","text-anchor":"textAnchor","font-weight":"fontWeight","letter-spacing":"letterSpacing","font-style":"fontStyle"},loadRefImage=function(element,attrs){var src=attrs.src,RefImg=element._.RefImg;RefImg||(RefImg=element._.RefImg=new Image),attrs.src!==undefined&&(RefImg.src=src,element._.RefImg=RefImg)},showRecursively=function(el){for(var origAttrTree={},currentEl=el,currentNode=origAttrTree,fn=function(){for(var localEl=el,localNode=origAttrTree;localEl;)localNode._doHide&&localEl.hide(),localEl=localEl.parent,localNode=localNode.parent};currentEl;)currentEl.node&&currentEl.node.style&&"none"===currentEl.node.style.display&&(currentEl.show(),currentNode._doHide=!0),currentEl=currentEl.parent,currentNode.parent={},currentNode=currentNode.parent;return fn},checkCyclicRef=function(obj,parentArr){for(var i=parentArr.length,bIndex=-1;i--;)if(obj===parentArr[i])return bIndex=i;return bIndex},getArrayCopy=function(array){var i,len,arg;for(i=0,len=array.length,arg=new Array(len);i<len;i++)arg[i]=array[i];return arg},merge=function merge(obj1,obj2,skipUndef,tgtArr,srcArr){var item,srcVal,tgtVal,str,cRef;if(srcArr?(tgtArr.push(obj1),srcArr.push(obj2)):(tgtArr=[obj1],srcArr=[obj2]),obj2 instanceof Array)for(item=0;item<obj2.length;item+=1){try{srcVal=obj1[item],tgtVal=obj2[item]}catch(e){continue}(void 0===tgtVal?"undefined":_typeof(tgtVal))!==objectStr?skipUndef&&void 0===tgtVal||(obj1[item]=tgtVal):(null!==srcVal&&(void 0===srcVal?"undefined":_typeof(srcVal))===objectStr||(srcVal=obj1[item]=tgtVal instanceof Array?[]:{}),cRef=checkCyclicRef(tgtVal,srcArr),-1!==cRef?srcVal=obj1[item]=tgtArr[cRef]:merge(srcVal,tgtVal,skipUndef,tgtArr,srcArr))}else for(item in obj2){try{srcVal=obj1[item],tgtVal=obj2[item]}catch(e){continue}null!==tgtVal&&(void 0===tgtVal?"undefined":_typeof(tgtVal))===objectStr?(str=Object.prototype.toString.call(tgtVal),"[object Object]"===str?(null!==srcVal&&(void 0===srcVal?"undefined":_typeof(srcVal))===objectStr||(srcVal=obj1[item]={}),cRef=checkCyclicRef(tgtVal,srcArr),-1!==cRef?srcVal=obj1[item]=tgtArr[cRef]:merge(srcVal,tgtVal,skipUndef,tgtArr,srcArr)):"[object Array]"===str?(null!==srcVal&&srcVal instanceof Array||(srcVal=obj1[item]=[]),cRef=checkCyclicRef(tgtVal,srcArr),-1!==cRef?srcVal=obj1[item]=tgtArr[cRef]:merge(srcVal,tgtVal,skipUndef,tgtArr,srcArr)):obj1[item]=tgtVal):obj1[item]=tgtVal}return obj1},cacher=function(f,scope,postprocessor,key,maxCache,sharedCache,firstArgKey){function cachedfunction(arg1){var cur,oldEnd,oldStart,hashKey=firstArgKey?arg1:getArrayCopy(arguments).join(nullStr);return hashKey=hashKey===E?BLANK:hashKey,cur=cache[hashKey],cur?cur.__prev&&(cache[cur.__prev].__next=cur.__next,cur.__next?cur.__next.__prev=cur.__prev:cache.__end=cur.__prev):(cur=cache[hashKey]={},f&&(cache[hashKey][key]=postprocessor?postprocessor(f.apply(scope,arguments)):f.apply(scope,arguments)),null===cache.__end&&(cache.__end=hashKey),++count>maxCache&&cache.__end&&(oldEnd=cache[cache.__end],cache[oldEnd.__prev].__next=null,delete cache[cache.__end],cache.__end=oldEnd.__prev,count--)),oldStart=cache.__start,oldStart!==cur&&(cur.__prev=null,cur.__next=oldStart,oldStart&&(oldStart.__prev=hashKey),cache.__start=cur),cache[hashKey][key]}var cache=sharedCache||{},count=0;return cache.__start===undefined&&(cache.__start=null),cache.__end===undefined&&(cache.__end=null),maxCache=maxCache||1e3,key=key||"item",cachedfunction};exports.merge=merge,exports.getArrayCopy=getArrayCopy,exports.dashedAttr2CSSMap=dashedAttr2CSSMap,exports.loadRefImage=loadRefImage,exports.showRecursively=showRecursively,exports.cacher=cacher},function(module,exports){module.exports=!0},function(module,exports){var core=module.exports={version:"2.6.10"};"number"==typeof __e&&(__e=core)},function(module,exports,__webpack_require__){var isObject=__webpack_require__(8);module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(key===undefined?"":key,")_",(++id+px).toString(36))}},function(module,exports){var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},function(module,exports){module.exports=function(it){if(it==undefined)throw TypeError("Can't call method on  "+it);return it}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(8);module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports){module.exports={}},function(module,exports,__webpack_require__){var $keys=__webpack_require__(36),enumBugKeys=__webpack_require__(25);module.exports=Object.keys||function(O){return $keys(O,enumBugKeys)}},function(module,exports,__webpack_require__){var shared=__webpack_require__(24)("keys"),uid=__webpack_require__(16);module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},function(module,exports,__webpack_require__){var core=__webpack_require__(12),global=__webpack_require__(0),store=global["__core-js_shared__"]||(global["__core-js_shared__"]={});(module.exports=function(key,value){return store[key]||(store[key]=value!==undefined?value:{})})("versions",[]).push({version:core.version,mode:__webpack_require__(11)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(module,exports,__webpack_require__){var def=__webpack_require__(3).f,has=__webpack_require__(1),TAG=__webpack_require__(6)("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}},function(module,exports,__webpack_require__){exports.f=__webpack_require__(6)},function(module,exports,__webpack_require__){var global=__webpack_require__(0),core=__webpack_require__(12),LIBRARY=__webpack_require__(11),wksExt=__webpack_require__(27),defineProperty=__webpack_require__(3).f;module.exports=function(name){var $Symbol=core.Symbol||(core.Symbol=LIBRARY?{}:global.Symbol||{});"_"==name.charAt(0)||name in $Symbol||defineProperty($Symbol,name,{value:wksExt.f(name)})}},function(module,exports){exports.f={}.propertyIsEnumerable},function(module,exports,__webpack_require__){"use strict";var LIBRARY=__webpack_require__(11),$export=__webpack_require__(31),redefine=__webpack_require__(34),hide=__webpack_require__(2),Iterators=__webpack_require__(21),$iterCreate=__webpack_require__(49),setToStringTag=__webpack_require__(26),getPrototypeOf=__webpack_require__(56),ITERATOR=__webpack_require__(6)("iterator"),BUGGY=!([].keys&&"next"in[].keys()),returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var methods,key,IteratorPrototype,getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case"keys":case"values":return function(){return new Constructor(this,kind)}}return function(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES="values"==DEFAULT,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto["@@iterator"]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:undefined,$anyNative="Array"==NAME?proto.entries||$native:$native;if($anyNative&&(IteratorPrototype=getPrototypeOf($anyNative.call(new Base)))!==Object.prototype&&IteratorPrototype.next&&(setToStringTag(IteratorPrototype,TAG,!0),LIBRARY||"function"==typeof IteratorPrototype[ITERATOR]||hide(IteratorPrototype,ITERATOR,returnThis)),DEF_VALUES&&$native&&"values"!==$native.name&&(VALUES_BUG=!0,$default=function(){return $native.call(this)}),LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod("values"),keys:IS_SET?$default:getMethod("keys"),entries:$entries},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods}},function(module,exports,__webpack_require__){var global=__webpack_require__(0),core=__webpack_require__(12),ctx=__webpack_require__(47),hide=__webpack_require__(2),has=__webpack_require__(1),$export=function(type,name,source){var key,own,out,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,IS_WRAP=type&$export.W,exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports["prototype"],target=IS_GLOBAL?global:IS_STATIC?global[name]:(global[name]||{})["prototype"];IS_GLOBAL&&(source=name);for(key in source)(own=!IS_FORCED&&target&&target[key]!==undefined)&&has(exports,key)||(out=own?target[key]:source[key],exports[key]=IS_GLOBAL&&"function"!=typeof target[key]?source[key]:IS_BIND&&own?ctx(out,global):IS_WRAP&&target[key]==out?function(C){var F=function(a,b,c){if(this instanceof C){switch(arguments.length){case 0:return new C;case 1:return new C(a);case 2:return new C(a,b)}return new C(a,b,c)}return C.apply(this,arguments)};return F["prototype"]=C["prototype"],F}(out):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,IS_PROTO&&((exports.virtual||(exports.virtual={}))[key]=out,type&$export.R&&expProto&&!expProto[key]&&hide(expProto,key,out)))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(4)&&!__webpack_require__(14)(function(){return 7!=Object.defineProperty(__webpack_require__(33)("div"),"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(8),document=__webpack_require__(0).document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(2)},function(module,exports,__webpack_require__){var anObject=__webpack_require__(13),dPs=__webpack_require__(50),enumBugKeys=__webpack_require__(25),IE_PROTO=__webpack_require__(23)("IE_PROTO"),Empty=function(){},createDict=function(){var iframeDocument,iframe=__webpack_require__(33)("iframe"),i=enumBugKeys.length;for(iframe.style.display="none",__webpack_require__(55).appendChild(iframe),iframe.src="javascript:",iframeDocument=iframe.contentWindow.document,iframeDocument.open(),iframeDocument.write("<script>document.F=Object<\/script>"),iframeDocument.close(),createDict=iframeDocument.F;i--;)delete createDict["prototype"][enumBugKeys[i]];return createDict()};module.exports=Object.create||function(O,Properties){var result;return null!==O?(Empty["prototype"]=anObject(O),result=new Empty,Empty["prototype"]=null,result[IE_PROTO]=O):result=createDict(),Properties===undefined?result:dPs(result,Properties)}},function(module,exports,__webpack_require__){var has=__webpack_require__(1),toIObject=__webpack_require__(5),arrayIndexOf=__webpack_require__(52)(!1),IE_PROTO=__webpack_require__(23)("IE_PROTO");module.exports=function(object,names){var key,O=toIObject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports,__webpack_require__){var defined=__webpack_require__(19);module.exports=function(it){return Object(defined(it))}},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports,__webpack_require__){var $keys=__webpack_require__(36),hiddenKeys=__webpack_require__(25).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(O){return $keys(O,hiddenKeys)}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(42)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _raphael=__webpack_require__(43),_raphael2=_interopRequireDefault(_raphael),_raphael3=__webpack_require__(72),_raphael4=_interopRequireDefault(_raphael3),_raphael5=__webpack_require__(73),_raphael6=_interopRequireDefault(_raphael5),_raphael7=__webpack_require__(74),_raphael8=_interopRequireDefault(_raphael7),_raphael9=__webpack_require__(75),_raphael10=_interopRequireDefault(_raphael9);(0,_raphael4["default"])(_raphael2["default"]),(0,_raphael6["default"])(_raphael2["default"]),(0,_raphael8["default"])(_raphael2["default"]),(0,_raphael10["default"])(_raphael2["default"]),exports["default"]=_raphael2["default"],module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";(function(global){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function R(first){var args,arg,f;return R._url===undefined&&(R._url=E),R.is(first,FUNCTION)?loaded?first():_eve3["default"].on("raphael.DOMload",first):R.is(first,ARRAY)?R._engine.create[APPLY](R,first.splice(0,3+R.is(first[0],NU))).add(first):(arg=(0,_raphael.getArrayCopy)(arguments),args=Array.prototype.slice.call(arg,0),R.is(args[args.length-1],FUNCTION)?(f=args.pop(),loaded?f.call(R._engine.create[APPLY](R,args)):_eve3["default"].on("raphael.DOMload",function(){f.call(R._engine.create[APPLY](R,args))})):R._engine.create[APPLY](R,arguments))}function PriorityQueue(comparator){this._comparator=comparator,this._elements=[]}function clrToString(){return this.hex}function catmullRom2bezier(crp,z){for(var d=[],i=0,iLen=crp.length;iLen-2*!z>i;i+=2){var p=[{x:+crp[i-2],y:+crp[i-1]},{x:+crp[i],y:+crp[i+1]},{x:+crp[i+2],y:+crp[i+3]},{x:+crp[i+4],y:+crp[i+5]}];z?i?iLen-4===i?p[3]={x:+crp[0],y:+crp[1]}:iLen-2===i&&(p[2]={x:+crp[0],y:+crp[1]},p[3]={x:+crp[2],y:+crp[3]}):p[0]={x:+crp[iLen-2],y:+crp[iLen-1]}:iLen-4===i?p[3]=p[2]:i||(p[0]={x:+crp[i],y:+crp[i+1]}),d.push(["C",(-p[0].x+6*p[1].x+p[2].x)/6,(-p[0].y+6*p[1].y+p[2].y)/6,(p[1].x+6*p[2].x-p[3].x)/6,(p[1].y+6*p[2].y-p[3].y)/6,p[2].x,p[2].y])}return d}function base3(t,p1,p2,p3,p4){return t*(t*(-3*p1+9*p2-9*p3+3*p4)+6*p1-12*p2+6*p3)-3*p1+3*p2}function bezlen(x1,y1,x2,y2,x3,y3,x4,y4,z){null==z&&(z=1),z=z>1?1:z<0?0:z;for(var z2=z/2,Tvalues=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Cvalues=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],sum=0,i=0;i<12;i++){var ct=z2*Tvalues[i]+z2,xbase=base3(ct,x1,x2,x3,x4),ybase=base3(ct,y1,y2,y3,y4);sum+=Cvalues[i]*mathSqrt(xbase*xbase+ybase*ybase)}return z2*sum}function getTatLen(x1,y1,x2,y2,x3,y3,x4,y4,ll){if(!(ll<0||bezlen(x1,y1,x2,y2,x3,y3,x4,y4)<ll)){var l,step=.5,t2=1-step;for(l=bezlen(x1,y1,x2,y2,x3,y3,x4,y4,t2);abs(l-ll)>.01;)step/=2,t2+=(l<ll?1:-1)*step,l=bezlen(x1,y1,x2,y2,x3,y3,x4,y4,t2);return t2}}function Matrix(a,b,c,d,e,f){null!=a?(this.a=+a,this.b=+b,this.c=+c,this.d=+d,this.e=+e,this.f=+f):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function x_y_w_h(){return this.x+S+this.y+S+this.width+" × "+this.height}function CubicBezierAtTime(t,p1x,p1y,p2x,p2y,duration){function sampleCurveX(t){return((ax*t+bx)*t+cx)*t}function solveCurveX(x,epsilon){var t0,t1,t2,x2,d2,i;for(t2=x,i=0;i<8;i++){if(x2=sampleCurveX(t2)-x,abs(x2)<epsilon)return t2;if(d2=(3*ax*t2+2*bx)*t2+cx,abs(d2)<1e-6)break;t2-=x2/d2}if(t0=0,t1=1,(t2=x)<t0)return t0;if(t2>t1)return t1;for(;t0<t1;){if(x2=sampleCurveX(t2),abs(x2-x)<epsilon)return t2;x>x2?t0=t2:t1=t2,t2=(t1-t0)/2+t0}return t2}var cx=3*p1x,bx=3*(p2x-p1x)-cx,ax=1-cx-bx,cy=3*p1y,by=3*(p2y-p1y)-cy,ay=1-cy-by;return function(x,epsilon){var t=solveCurveX(x,epsilon);return((ay*t+by)*t+cy)*t}(t,1/(200*duration))}function Animation(anim,ms){var percents=[],newAnim={};if(this.ms=ms,this.times=1,anim){for(var attr in anim)anim[HAS](attr)&&(newAnim[toFloat(attr)]=anim[attr],percents.push(toFloat(attr)));percents.sort(sortByNumber)}this.anim=newAnim,this.top=percents[percents.length-1],this.percents=percents}function colorNormalizer(c1,c2,getRGB){function allToLinear(arr){var key,i=0,ii=0,j=0,temp=[],temp2={},prevVal=0,lastVal=0,counter=0,rPos=0,openBrPos=0,closedBrPos=0,radial={f1:.5,f2:.5};for(1===arr.length&&(arr[0]===NONE&&(arr[0]="rgba(0,0,0,0)"),arr.unshift(0),arr.defaultAngleSet=!0),isNaN(arr[0])?~"rx".indexOf(arr[0].charAt(0))?(arr.isRadial=!0,rPos=1,-1!==arr[0].indexOf(")")&&(rPos=arr[0].indexOf(")"),openBrPos=arr[0].indexOf("(")+1,closedBrPos=rPos,temp=arr[0].substr(openBrPos,closedBrPos-openBrPos).split(","),radial.f1=parseFloat(temp[0])||0,radial.f2=parseFloat(temp[1])||0,~temp[2].indexOf("%")&&(temp[2]=parseFloat(temp[2])/100),radial.f3=parseFloat(temp[2])||0,radial.f4=parseFloat(temp[3])||0,radial.f5=parseFloat(temp[4])||0,radial.f6=temp[5]),arr[0]=arr[0].substr(closedBrPos+1),arr.unshift(radial)):arr[0]=0:arr[0]=+arr[0],i=1,ii=arr.length;i<ii;++i)temp=arr[i].split(":"),temp2=getRGB(temp[0]),arr[i]={},arr[i].r=temp2.r,arr[i].g=temp2.g,arr[i].b=temp2.b,arr[i].opacity=temp2.opacity,arr[i].opacity=+arr[i].opacity,isNaN(arr[i].opacity)&&(arr[i].opacity=1),arr[i].position=+temp[1];if(arr.sort(function(a,b){return"number"==typeof a||a.f1?-1:"number"==typeof b||a.f2?1:isNaN(a.position)&&isNaN(b.position)?0:isNaN(a.position)?-1:isNaN(b.position)?1:a.position-b.position}),0!=+arr[1].position)if(isNaN(arr[1].position))arr[1].position=0;else{temp2={};for(key in arr[1])temp2[key]=arr[1][key];for(temp2.position=0,arr.push({}),i=arr.length-1;1!==i;--i)arr[i]=arr[i-1];arr[1]=temp2}if(ii=arr.length-1,100!==arr[ii].position)if(isNaN(arr[ii].position))arr[ii].position=100;else{temp2={};for(key in arr[ii])temp2[key]=arr[ii][key];temp2.position=100,arr.push(temp2)}for(i=2,ii=arr.length;i<ii;++i)if(!arr[i].position){for(prevVal=arr[i-1].position,counter=1,j=i+1;j<ii;++j)if(++counter,!isNaN(arr[j].position)){lastVal=+arr[j].position;break}arr[i].position=prevVal+(lastVal-prevVal)/counter}return arr.getColorAtPosition=function(pos){for(var prevPos=-1,nextPos=this.length,i=1,ii=this.length,ratio=0,key=E,col={r:0,g:0,b:0};i<ii-1;++i)if(this[i].position<=pos&&(prevPos=i,nextPos=i+1),!(this[i].position<pos)&&this[i].position>=pos){nextPos=i;break}ratio=(pos-this[prevPos].position)/(this[nextPos].position-this[prevPos].position),isNaN(ratio)&&(ratio=0);for(key in col)col[key]=upto255((1-ratio)*this[prevPos][key]+ratio*this[nextPos][key]);return col.position=pos,col.opacity=(1-ratio)*this[prevPos]["opacity"]+ratio*this[nextPos]["opacity"],col},arr}var colorAr1,colorAr2,i=0,ii=0,newColArr=[],newColArr2=[],temp={},pos=0,uniqArr=[];if(c1=c1.constructor===Array?c1[0]:c1,c2=c2.constructor===Array?c2[0]:c2,colorAr1=c1.split("-"),colorAr2=c2.split("-"),1===colorAr1.length&&1===colorAr2.length)return[c1,c2];for(colorAr1=allToLinear(colorAr1),colorAr2=allToLinear(colorAr2),!colorAr1.defaultAngleSet&&colorAr2.defaultAngleSet&&(colorAr2[0]=colorAr1[0]),!colorAr2.defaultAngleSet&&colorAr1.defaultAngleSet&&(colorAr1[0]=colorAr2[0]),converToRadialIfOneRadial(colorAr1,colorAr2),i=1,ii=colorAr1.length;i<ii;++i)pos=colorAr1[i].position,uniqArr.push(pos);for(i=1,ii=colorAr2.length;i<ii;++i)pos=colorAr2[i].position,-1===uniqArr.indexOf(pos)&&uniqArr.push(pos);for(uniqArr.push(0),uniqArr.sort(function(a,b){return a-b}),newColArr=[colorAr1[0]],i=1,ii=uniqArr.length;i<ii;++i)pos=uniqArr[i],temp=colorAr1.getColorAtPosition(pos),newColArr.push(temp);for(newColArr2=[colorAr2[0]],i=1,ii=uniqArr.length;i<ii;++i)pos=uniqArr[i],temp=colorAr2.getColorAtPosition(pos),newColArr2.push(temp);return newColArr.isRadial=colorAr1.isRadial,newColArr2.isRadial=colorAr2.isRadial,[newColArr,newColArr2]}function pathNormalizer(p1,p2){function toSvgPath(arr){var str=[],i=0,ii=arr.length;if((void 0===arr?"undefined":_typeof(arr))===STRING)return arr;for(i=0;i<ii;++i){if(!arr[i].join)return;i&&arr[i+1]&&"M"===arr[i+1][0]&&"M"===arr[i][0]||str.push(arr[i].join(S))}for(str=str.join(E),str=str.split(/[Mm]/).slice(1),i=0,ii=str.length;i<ii;++i)str[i]="M"+str[i];return str}function linetopath(arr){var i=0,ii=0,str=[];for(arr=arr||[],ii=arr.length,i=0;i<ii;++i)arr[i].length-1&&str.push(arr[i].join(S));return str.join(E)}function removeBlanks(arr,pos){for(var i=arr.length;i---1&&arr[i].slice(1).toString()===arr[i-1].slice(1).toString();)arr.pop();1===arr.length&&pos&&(arr.length=0)}function _divide(arr,times){for(var resArr=[],locArr=[],arrLen=arr.length,i=0,ii=0,x=0,prevPos=0,y=0,diffTimes=times-arrLen;diffTimes>=0;)i=arr.length-1,arr.push(arr.slice(i)[0]),--diffTimes;for(arrLen=arr.length,i=0;i<=times;++i)locArr.push(Math.round(i/times*arrLen));for(i=0,ii=locArr.length-1;i<ii;++i)resArr.push(arr.slice(locArr[i],locArr[i+1])),"M"!==resArr[i][0][0]&&resArr[i][0][0]!==mStr&&(prevPos=resArr[i-1].length-1,x=resArr[i-1][prevPos][1],y=resArr[i-1][prevPos][2],resArr[i].unshift(["M",x,y]));return resArr}var temp,finalp1=[],finalp2=[],pathArr1=toSvgPath(p1),pathArr2=toSvgPath(p2),i=0,ii=0,createElementNS=document.createElementNS&&document.createElementNS.bind(document),dPath=createElementNS&&createElementNS("http://www.w3.org/2000/svg","path");if(!pathArr1||!pathArr2||!dPath)return[p1,p2];if(function(path1,path2){function trimPathArray(arr){for(var i=arr.length;i---1&&arr[i].join(E)===arr[i-1].join(E);)arr.pop()}function getPathFromArray(arr){for(var str=E,i=0,ii=arr.length;i<ii;++i)str+=arr[i].join(S);return str}var testLen,testPoint,str1=E,str2=E;return dPath.setAttribute("d","M300 10 L300 300 C50 310,50 640,350 650C600 640,600 310,400 300 L400 10 L295 10"),testLen=dPath.getTotalLength(),testPoint=dPath.getPointAtLength(10),testLen<1829.1||testLen>1829.2||(300!==Math.round(testPoint.x)||20!==Math.round(testPoint.y)||(trimPathArray(path1),trimPathArray(path2),str1=getPathFromArray(path1),str2=getPathFromArray(path2),!(str1.split(/[Mm]/).length>2||str2.split(/[Mm]/).length>2)&&path1.length===path2.length))}(p1,p2))return[p1,p2];if(!p1||!p2)return[p1,p2];if(!document.createElementNS)return[p1,p2];if(pathArr1=toSvgPath(p1),pathArr2=toSvgPath(p2),-1!==pathArr1.join().indexOf("undefined"))return[p1,p2];if(-1!==pathArr2.join().indexOf("undefined"))return[p1,p2];if(!dPath.getTotalLength||!dPath.getPointAtLength)return[p1,p2];for(ii=Math.max(pathArr1.length,pathArr2.length),i=0;i<ii;++i)temp=_pathNormalizer(pathArr1[i],pathArr2[i]),pathArr1[i]=temp[0],pathArr2[i]=temp[1];for(i=pathArr1.length;i--;)removeBlanks(pathArr1[i],i),pathArr1[i].length||pathArr1.pop();for(i=pathArr2.length;i--;)removeBlanks(pathArr2[i],i),pathArr2[i].length||pathArr2.pop();for(function(diff){var arrToDivide=[],countArr=[],transArr=[],i=0,ii=0,isArr1=!0;if(0!==diff){for(diff>0?(arrToDivide=pathArr2,isArr1=!1):(diff=-diff,arrToDivide=pathArr1),i=0,ii=arrToDivide.length;i<ii;++i)countArr.push(1);for(;diff--;)--i,i<0&&(i=ii-1),countArr[i]++;for(i=0;i<ii;++i)1===countArr[i]?transArr.push(arrToDivide[i]):transArr.push.apply(transArr,_divide(arrToDivide[i],countArr[i]));isArr1?pathArr1=transArr:pathArr2=transArr}}(pathArr1.length-pathArr2.length),ii=Math.max(pathArr1.length,pathArr2.length),i=0;i<ii;++i)temp=_pathNormalizer(linetopath(pathArr1[i]),linetopath(pathArr2[i])),pathArr1[i]=temp[0],pathArr2[i]=temp[1];for(i=0,ii=pathArr1.length;i<ii;++i)finalp1=finalp1.concat(pathArr1[i]);for(i=0,ii=pathArr2.length;i<ii;++i)finalp2=finalp2.concat(pathArr2[i]);return[finalp1,finalp2]}function commonPathCalculator(p1,p2){function splitter(path){var i=0,ii=0;for(path=path.split(/[MCLmcl]/).slice(1),i=0,ii=path.length;i<ii;++i)path[i]=path[i].split(S).slice(1),i||path[i].unshift("M"),i&&(2===path[i].length&&path[i].unshift(strL)||path[i].unshift("C"));return path}function mapper(arr,ob){var val,item,i=0,ii=arr.length;for(i=0,ii=arr.length;i<ii;++i)val=arr[i].join(S),item=arr[i],"C"===item[0]&&item[3]===item[5]&&item[4]===item[6]?arr[i].stringValue=[strL,item[3],item[4]].join(S):item.stringValue=val,ob[item.stringValue]&&ob[item.stringValue].push(i),ob[item.stringValue]||(ob[item.stringValue]=[i])}function getNearestExistingPoint(arr,map,start,ii,lim){for(var item,i=start,k=0,kk=0;i<ii;++i)if(item=map[arr[i].stringValue])for(k=0,kk=item.length;k<kk;++k)if(item[k]>=lim)return{index:i,mapValue:item[k],diff:i-start};return-1}function getCoordinateAsMove(arr){var last=arr.length-1;return["M",arr[last-1],arr[last]].join(S)}function pathToString(arr){return arr.join(E)}var nearestPoint1,nearestPoint2,i=0,j=0,ii=0,jj=0,lim1=0,lim2=0,map1={},map2={},groupedPath1=[],groupedPath2=[],gpIndex1=-1,gpIndex2=-1,isSame=!0;for(p1=splitter(p1),p2=splitter(p2),mapper(p1,map1),mapper(p2,map2),ii=p1.length,jj=p2.length,i=0,j=0;i<ii&&j<jj;){if(++gpIndex1,++gpIndex2,groupedPath1[gpIndex1]=[],groupedPath2[gpIndex2]=[],isSame=p1[i].stringValue===p2[j].stringValue,i&&(groupedPath1[gpIndex1].push(getCoordinateAsMove(p1[i-1])),groupedPath2[gpIndex2].push(getCoordinateAsMove(p2[j-1]))),isSame)for(;i<ii&&j<jj&&p1[i].stringValue===p2[j].stringValue;)groupedPath1[gpIndex1].push(p1[i].stringValue),groupedPath2[gpIndex2].push(p2[j].stringValue),++i,++j;else{for(nearestPoint1=getNearestExistingPoint(p1,map2,i,ii,j),nearestPoint2=getNearestExistingPoint(p2,map1,j,jj,i),lim1=nearestPoint1.index,lim2=nearestPoint1.mapValue,(!~nearestPoint1||nearestPoint1.diff>nearestPoint2.diff)&&(lim1=nearestPoint2.mapValue,lim2=nearestPoint2.index),~nearestPoint1||~nearestPoint2||(lim1=ii-1,lim2=jj-1);i<=lim1;)groupedPath1[gpIndex1].push(p1[i].stringValue),++i;for(;j<=lim2;)groupedPath2[gpIndex2].push(p2[j].stringValue),++j}groupedPath1[gpIndex1]=pathToString(groupedPath1[gpIndex1]),groupedPath2[gpIndex2]=pathToString(groupedPath2[gpIndex2])}if(i<ii){for(++gpIndex1,groupedPath1[gpIndex1]=[],groupedPath1[gpIndex1].push(getCoordinateAsMove(p1[i-1])),++gpIndex2,groupedPath2[gpIndex2]=[],groupedPath2[gpIndex2].push(getCoordinateAsMove(p2[j-1]));i<ii;)groupedPath1[gpIndex1].push(p1[i].stringValue),++i;groupedPath1[gpIndex1]=pathToString(groupedPath1[gpIndex1])}if(j<jj){for(++gpIndex1,groupedPath1[gpIndex1]=[],groupedPath1[gpIndex1].push(getCoordinateAsMove(p1[i-1])),++gpIndex2,groupedPath2[gpIndex2]=[],groupedPath2[gpIndex2].push(getCoordinateAsMove(p2[j-1]));j<jj;)groupedPath2[gpIndex2].push(p2[j].stringValue),++j;groupedPath2[gpIndex2]=pathToString(groupedPath2[gpIndex2])}return[groupedPath1,groupedPath2]}function _pathNormalizer(p1,p2){var commonPath,tmp,i=0,ii=0,fPath1=[],fPath2=[];for(p1&&"M  "!==p1||(p1=p2.split(S).slice(0,3).join(S).replace(/[LC]/,E)),p2&&"M  "!==p2||(p2=p1.split(S).slice(0,3).join(S).replace(/[LC]/,E)),commonPath=commonPathCalculator(p1,p2),i=0,ii=commonPath[0].length;i<ii;++i)tmp=function(p1,p2){var dPath1,dPath2,i=0,item={},pathLen1=0,pathLen2=0,fPath1=[],fPath2=[],divisions=0,round=Math.round;for(dPath1=document.createElementNS("http://www.w3.org/2000/svg","path"),dPath1.setAttribute("d",p1),dPath2=document.createElementNS("http://www.w3.org/2000/svg","path"),dPath2.setAttribute("d",p2),pathLen1=dPath1.getTotalLength(),pathLen2=dPath2.getTotalLength(),divisions=.15*Math.max(pathLen1,pathLen2),divisions=Math.ceil(divisions),(!divisions||!isFinite(divisions)||divisions<10)&&(divisions=10),i=0;i<=divisions;++i)item=dPath1.getPointAtLength(i/divisions*pathLen1),fPath1.push([i?strL:strM,round(item.x),round(item.y)]),item=dPath2.getPointAtLength(i/divisions*pathLen2),fPath2.push([i?strL:strM,round(item.x),round(item.y)]);return[fPath1,fPath2]}(commonPath[0][i],commonPath[1][i]),i?(fPath1=fPath1.concat(tmp[0].slice(1)),fPath2=fPath2.concat(tmp[1].slice(1))):(fPath1=fPath1.concat(tmp[0]),fPath2=fPath2.concat(tmp[1]));return[fPath1,fPath2]}function runAnimation(anim,element,percent,status,totalOrigin,times,parentEl,configObject){percent=toFloat(percent);var params,isInAnim,isInAnimSet,next,prev,timestamp,tempDiff,change,ms=anim.ms,from={},to={},diff={};if(null!==element.type){if(configObject=configObject||{},configObject.hookFn&&configObject.hookFn.call(element),configObject.from=configObject.from||{},status)for(i=0,ii=animationElements.length;i<ii;i++){var e=animationElements[i];if(e.el.id===element.id&&e.anim===anim){e.percent!=percent?(delete e.el.e,delete e.el,animationElements.splice(i,1),isInAnimSet=1):isInAnim=e,element.attr(e.totalOrigin);break}}else status=+to;for(var i=0,ii=anim.percents.length;i<ii;i++){if(anim.percents[i]===percent||anim.percents[i]>status*anim.top){percent=anim.percents[i],prev=anim.percents[i-1]||0,ms=ms/anim.top*(percent-prev),next=anim.percents[i+1],params=anim.anim[percent];break}status&&element.attr(anim.anim[anim.percents[i]])}if(params){if(isInAnim)isInAnim.initstatus=status,isInAnim.start=new Date-isInAnim.ms*status;else{for(var attr in params)if(params[HAS](attr))if(availableAnimAttrs[HAS](attr)||element.ca[attr]){switch(from[attr]=configObject.from[attr]||element.attr(attr),null==from[attr]&&(from[attr]=availableAttrs[attr]),to[attr]=params[attr],change=!1,availableAnimAttrs[attr]){case"number":tempDiff=to[attr]-from[attr],(tempDiff||isNaN(tempDiff))&&(change=!0),diff[attr]=tempDiff/ms;break;case"colour":if(from[attr]===to[attr])break;change=!0;var colorsNormalized=colorNormalizer(from[attr],to[attr],R.getRGB);from[attr]=colorsNormalized[0];var toColour=colorsNormalized[1];if((void 0===toColour?"undefined":_typeof(toColour))===STRING)from[attr].toLowerCase()!==NONE?(from[attr]=R.getRGB(from[attr]),from[attr].opacity||(from[attr].opacity=1)):from[attr]={r:0,g:0,b:0,opacity:0},to[attr].toLowerCase()!==NONE?(toColour=R.getRGB(to[attr]),toColour.opacity||(toColour.opacity=1)):toColour={r:0,g:0,b:0,opacity:0},diff[attr]={r:(toColour.r-from[attr].r)/ms,g:(toColour.g-from[attr].g)/ms,b:(toColour.b-from[attr].b)/ms,opacity:(toColour.opacity-from[attr].opacity)/ms};else for(diff[attr]=[],i=0,ii=from[attr].length;i<ii;++i)0===i?diff[attr].push(toColour[0]):diff[attr].push({r:(toColour[i].r-from[attr][i].r)/ms,g:(toColour[i].g-from[attr][i].g)/ms,b:(toColour[i].b-from[attr][i].b)/ms,opacity:(toColour[i].opacity-from[attr][i].opacity)/ms});break;case"path":var toPath,pathes=path2curve(from[attr],to[attr]);for(configObject.smartMorph&&(pathes=pathNormalizer(pathes[0],pathes[1],configObject)),toPath=pathes[1],from[attr]=pathes[0],diff[attr]=[],i=0,ii=from[attr].length;i<ii;i++){diff[attr][i]=[0];var jj;jj=from[attr][i]?from[attr][i].length:0;for(var j=1;j<jj;j++)diff[attr][i][j]=(toPath[i][j]-from[attr][i][j])/ms,!change&&diff[attr][i][j]&&(change=!0)}break;case"transform":var _=element._,eq=equaliseTransform(_[attr],to[attr]);if(change=!0,eq)for(from[attr]=eq.from,to[attr]=eq.to,diff[attr]=[],diff[attr].real=!0,i=0,ii=from[attr].length;i<ii;i++)for(diff[attr][i]=[from[attr][i][0]],j=1,jj=from[attr][i].length;j<jj;j++)diff[attr][i][j]=(to[attr][i][j]-from[attr][i][j])/ms;else{var m=element.matrix||new Matrix,to2={_:{transform:_.transform},getBBox:function(){return element.getBBox(1)}};from[attr]=[m.a,m.b,m.c,m.d,m.e,m.f],extractTransform(to2,to[attr]),to[attr]=to2._.transform,diff[attr]=[(to2.matrix.a-m.a)/ms,(to2.matrix.b-m.b)/ms,(to2.matrix.c-m.c)/ms,(to2.matrix.d-m.d)/ms,(to2.matrix.e-m.e)/ms,(to2.matrix.f-m.f)/ms]}break;case"csv":var values=Str(params[attr])[SPLIT](separator),from2=Str(from[attr])[SPLIT](separator);if("clip-rect"===attr)for(from[attr]=from2,diff[attr]=[],i=from2.length;i--;)tempDiff=values[i]-from[attr][i],(tempDiff||isNaN(tempDiff))&&(change=!0),diff[attr][i]=tempDiff/ms;to[attr]=values;break;default:for(values=[][CONCAT](params[attr]),from2=[][CONCAT](from[attr]),diff[attr]=[],i=element.ca[attr].length;i--;)tempDiff=(values[i]||0)-(from2[i]||0),(tempDiff||isNaN(tempDiff))&&(change=!0),diff[attr][i]=tempDiff/ms}change||(delete from[attr],delete to[attr],delete params[attr],delete diff[attr])}else(R._availableAttrs[HAS](attr)||"text"===attr||element.ca[attr])&&(element.attr(attr,params[attr]),delete params[attr]);var easing=params.easing,easyeasy=R.easing_formulas[easing];if(!easyeasy)if((easyeasy=Str(easing).match(bezierrg))&&5===easyeasy.length){var curve=easyeasy;easyeasy=function(t){return CubicBezierAtTime(t,+curve[1],+curve[2],+curve[3],+curve[4],ms)}}else easyeasy=pipe;if(timestamp=params.start||anim.start||+new Date,element.e=e={anim:anim,percent:percent,timestamp:timestamp,start:timestamp+(anim.del||0),status:0,initstatus:status||0,stop:!1,ms:ms,easing:easyeasy,from:from,diff:diff,to:to,el:element,callback:params.callback,prev:prev,next:next,repeat:times||anim.times,origin:element.attr(),totalOrigin:totalOrigin,parentEl:parentEl,delayend:configObject&&configObject.end,delaystart:configObject&&configObject.start},animationElements.push(e),status&&!isInAnim&&!isInAnimSet&&(e.stop=!0,e.start=new Date-ms*status,1===animationElements.length))return animation();isInAnimSet&&(e.start=new Date-e.ms*status),1===animationElements.length&&(requestAnimFrame||R.getAnimFrameFn())(animation)}(0,_eve3["default"])("raphael.anim.start."+element.id,element,anim)}}}function executeAnimQueue(queue){for(var ob;ob=queue.deq();)ob=ob.executeOb,ob.hookFn&&ob.hookFn.call(ob.el),ob.el.attr(ob.attrs),ob.callback&&ob.callback.call(ob.el)}function stopAnimation(){for(var currPaper=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this,linkedPaper=void 0,i=0;i<animationElements.length;i++)(linkedPaper=animationElements[i].el.paper)&&linkedPaper!==currPaper||animationElements.splice(i--,1)}exports.__esModule=!0;var _R$_availableAttrs,_iterator=__webpack_require__(7),_iterator2=_interopRequireDefault(_iterator),_symbol=__webpack_require__(9),_symbol2=_interopRequireDefault(_symbol),_typeof="function"==typeof _symbol2["default"]&&"symbol"==typeof _iterator2["default"]?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof _symbol2["default"]&&obj.constructor===_symbol2["default"]&&obj!==_symbol2["default"].prototype?"symbol":typeof obj},_eve2=__webpack_require__(71),_eve3=_interopRequireDefault(_eve2),_raphael=__webpack_require__(10),_raphael2=_interopRequireDefault(_raphael),_win="undefined"!=typeof window?window:void 0!==global?global:null;R.upgrade="1.0.0",R.version="2.1.0",R.eve=_eve3["default"];var loaded,__data,E="",S=" ",HAS="hasOwnProperty",APPLY="apply",CONCAT="concat",NU="number",STRING="string",ARRAY="array",OBJECT="object",SPLIT="split",NONE="none",FUNCTION="function",rCheckRegex=/R/i,isIE=/trident/i.test(_win.navigator.userAgent),paramCounts={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},arraySplice=Array.prototype.splice,hasPrototypeBug=function(){return function(){}.hasOwnProperty("prototype")}(),g={doc:_win.document,win:_win},doc=g.doc,win=g.win,safePointerEventMapping=R.safePointerEventMapping={mouseover:"pointerover",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseout:"pointerout"},navigator=win.navigator,supportsTouch=R.supportsTouch="ontouchstart"in doc||navigator.maxTouchPoints||navigator.msMaxTouchPoints,supportsPointer=R.supportsPointer="onpointerover"in doc,isEdge=R.isEdge=/Edge/.test(navigator.userAgent),isIE11=R.isIE11=/trident/i.test(navigator.userAgent)&&/rv:11/i.test(navigator.userAgent)&&!win.opera,isFirefox=(R.isIE10=-1!==navigator.appVersion.indexOf("MSIE 10"),R.isFirefox=/Firefox/.test(navigator.userAgent)),isWindows=R.isWindows=/Windows/.test(navigator.userAgent),mStr="m",strM="M",strL="L",__params=[],charRegex=/[a-z]/i,pathStringBreakFn=function(a,b,c){var name=b.toLowerCase(),subArr=[],i=0;if(__params.length=0,c.replace(pathValues,function(a,b){b&&__params.push(+b)}),"r"===name)__data.push([b][CONCAT](__params));else if("z"===name)__data.push([b]);else if(__params.length>=paramCounts[name]){for(;i<__params.length;)i%paramCounts[name]?subArr.push(__params[i]):(subArr.length&&__data.push(subArr)&&(subArr=[]),subArr.push(b,__params[i])),i++;__data.push(subArr)}},CustomAttributes=function(){},Paper=(R.ca=R.customAttributes=CustomAttributes.prototype,function(){this.ca=this.customAttributes=new CustomAttributes,this._CustomAttributes=function(){},this._CustomAttributes.prototype=this.ca,this._elementsById={},this.id=R._oid++,(0,_eve3["default"])("raphael.new",this)}),paperproto=R.fn=Paper.prototype=R.prototype,events="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel dragstart dragmove dragend"[SPLIT](S),touchMap={dragstart:"touchstart",dragmove:"touchmove",dragend:"touchend"},Str=String,toFloat=win.parseFloat,toInt=win.parseInt,math=Math,mmax=math.max,mmin=math.min,abs=math.abs,pow=math.pow,mathCos=math.cos,mathSin=math.sin,mathSqrt=math.sqrt,round=math.round,PI=math.PI,deg2rad=PI/180,rad2deg=180/PI,lowerCase=Str.prototype.toLowerCase,upperCase=Str.prototype.toUpperCase,objectToString=Object.prototype.toString,separator=/[, ]+/,formatrg=/\{(\d+)\}/g,colourRegExp=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,bezierrg=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,commaSpaces=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,p2s=/,?([achlmqrstvxz]),?/gi,pathCommand=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,tCommand=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,pathValues=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,isnan={NaN:1,Infinity:1,"-Infinity":1},hsrg={hs:1,rg:1},availableAttrs=R._availableAttrs=(_R$_availableAttrs={"arrow-end":NONE,"arrow-start":NONE,blur:0,"clip-rect":"0 0 1e9 1e9","clip-path":E,cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"about:blank","letter-spacing":0,"line-height":12,"vertical-align":"middle",opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:E,stroke:"#000","stroke-dasharray":E,"stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",visibility:E,title:E,transform:E,rotation:0,width:0,x:0,y:0,"shape-rendering":"auto",alpha:NU,"font-stretch":"normal","alignment-baseline":"auto","baseline-shift":"auto","clip-rule":"nonzero","dominant-baseline":"auto","fill-rule":"nonzero",filter:NONE,"flood-color":"#000","flood-opacity":1,"font-size-adjust":NONE},_R$_availableAttrs["font-stretch"]="normal",_R$_availableAttrs["font-variant"]="normal",_R$_availableAttrs["kerning"]="auto",_R$_availableAttrs["lighting-color"]="white",_R$_availableAttrs["marker-end"]=NONE,_R$_availableAttrs["marker-mid"]=NONE,_R$_availableAttrs["marker-start"]=NONE,_R$_availableAttrs["mask"]=NONE,_R$_availableAttrs["pointer-events"]="visiblePainted",_R$_availableAttrs["stop-color"]="#000",_R$_availableAttrs["stop-opacity"]=1,_R$_availableAttrs["stroke-dashoffset"]=0,_R$_availableAttrs["text-decoration"]=NONE,_R$_availableAttrs["vector-effect"]=E,_R$_availableAttrs["visibility"]="visible",_R$_availableAttrs["word-spacing"]="normal",_R$_availableAttrs["writing-mode"]="lr-tb",_R$_availableAttrs),availableAnimAttrs=R._availableAnimAttrs={blur:NU,"clip-rect":"csv","clip-path":"path",cx:NU,cy:NU,fill:"colour","fill-opacity":NU,"font-size":NU,height:NU,opacity:NU,path:"path",r:NU,rx:NU,ry:NU,stroke:"colour","stroke-opacity":NU,"stroke-width":NU,transform:"transform",width:NU,x:NU,y:NU,color:"colour",borderColor:"colour",borderWidth:NU,alpha:NU,"text-bound":"text-bound"},eldata={},sortByNumber=function(a,b){return toFloat(a)-toFloat(b)},fun=function(){},pipe=function(x){return x},rectPath=R._rectPath=function(x,y,w,h,r){return r?[[strM,x+r,y],["l",w-2*r,0],["a",r,r,0,0,1,r,r],["l",0,h-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-w,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-h],["a",r,r,0,0,1,r,-r],["z"]]:[[strM,x,y],["l",w,0],["l",0,h],["l",-w,0],["z"]]},ellipsePath=function(x,y,rx,ry){return null==ry&&(ry=rx),[[strM,x,y],[mStr,0,-ry],["a",rx,ry,0,1,1,0,2*ry],["a",rx,ry,0,1,1,0,-2*ry],["z"]]},getPath=R._getPath={group:function(){return!1},path:function(el){return el.attr("path")},circle:function(el){var a=el.attrs;return ellipsePath(a.cx,a.cy,a.r)},ellipse:function(el){var a=el.attrs;return ellipsePath(a.cx,a.cy,a.rx,a.ry)},rect:function(el){var a=el.attrs;return rectPath(a.x,a.y,a.width,a.height,a.r)},image:function(el){var a=el.attrs;return rectPath(a.x,a.y,a.width,a.height)},text:function(el){var bbox=el._getBBox();return rectPath(bbox.x,bbox.y,bbox.width,bbox.height)}},mapPath=R.mapPath=function(path,matrix){if(!matrix)return path;var x,y,i,j,ii,jj,pathi;for(path=path2curve(path).slice(0),i=0,ii=path.length;i<ii;i++)for(pathi=path[i]=path[i].slice(0),j=1,jj=pathi.length;j<jj;j+=2)x=matrix.x(pathi[j],pathi[j+1]),y=matrix.y(pathi[j],pathi[j+1]),pathi[j]=x,pathi[j+1]=y;return path},lastArgIfGroup=R._lastArgIfGroup=function(args,clear){var last=args.length-1,arg=args[last];if(arg&&arg.constructor===R.el.constructor&&"group"===arg.type)return clear&&(args[last]=undefined,delete args[last],arraySplice.call(args,last,1)),arg},serializeArgs=R._serializeArgs=function(args){var pathString,attrs,i,ii,arg0=args[0];if(R.is(arg0,OBJECT)&&!R.is(arg0,ARRAY)&&"group"!==arg0.type)for(attrs=arg0,arg0.path&&(pathString=arg0.path)&&!R.is(pathString,STRING)&&!R.is(pathString[0],ARRAY)&&(pathString+=E),i=1,ii=arguments.length;i<ii;i+=2)attrs[arguments[i]]||(attrs[arguments[i]]=arguments[i+1]);else for(attrs={},i=1,ii=arguments.length;i<ii;i+=2)attrs[arguments[i]]=args[(i-1)/2]||arguments[i+1];return attrs},is=R.is=function(o,type){return"finite"===type?!isnan[HAS](+o):type===ARRAY?o instanceof Array:(type!==OBJECT||void 0!==o&&null!==o)&&("null"===type&&null===o||type===(void 0===o?"undefined":_typeof(o))&&null!==o||type===OBJECT&&o===Object(o)||type===ARRAY&&Array.isArray&&Array.isArray(o)||objectToString.call(o).slice(8,-1).toLowerCase()===type)},clone=R.clone=hasPrototypeBug?function(obj){if(Object(obj)!==obj)return obj;if(obj instanceof Function)return obj;var res=new obj.constructor;for(var key in obj)"prototype"!==key&&obj[HAS](key)&&(res[key]=clone(obj[key]));return res}:function(obj){if(Object(obj)!==obj)return obj;if(obj instanceof Function)return obj;var res=new obj.constructor;for(var key in obj)obj[HAS](key)&&(res[key]=clone(obj[key]));return res},Node=_win.Node;Node&&!Node.prototype.contains&&(Node.prototype.contains=function(el){for(;el=el.parentNode;)if(el===this)return!0;return!1}),R._g=g,R.merge=_raphael.merge,R.extend=_raphael2["default"],R.createUUID=function(uuidRegEx,uuidReplacer){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(uuidRegEx,uuidReplacer).toUpperCase()}}(/[xy]/g,function(c){var r=16*math.random()|0;return("x"===c?r:3&r|8).toString(16)}),R._radial_gradient=/^x?r(?:\(([^\)]*?)\))?/,R._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,R.getElementID=function(id){return"rr-"+id},PriorityQueue.prototype.isEmpty=function(){return 0===this.size()},PriorityQueue.prototype.peek=function(){return this.isEmpty()?null:this._elements[0]},PriorityQueue.prototype.deq=function(){var first=this.peek(),last=this._elements.pop(),size=this.size();if(0===size)return first;this._elements[0]=last;for(var current=0;current<size;){var largest=current,left=2*current+1,right=2*current+2;if(left<size&&this._compare(left,largest)>=0&&(largest=left),right<size&&this._compare(right,largest)>=0&&(largest=right),largest===current)break;this._swap(largest,current),current=largest}return first},PriorityQueue.prototype.enq=function(element){for(var size=this._elements.push(element),current=size-1;current>0;){var parent=Math.floor((current-1)/2);if(this._compare(current,parent)<=0)break;this._swap(parent,current),current=parent}return size},PriorityQueue.prototype.size=function(){return this._elements.length},PriorityQueue.prototype._compare=function(a,b){return this._comparator(this._elements[a],this._elements[b])},PriorityQueue.prototype._swap=function(a,b){var aux=this._elements[a];this._elements[a]=this._elements[b],this._elements[b]=aux},R.type=win.ENABLE_RED_CANVAS&&(win.CanvasRenderingContext2D||doc.createElement("canvas").getContext)?"CANVAS":win.SVGAngle||doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",R.svg=!((R.vml="VML"===R.type)||(R.canvas="CANVAS"===R.type)),R._Paper=Paper,R._id=0,R._oid=0,R.rad=function(deg){return deg%360*deg2rad},R.deg=function(rad){return rad*rad2deg%360};var _toHex=function(color){if(R.vml){var bod,trim=/^\s+|\s+$/g;try{var docum=new ActiveXObject("htmlfile");docum.write("<body>"),docum.close(),bod=docum.body}catch(e){bod=createPopup().document.body}var range=bod.createTextRange();_toHex=(0,_raphael.cacher)(function(color){try{bod.style.color=Str(color).replace(trim,E);var value=range.queryCommandValue("ForeColor");return value=(255&value)<<16|65280&value|(16711680&value)>>>16,"#"+("000000"+value.toString(16)).slice(-6)}catch(e){return NONE}})}else{var i=g.doc.createElement("i");i.title="Raphaël Colour Picker",i.style.display=NONE,g.doc.body.appendChild(i),_toHex=(0,_raphael.cacher)(function(color){return i.style.color=color,g.doc.defaultView.getComputedStyle(i,E).getPropertyValue("color")})}return _toHex(color)},hsbtoString=function(){return"hsb("+[this.h,this.s,this.b]+")"},hsltoString=function(){return"hsl("+[this.h,this.s,this.l]+")"},rgbtoString=function(){return this.hex},prepareRGB=function(r,g,b){if(null==g&&is(r,OBJECT)&&"r"in r&&"g"in r&&"b"in r&&(b=r.b,g=r.g,r=r.r),null==g&&is(r,STRING)){var clr=R.getRGB(r);r=clr.r,g=clr.g,b=clr.b}return(r>1||g>1||b>1)&&(r/=255,g/=255,b/=255),[r,g,b]},packageRGB=function(r,g,b,o){var rgb={r:r*=255,g:g*=255,b:b*=255,hex:R.rgb(r,g,b),toString:rgbtoString};return is(o,"finite")&&(rgb.opacity=o),rgb};R.color=function(clr){var rgb;return R.is(clr,OBJECT)&&"h"in clr&&"s"in clr&&"b"in clr?(rgb=R.hsb2rgb(clr),clr.r=rgb.r,clr.g=rgb.g,clr.b=rgb.b,clr.hex=rgb.hex):R.is(clr,OBJECT)&&"h"in clr&&"s"in clr&&"l"in clr?(rgb=R.hsl2rgb(clr),clr.r=rgb.r,clr.g=rgb.g,clr.b=rgb.b,clr.hex=rgb.hex):(R.is(clr,STRING)&&(clr=R.getRGB(clr)),R.is(clr,OBJECT)&&"r"in clr&&"g"in clr&&"b"in clr?(rgb=R.rgb2hsl(clr),clr.h=rgb.h,clr.s=rgb.s,clr.l=rgb.l,rgb=R.rgb2hsb(clr),clr.v=rgb.b):(clr={hex:NONE},clr.r=clr.g=clr.b=clr.h=clr.s=clr.v=clr.l=-1)),clr.toString=rgbtoString,clr},R.hsb2rgb=function(h,s,v,o){this.is(h,OBJECT)&&"h"in h&&"s"in h&&"b"in h&&(v=h.b,s=h.s,h=h.h,o=h.o),h*=360;var R,G,B,X,C;return h=h%360/60,C=v*s,X=C*(1-abs(h%2-1)),R=G=B=v-C,h=~~h,R+=[C,X,0,0,X,C][h],G+=[X,C,C,X,0,0][h],B+=[0,0,X,C,C,X][h],packageRGB(R,G,B,o)},R.hsl2rgb=function(h,s,l,o){this.is(h,OBJECT)&&"h"in h&&"s"in h&&"l"in h&&(l=h.l,s=h.s,h=h.h),(h>1||s>1||l>1)&&(h/=360,s/=100,l/=100),h*=360;var R,G,B,X,C;return h=h%360/60,C=2*s*(l<.5?l:1-l),X=C*(1-abs(h%2-1)),R=G=B=l-C/2,h=~~h,R+=[C,X,0,0,X,C][h],G+=[X,C,C,X,0,0][h],B+=[0,0,X,C,C,X][h],packageRGB(R,G,B,o)},R.rgb2hsb=function(r,g,b){b=prepareRGB(r,g,b),r=b[0],g=b[1],b=b[2];var H,S,V,C;return V=mmax(r,g,b),C=V-mmin(r,g,b),H=0===C?null:V===r?(g-b)/C:V===g?(b-r)/C+2:(r-g)/C+4,H=(H+360)%6*60/360,S=0===C?0:C/V,{h:H,s:S,b:V,toString:hsbtoString}},R.rgb2hsl=function(r,g,b){b=prepareRGB(r,g,b),r=b[0],g=b[1],b=b[2];var H,S,L,M,m,C;return M=mmax(r,g,b),m=mmin(r,g,b),C=M-m,H=0===C?null:M===r?(g-b)/C:M===g?(b-r)/C+2:(r-g)/C+4,H=(H+360)%6*60/360,L=(M+m)/2,S=0===C?0:L<.5?C/(2*L):C/(2-2*L),{h:H,s:S,l:L,toString:hsltoString}},R._path2string=function(){return this.join(",").replace(p2s,"$1")},R._cacher=_raphael.cacher,R.getRGB=(0,_raphael.cacher)(function(colour){var opacity,red,green,blue,t,values,rgb;return colour&&is(colour,OBJECT)&&"opacity"in colour&&(opacity=colour.opacity),!colour||(colour=Str(colour)).indexOf("-")+1?{r:-1,g:-1,b:-1,hex:NONE,error:1,toString:clrToString}:colour===NONE?{r:-1,g:-1,b:-1,hex:NONE,toString:clrToString}:(!(hsrg[HAS](colour.toLowerCase().substring(0,2))||"#"===colour.charAt())&&(colour=_toHex(colour)),(rgb=colour.match(colourRegExp))?(rgb[2]&&(blue=toInt(rgb[2].substring(5),16),green=toInt(rgb[2].substring(3,5),16),red=toInt(rgb[2].substring(1,3),16)),rgb[3]&&(blue=toInt((t=rgb[3].charAt(3))+t,16),green=toInt((t=rgb[3].charAt(2))+t,16),red=toInt((t=rgb[3].charAt(1))+t,16)),rgb[4]&&(values=rgb[4][SPLIT](commaSpaces),red=toFloat(values[0]),"%"===values[0].slice(-1)&&(red*=2.55),green=toFloat(values[1]),"%"===values[1].slice(-1)&&(green*=2.55),blue=toFloat(values[2]),"%"===values[2].slice(-1)&&(blue*=2.55),"rgba"===rgb[1].toLowerCase().slice(0,4)&&(opacity=toFloat(values[3])),values[3]&&"%"===values[3].slice(-1)&&(opacity/=100)),rgb[5]?(values=rgb[5][SPLIT](commaSpaces),red=toFloat(values[0]),"%"===values[0].slice(-1)&&(red*=2.55),green=toFloat(values[1]),"%"===values[1].slice(-1)&&(green*=2.55),blue=toFloat(values[2]),"%"===values[2].slice(-1)&&(blue*=2.55),("deg"===values[0].slice(-3)||"°"===values[0].slice(-1))&&(red/=360),"hsba"===rgb[1].toLowerCase().slice(0,4)&&(opacity=toFloat(values[3])),values[3]&&"%"===values[3].slice(-1)&&(opacity/=100),R.hsb2rgb(red,green,blue,opacity)):rgb[6]?(values=rgb[6][SPLIT](commaSpaces),red=toFloat(values[0]),"%"===values[0].slice(-1)&&(red*=2.55),green=toFloat(values[1]),"%"===values[1].slice(-1)&&(green*=2.55),blue=toFloat(values[2]),"%"===values[2].slice(-1)&&(blue*=2.55),("deg"===values[0].slice(-3)||"°"===values[0].slice(-1))&&(red/=360),"hsla"===rgb[1].toLowerCase().slice(0,4)&&(opacity=toFloat(values[3])),values[3]&&"%"===values[3].slice(-1)&&(opacity/=100),R.hsl2rgb(red,green,blue,opacity)):(rgb={r:red,g:green,b:blue,toString:clrToString},rgb.hex="#"+(16777216|blue|green<<8|red<<16).toString(16).slice(1),R.is(opacity,"finite")&&(rgb.opacity=opacity),rgb)):{r:-1,g:-1,b:-1,hex:NONE,error:1,toString:clrToString})},R),R.tintshade=(0,_raphael.cacher)(function(colour,percent){var tint,rgb=R.getRGB(colour),offset=255;return percent<0&&(percent*=-1,offset=0),percent>1&&(percent=1),tint=0===percent?rgb:{r:offset-(offset-rgb.r)*percent,g:offset-(offset-rgb.g)*percent,b:offset-(offset-rgb.b)*percent,toString:clrToString},tint.hex=R.rgb(tint.r,tint.g,tint.b),rgb.error&&(tint.error=rgb.error),"opacity"in rgb?(tint.rgba="rgba("+[tint.r,tint.g,tint.b,rgb.opacity].join(",")+")",tint.opacity=rgb.opacity):tint.rgba="rgb("+[tint.r,tint.g,tint.b].join(",")+")",tint},R),R.rgb=(0,_raphael.cacher)(function(r,g,b){return"#"+(16777216|b|g<<8|r<<16).toString(16).slice(1)}),R.sanitizePath=function(pathArg){var pathStr;return pathStr=pathArg.join?pathArg.join(","):pathArg,pathStr=rCheckRegex.test(pathStr)?R._pathToAbsolute(pathStr):pathStr.replace(p2s,"$1")},R.parsePathString=function(pathString){if(!pathString||!pathString.length)return null;var pth=paths(pathString);if(pth.arr)return pathClone(pth.arr);if(__data=void 0,R.is(pathString,ARRAY))if(pathString=Str(pathString).replace(/,?([A-Z]),?/g,",$1,").replace(/(^,?)|(,?$)/g,"").replace(/,,?/g,",").split(","),R.is(pathString[0],ARRAY))__data=pathClone(pathString);else{var i,pathI,noOfDataPoints,subPathArr=[],l=pathString.length;for(__data=[],i=0;i<l;i+=1)charRegex.test(pathString[i])?(subPathArr.length&&__data.push(subPathArr),pathI=pathString[i],subPathArr=[pathI],noOfDataPoints=paramCounts[pathI.toLowerCase()]):noOfDataPoints?(subPathArr.push(+pathString[i]),noOfDataPoints--):pathString[i].length&&(__data.push(subPathArr),subPathArr=[pathI].concat(+pathString[i]),noOfDataPoints=paramCounts[pathI.toLowerCase()]-1);__data.push(subPathArr)}return __data&&__data.length||(__data=[],Str(pathString).replace(pathCommand,pathStringBreakFn)),__data.toString=R._path2string,pth.arr=__data,pth.arr},R.parseTransformString=(0,_raphael.cacher)(function(TString){if(!TString)return null;var data=[];return R.is(TString,ARRAY)&&R.is(TString[0],ARRAY)&&(data=pathClone(TString)),data.length||Str(TString).replace(tCommand,function(a,b,c){var params=[];lowerCase.call(b);c.replace(pathValues,function(a,b){b&&params.push(+b)}),data.push([b][CONCAT](params))}),data.toString=R._path2string,data});var _pathCache={},paths=(0,_raphael.cacher)(function(){return{}},void 0,void 0,void 0,500,_pathCache,!0);R.findDotsAtSegment=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t){var t1=1-t,t13=pow(t1,3),t12=pow(t1,2),t2=t*t,t3=t2*t,x=t13*p1x+3*t12*t*c1x+3*t1*t*t*c2x+t3*p2x,y=t13*p1y+3*t12*t*c1y+3*t1*t*t*c2y+t3*p2y,mx=p1x+2*t*(c1x-p1x)+t2*(c2x-2*c1x+p1x),my=p1y+2*t*(c1y-p1y)+t2*(c2y-2*c1y+p1y),nx=c1x+2*t*(c2x-c1x)+t2*(p2x-2*c2x+c1x),ny=c1y+2*t*(c2y-c1y)+t2*(p2y-2*c2y+c1y),ax=t1*p1x+t*c1x,ay=t1*p1y+t*c1y,cx=t1*c2x+t*p2x,cy=t1*c2y+t*p2y,alpha=90-180*math.atan2(mx-nx,my-ny)/PI;return(mx>nx||my<ny)&&(alpha+=180),{x:x,y:y,m:{x:mx,y:my},n:{x:nx,y:ny},start:{x:ax,y:ay},end:{x:cx,y:cy},alpha:alpha}},R._removedFactory=function(methodname){return function(){(0,_eve3["default"])("raphael.log",null,"Raphaël: you are calling to method “"+methodname+"” of removed object",methodname)}};var pathDimensions=R.pathBBox=function(path){var pth=paths(path);if(!path)return{x:0,y:0,width:0,height:0,x2:0,y2:0};path=path2curve(path);for(var p,x=0,y=0,X=[],Y=[],i=0,ii=path.length;i<ii;i++)if(p=path[i],p[0]===strM)x=p[1],y=p[2],X.push(x),Y.push(y);else{var dim=curveDim(x,y,p[1],p[2],p[3],p[4],p[5],p[6]);X=X[CONCAT](dim.min.x,dim.max.x),Y=Y[CONCAT](dim.min.y,dim.max.y),x=p[5],y=p[6]}var xmin=mmin[APPLY](0,X),ymin=mmin[APPLY](0,Y),xmax=mmax[APPLY](0,X),ymax=mmax[APPLY](0,Y),bb={x:xmin,y:ymin,x2:xmax,y2:ymax,width:xmax-xmin,height:ymax-ymin};return pth.bbox=clone(bb),bb},pathClone=function(pathArray){var res=clone(pathArray);return res.toString=R._path2string,res},pathToAbsolute=R._pathToAbsolute=function(pathArray){var res,pth=paths(pathArray);if(!pth.abs){if(R.is(pathArray,ARRAY)&&R.is(pathArray&&pathArray[0],ARRAY)||(pathArray=R.parsePathString(pathArray)),!pathArray||!pathArray.length)return res=[[strM,0,0]],res.toString=R._path2string,res;var x=0,y=0,mx=0,my=0,start=0;res=[],pathArray[0][0]===strM&&(x=+pathArray[0][1],y=+pathArray[0][2],mx=x,my=y,start++,res[0]=[strM,x,y]);for(var r,pa,crz=3===pathArray.length&&pathArray[0][0]===strM&&"R"===pathArray[1][0].toUpperCase()&&"Z"===pathArray[2][0].toUpperCase(),i=start,ii=pathArray.length;i<ii;i++){if(res.push(r=[]),pa=pathArray[i],pa[0]!=upperCase.call(pa[0]))switch(r[0]=upperCase.call(pa[0]),r[0]){case"A":r[1]=pa[1],r[2]=pa[2],r[3]=pa[3],r[4]=pa[4],r[5]=pa[5],r[6]=+(pa[6]+x),r[7]=+(pa[7]+y);break;case"V":r[1]=+pa[1]+y;break;case"H":r[1]=+pa[1]+x;break;case"R":for(var dots=[x,y][CONCAT](pa.slice(1)),j=2,jj=dots.length;j<jj;j++)dots[j]=+dots[j]+x,dots[++j]=+dots[j]+y;res.pop(),res=res[CONCAT](catmullRom2bezier(dots,crz));break;case"M":mx=+pa[1]+x,my=+pa[2]+y;default:for(j=1,jj=pa.length;j<jj;j++)r[j]=+pa[j]+(j%2?x:y),j%2?x=r[j]:y=r[j]}else if("R"===pa[0])dots=[x,y][CONCAT](pa.slice(1)),res.pop(),res=res[CONCAT](catmullRom2bezier(dots,crz)),r=["R"][CONCAT](pa.slice(-2));else for(var k=0,kk=pa.length;k<kk;k++)r[k]=pa[k];switch(r[0]){case"Z":x=mx,y=my;break;case"H":x=r[1];break;case"V":y=r[1];break;case"M":mx=r[r.length-2],my=r[r.length-1];default:x=r[r.length-2],y=r[r.length-1]}}res.toString=R._path2string,pth.abs=res}return pathClone(pth.abs)},l2c=function(x1,y1,x2,y2){return[x1,y1,x2,y2,x2,y2]},q2c=function(x1,y1,ax,ay,x2,y2){return[1/3*x1+2/3*ax,1/3*y1+2/3*ay,1/3*x2+2/3*ax,1/3*y2+2/3*ay,x2,y2]},a2c=function a2c(x1,y1,rx,ry,angle,large_arc_flag,sweep_flag,x2,y2,recursive){if(sweep_flag=sweep_flag&&+sweep_flag,large_arc_flag=large_arc_flag&&+large_arc_flag,0===rx||0===ry)return l2c(x1,y1,x2,y2);var xy,_120=120*PI/180,rad=deg2rad*(+angle||0),res=[],rotate=(0,_raphael.cacher)(function(x,y,rad){return{x:x*mathCos(rad)-y*mathSin(rad),y:x*mathSin(rad)+y*mathCos(rad)}});if(recursive)f1=recursive[0],f2=recursive[1],cx=recursive[2],cy=recursive[3];else{xy=rotate(x1,y1,-rad),x1=xy.x,y1=xy.y,xy=rotate(x2,y2,-rad),x2=xy.x,y2=xy.y;var x=(mathCos(deg2rad*angle),mathSin(deg2rad*angle),(x1-x2)/2),y=(y1-y2)/2,h=x*x/(rx*rx)+y*y/(ry*ry);h>1&&(h=mathSqrt(h),rx*=h,ry*=h);var rx2=rx*rx,ry2=ry*ry,k=(large_arc_flag===sweep_flag?-1:1)*mathSqrt(abs((rx2*ry2-rx2*y*y-ry2*x*x)/(rx2*y*y+ry2*x*x))),cx=k*rx*y/ry+(x1+x2)/2,cy=k*-ry*x/rx+(y1+y2)/2,f1=math.asin(((y1-cy)/ry).toFixed(9)),f2=math.asin(((y2-cy)/ry).toFixed(9));f1=x1<cx?PI-f1:f1,f2=x2<cx?PI-f2:f2,f1<0&&(f1=2*PI+f1),f2<0&&(f2=2*PI+f2),sweep_flag&&f1>f2&&(f1-=2*PI),!sweep_flag&&f2>f1&&(f2-=2*PI)}var df=f2-f1;if(abs(df)>_120){var f2old=f2,x2old=x2,y2old=y2;f2=f1+_120*(sweep_flag&&f2>f1?1:-1),x2=cx+rx*mathCos(f2),y2=cy+ry*mathSin(f2),res=a2c(x2,y2,rx,ry,angle,0,sweep_flag,x2old,y2old,[f2,f2old,cx,cy])}df=f2-f1;var c1=mathCos(f1),s1=mathSin(f1),c2=mathCos(f2),s2=mathSin(f2),t=math.tan(df/4),hx=4/3*rx*t,hy=4/3*ry*t,m1=[x1,y1],m2=[x1+hx*s1,y1-hy*c1],m3=[x2+hx*s2,y2-hy*c2],m4=[x2,y2];if(m2[0]=2*m1[0]-m2[0],m2[1]=2*m1[1]-m2[1],recursive)return[m2,m3,m4][CONCAT](res);res=[m2,m3,m4][CONCAT](res).join()[SPLIT](",");for(var newres=[],i=0,ii=res.length;i<ii;i++)newres[i]=i%2?rotate(res[i-1],res[i],rad).y:rotate(res[i],res[i+1],rad).x;return newres},findDotAtSegment=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t){var t1=1-t;return{x:pow(t1,3)*p1x+3*pow(t1,2)*t*c1x+3*t1*t*t*c2x+pow(t,3)*p2x,y:pow(t1,3)*p1y+3*pow(t1,2)*t*c1y+3*t1*t*t*c2y+pow(t,3)*p2y}},curveDim=(0,_raphael.cacher)(function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y){var dot,a=c2x-2*c1x+p1x-(p2x-2*c2x+c1x),b=2*(c1x-p1x)-2*(c2x-c1x),c=p1x-c1x,t1=(-b+mathSqrt(b*b-4*a*c))/2/a,t2=(-b-mathSqrt(b*b-4*a*c))/2/a,y=[p1y,p2y],x=[p1x,p2x];return abs(t1)>"1e12"&&(t1=.5),abs(t2)>"1e12"&&(t2=.5),t1>0&&t1<1&&(dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t1),x.push(dot.x),y.push(dot.y)),t2>0&&t2<1&&(dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t2),x.push(dot.x),y.push(dot.y)),a=c2y-2*c1y+p1y-(p2y-2*c2y+c1y),b=2*(c1y-p1y)-2*(c2y-c1y),c=p1y-c1y,t1=(-b+mathSqrt(b*b-4*a*c))/2/a,t2=(-b-mathSqrt(b*b-4*a*c))/2/a,abs(t1)>"1e12"&&(t1=.5),abs(t2)>"1e12"&&(t2=.5),t1>0&&t1<1&&(dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t1),x.push(dot.x),y.push(dot.y)),t2>0&&t2<1&&(dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t2),x.push(dot.x),y.push(dot.y)),{min:{x:mmin[APPLY](0,x),y:mmin[APPLY](0,y)},max:{x:mmax[APPLY](0,x),y:mmax[APPLY](0,y)}}}),path2curve=R._path2curve=(0,_raphael.cacher)(function(path,path2){var pth=!path2&&paths(path);if(!path2&&pth.curve)return pathClone(pth.curve);for(var p=pathToAbsolute(path),p2=path2&&pathToAbsolute(path2),attrs={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},attrs2={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},processPath=(function(path,d){var nx,ny;if(!path)return["C",d.x,d.y,d.x,d.y,d.x,d.y];switch(!(path[0]in{T:1,Q:1})&&(d.qx=d.qy=null),path[0]){case"M":d.X=path[1],d.Y=path[2];break;case"A":path=["C"][CONCAT](a2c[APPLY](0,[d.x,d.y][CONCAT](path.slice(1))));break;case"S":nx=d.x+(d.x-(d.bx||d.x)),ny=d.y+(d.y-(d.by||d.y)),path=["C",nx,ny][CONCAT](path.slice(1));break;case"T":d.qx=d.x+(d.x-(d.qx||d.x)),d.qy=d.y+(d.y-(d.qy||d.y)),path=["C"][CONCAT](q2c(d.x,d.y,d.qx,d.qy,path[1],path[2]));break;case"Q":d.qx=path[1],d.qy=path[2],path=["C"][CONCAT](q2c(d.x,d.y,path[1],path[2],path[3],path[4]));break;case"L":path=["C"][CONCAT](l2c(d.x,d.y,path[1],path[2]));break;case"H":path=["C"][CONCAT](l2c(d.x,d.y,path[1],d.y));break;case"V":path=["C"][CONCAT](l2c(d.x,d.y,d.x,path[1]));break;case"Z":path=["C"][CONCAT](l2c(d.x,d.y,d.X,d.Y))}return path}),fixArc=function(pp,i){if(pp[i].length>7){pp[i].shift();for(var pi=pp[i];pi.length;)pp.splice(i++,0,["C"][CONCAT](pi.splice(0,6)));pp.splice(i,1),ii=mmax(p.length,p2&&p2.length||0)}},fixM=function(path1,path2,a1,a2,i){path1&&path2&&path1[i][0]===strM&&path2[i][0]!=strM&&!i&&(path2.splice(i,0,[strM,a2.x,a2.y]),a1.bx=0,a1.by=0,a1.x=path1[i][1],a1.y=path1[i][2],ii=mmax(p.length,p2&&p2.length||0))},i=0,ii=mmax(p.length,p2&&p2.length||0);i<ii;i++){p[i]=processPath(p[i],attrs),fixArc(p,i),p2&&(p2[i]=processPath(p2[i],attrs2)),p2&&fixArc(p2,i),fixM(p,p2,attrs,attrs2,i),fixM(p2,p,attrs2,attrs,i);var seg=p[i],seg2=p2&&p2[i],seglen=seg.length,seg2len=p2&&seg2.length;attrs.x=seg[seglen-2],attrs.y=seg[seglen-1],attrs.bx=toFloat(seg[seglen-4])||attrs.x,attrs.by=toFloat(seg[seglen-3])||attrs.y,attrs2.bx=p2&&(toFloat(seg2[seg2len-4])||attrs2.x),attrs2.by=p2&&(toFloat(seg2[seg2len-3])||attrs2.y),attrs2.x=p2&&seg2[seg2len-2],attrs2.y=p2&&seg2[seg2len-1]}return p2||(pth.curve=pathClone(p)),p2?[p,p2]:p},null,pathClone),tear=(R._parseDots=(0,_raphael.cacher)(function(gradient){for(var dots=[],i=0,ii=gradient.length;i<ii;i++){var dot={},par=gradient[i].match(/^([^:]*):?([\d\.]*)/);if(dot.color=R.getRGB(par[1]),dot.color.error)return null;dot.opacity=dot.color.opacity,dot.color=dot.color.hex,par[2]&&(dot.offset=par[2]+"%"),dots.push(dot)}for(i=1,ii=dots.length-1;i<ii;i++)if(!dots[i].offset){for(var start=toFloat(dots[i-1].offset||0),end=0,j=i+1;j<ii;j++)if(dots[j].offset){end=dots[j].offset;break}end||(end=100,j=ii),end=toFloat(end);for(var d=(end-start)/(j-i+1);i<j;i++)start+=d,dots[i].offset=start+"%"}return dots}),R._tear=function(el,paper){el===paper.top&&(paper.top=el.prev),el===paper.bottom&&(paper.bottom=el.next),el.next&&(el.next.prev=el.prev),el.prev&&(el.prev.next=el.next)}),extractTransform=(R._tofront=function(el,paper){return paper.top!==el&&(tear(el,paper),el.next=null,el.prev=paper.top,paper.top.next=el,paper.top=el,!0)},R._toback=function(el,paper){return paper.bottom!==el&&(tear(el,paper),el.next=paper.bottom,el.prev=null,paper.bottom.prev=el,paper.bottom=el,!0)},R._insertafter=function(el,el2,paper,paper2){tear(el,paper),el.parent=paper2,el2===paper2.top&&(paper2.top=el),el2.next&&(el2.next.prev=el),el.next=el2.next,el.prev=el2,el2.next=el},R._insertbefore=function(el,el2,paper,paper2){tear(el,paper),el.parent=paper2,el2===paper2.bottom&&(paper2.bottom=el),el2.prev&&(el2.prev.next=el),el.prev=el2.prev,el2.prev=el,el.next=el2},R._extractTransform=function(el,tstr){if(null==tstr)return el._.transform;tstr=Str(tstr).replace(/\.{3}|\u2026/g,el._.transform||E);var tdata=R.parseTransformString(tstr),deg=0,dx=0,dy=0,sx=1,sy=1,_=el._,m=new Matrix;if(_.transform=tdata||[],tdata)for(var i=0,ii=tdata.length;i<ii;i++){var x1,y1,x2,y2,bb,t=tdata[i],tlen=t.length,command=Str(t[0]).toLowerCase(),absolute=t[0]!=command,inver=absolute?m.invert():0;"t"===command&&3===tlen?absolute?(x1=inver.x(0,0),y1=inver.y(0,0),x2=inver.x(t[1],t[2]),y2=inver.y(t[1],t[2]),m.translate(x2-x1,y2-y1)):m.translate(t[1],t[2]):"r"===command?2===tlen?(bb=_.bb||(_.bb=el.getBBox(1)),m.rotate(t[1],bb.x+bb.width/2,bb.y+bb.height/2),deg+=t[1]):4===tlen&&(absolute?(x2=inver.x(t[2],t[3]),y2=inver.y(t[2],t[3]),m.rotate(t[1],x2,y2)):m.rotate(t[1],t[2],t[3]),deg+=t[1]):"s"===command?2===tlen||3===tlen?(bb=_.bb||(_.bb=el.getBBox(1)),m.scale(t[1],t[tlen-1],bb.x+bb.width/2,bb.y+bb.height/2),sx*=t[1],sy*=t[tlen-1]):5===tlen&&(absolute?(x2=inver.x(t[3],t[4]),y2=inver.y(t[3],t[4]),m.scale(t[1],t[2],x2,y2)):m.scale(t[1],t[2],t[3],t[4]),sx*=t[1],sy*=t[2]):command===mStr&&7===tlen&&m.add(t[1],t[2],t[3],t[4],t[5],t[6]),_.dirtyT=1,el.matrix=m}el.matrix=m,_.sx=sx,_.sy=sy,_.deg=deg,_.dx=dx=m.e,_.dy=dy=m.f,1===sx&&1===sy&&!deg&&_.bbox?(_.bbox.x+=+dx,_.bbox.y+=+dy):_.dirtyT=1}),getEmpty=function(item){var l=item[0];switch(l.toLowerCase()){case"t":return[l,0,0];case"m":return[l,1,0,0,1,0,0];case"r":return 4===item.length?[l,0,item[2],item[3]]:[l,0];case"s":return 5===item.length?[l,1,1,item[3],item[4]]:3===item.length?[l,1,1]:[l,1]}},equaliseTransform=R._equaliseTransform=function(t1,t2){t2=Str(t2).replace(/\.{3}|\u2026/g,t1),t1=R.parseTransformString(t1)||[],t2=R.parseTransformString(t2)||[];for(var j,jj,tt1,tt2,maxlength=mmax(t1.length,t2.length),from=[],to=[],i=0;i<maxlength;i++){if(tt1=t1[i]||getEmpty(t2[i]),tt2=t2[i]||getEmpty(tt1),tt1[0]!=tt2[0]||"r"===tt1[0].toLowerCase()&&(tt1[2]!=tt2[2]||tt1[3]!=tt2[3])||"s"===tt1[0].toLowerCase()&&(tt1[3]!=tt2[3]||tt1[4]!=tt2[4]))return;for(from[i]=[],to[i]=[],j=0,jj=mmax(tt1.length,tt2.length);j<jj;j++)j in tt1&&(from[i][j]=tt1[j]),j in tt2&&(to[i][j]=tt2[j])}return{from:from,to:to}};R._getContainer=function(x,y,w,h){var container;if(null!=(container=null!=h||R.is(x,OBJECT)?x:g.doc.getElementById(x)))return container.tagName?null==y?{container:container,width:container.style.pixelWidth||container.offsetWidth,height:container.style.pixelHeight||container.offsetHeight}:{container:container,width:y,height:w}:{container:1,x:x,y:y,width:w,height:h}},R._engine={},R.path2curve=path2curve,R.matrix=function(a,b,c,d,e,f){return new Matrix(a,b,c,d,e,f)},function(matrixproto){function norm(a){return a[0]*a[0]+a[1]*a[1]}function normalize(a){var mag=mathSqrt(norm(a));a[0]&&(a[0]/=mag),a[1]&&(a[1]/=mag)}matrixproto.add=function(a,b,c,d,e,f){var x,y,z,res,out=[[],[],[]],m=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],matrix=[[a,c,e],[b,d,f],[0,0,1]];for(a&&a instanceof Matrix&&(matrix=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]),x=0;x<3;x++)for(y=0;y<3;y++){for(res=0,z=0;z<3;z++)res+=m[x][z]*matrix[z][y];out[x][y]=res}this.a=out[0][0],this.b=out[1][0],this.c=out[0][1],this.d=out[1][1],this.e=out[0][2],this.f=out[1][2]},matrixproto.invert=function(){var me=this,x=me.a*me.d-me.b*me.c;return new Matrix(me.d/x,-me.b/x,-me.c/x,me.a/x,(me.c*me.f-me.d*me.e)/x,(me.b*me.e-me.a*me.f)/x)},matrixproto.clone=function(){return new Matrix(this.a,this.b,this.c,this.d,this.e,this.f)},matrixproto.translate=function(x,y){this.add(1,0,0,1,x,y)},matrixproto.scale=function(x,y,cx,cy){null==y&&(y=x),(cx||cy)&&this.add(1,0,0,1,cx,cy),this.add(x,0,0,y,0,0),(cx||cy)&&this.add(1,0,0,1,-cx,-cy)},matrixproto.rotate=function(a,x,y){a=R.rad(a),x=x||0,y=y||0;var cos=+mathCos(a).toFixed(9),sin=+mathSin(a).toFixed(9);this.add(cos,sin,-sin,cos,x,y),this.add(1,0,0,1,-x,-y)},matrixproto.x=function(x,y){return x*this.a+y*this.c+this.e},matrixproto.y=function(x,y){return x*this.b+y*this.d+this.f},matrixproto.get=function(i){return+this[Str.fromCharCode(97+i)].toFixed(4)},matrixproto.toString=function(){return R.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},matrixproto.toMatrixString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},matrixproto.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},matrixproto.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},matrixproto.split=function(){var out={};out.dx=this.e,out.dy=this.f;var row=[[this.a,this.c],[this.b,this.d]];out.scalex=mathSqrt(norm(row[0])),normalize(row[0]),out.shear=row[0][0]*row[1][0]+row[0][1]*row[1][1],row[1]=[row[1][0]-row[0][0]*out.shear,row[1][1]-row[0][1]*out.shear],out.scaley=mathSqrt(norm(row[1])),normalize(row[1]),out.shear/=out.scaley;var sin=-row[0][1],cos=row[1][1];return cos<0?(out.rotate=R.deg(math.acos(cos)),sin<0&&(out.rotate=360-out.rotate)):out.rotate=R.deg(math.asin(sin)),out.isSimple=!(+out.shear.toFixed(9)||out.scalex.toFixed(9)!==out.scaley.toFixed(9)&&out.rotate),out.isSuperSimple=!+out.shear.toFixed(9)&&out.scalex.toFixed(9)===out.scaley.toFixed(9)&&!out.rotate,out.noRotation=!+out.shear.toFixed(9)&&!out.rotate,out},matrixproto.toTransformString=function(shorter){var s=shorter||this[SPLIT]();return s.isSimple?(s.scalex=+s.scalex.toFixed(4),s.scaley=+s.scaley.toFixed(4),s.rotate=+s.rotate.toFixed(4),(s.dx||s.dy?"t"+[s.dx,s.dy]:E)+(1!=s.scalex||1!=s.scaley?"s"+[s.scalex,s.scaley,0,0]:E)+(s.rotate?"r"+[s.rotate,0,0]:E)):mStr+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(Matrix.prototype);var navigator=win.navigator,version=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);"Apple Computer, Inc."===navigator.vendor&&(version&&version[1]<4||"iP"===navigator.platform.slice(0,2))||"Google Inc."===navigator.vendor&&version&&version[1]<8?paperproto.safari=function(){var rect=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:NONE});return setTimeout(function(){rect.remove()}),!0}:paperproto.safari=fun;for(var preventDefault=function(){this.returnValue=!1},preventTouch=function(){return this.originalEvent.preventDefault()},stopPropagation=function(){this.cancelBubble=!0},stopTouch=function(){return this.originalEvent.stopPropagation()},eventCopyList={stopPropagation:"fn",stopImmediatePropagation:"fn",preventDefault:"fn",type:!0,clientX:!0,clientY:!0,pageX:!0,pageY:!0,bubbles:!0,cancelable:!0,touches:!0,target:!0,originalTarget:!0,srcElement:!0,relatedTarget:!0,fromElement:!0,changedTouches:!0,layerX:!0,layerY:!0,deltaX:!0,deltaY:!0},makeSelectiveCopy=R.makeSelectiveCopy=function(target,source){for(var _eve in eventCopyList)!function(_eve){target[_eve]="fn"===eventCopyList[_eve]?function(){return function(){source[_eve]()}}():source[_eve]}(_eve);target.originalEvent=source,target.type||(target.type=source.originalEvent&&source.originalEvent.type)},addEvent=R.addEvent=function(){return g.doc.addEventListener?function(obj,type,fn,element){var f,args,realName=supportsPointer?safePointerEventMapping[type]:supportsTouch?touchMap[type]:type;return isIE||(args={capture:!1}),element.dragFn&&("pointerup"===realName?realName="mouseup":void 0===realName&&(realName="touchend")),f=function(e){var target,scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft;if(supportsTouch&&touchMap[type])for(var i=0,ii=e.targetTouches&&e.targetTouches.length;i<ii;i++)if((target=e.targetTouches[i].target)===obj||"tspan"===target.nodeName&&target.parentNode===obj){var olde=e;e=e.targetTouches[i],e.originalEvent=olde,e.preventDefault=preventTouch,e.stopPropagation=stopTouch;break}return fn.call(element,e,e.clientX+scrollX,e.clientY+scrollY)},obj.addEventListener(realName,f,args),function(){return obj.removeEventListener(realName,f,args),!0}}:g.doc.attachEvent?function(obj,type,fn,element){var f=function(e){e=e||g.win.event;var scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,x=e.clientX+scrollX,y=e.clientY+scrollY;return e.preventDefault=e.preventDefault||preventDefault,e.stopPropagation=e.stopPropagation||stopPropagation,fn.call(element,e,x,y)};return obj.attachEvent("on"+type,f),function(){return obj.detachEvent("on"+type,f),!0}}:void 0}(),dragMove=function(e){var data,scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,x=(void 0!==e.clientX?e.clientX:e.changedTouches&&e.changedTouches[0].clientX)+scrollX,y=(void 0!==e.clientY?e.clientY:e.changedTouches&&e.changedTouches[0].clientY)+scrollY,dummyEve={},el=this,j=el.dragInfo.onmove.length;if(!(el.dragStartFn&&!(Math.abs(x-el._drag.x)>=2.5||Math.abs(y-el._drag.y)>=2.5)||el._blockDrag||supportsPointer&&supportsTouch&&!e.isPrimary))for(;j--;){if(supportsTouch&&"touchmove"===e.type)for(var touch,i=e.touches.length;i--;)if(touch=e.touches[i],touch.identifier===el._drag.id){x=touch.clientX+scrollX,y=touch.clientY+scrollY;break}if(!el.removed){if(el.dragStartFn&&(el.dragStartFn(j),el.dragStartFn=undefined,el.dragInfo._dragmove=!0),g.win.opera){var node=R._engine.getNode(el),next=node.nextSibling,parent=node.parentNode,display=node.style.display;parent.removeChild(node),node.style.display=NONE,node.style.display=display,next?parent.insertBefore(node,next):parent.appendChild(node)}makeSelectiveCopy(dummyEve,e),data=dummyEve.data=[x-el._drag.x,y-el._drag.y,x,y],(0,_eve3["default"])("raphael.drag.move."+el.id,el.dragInfo.move_scope[j]||el,dummyEve,data)}}},dragUp=function dragUp(e){var el=this,dragInfo=el.dragInfo,i=dragInfo.onend.length;if(el.dragInfo._dragmove)for(;i--;)el._drag={},(0,_eve3["default"])("raphael.drag.end."+el.id,dragInfo.end_scope[i]||dragInfo.start_scope[i]||dragInfo.move_scope[i]||el,e);el.dragInfo._dragmove=undefined,supportsTouch&&!(isIE11||isEdge)&&!(isWindows&&isFirefox)&&(el.paper.canvas.style["touch-action"]="auto"),R.undragmove.call(el,dragMove),R.undragend.call(el,dragUp),R.unmousemove.call(el,dragMove).unmouseup.call(el,dragUp)},elproto=R.el={},i=events.length;i--;)!function(eventName){R[eventName]=elproto[eventName]=function(fn,scope,tragetElem){return R.is(fn,FUNCTION)&&(this.events=this.events||[],this.events.push({name:eventName,f:fn,unbind:addEvent(tragetElem||this.shape||this.node||g.doc,eventName,fn,scope||this)})),this},R["un"+eventName]=elproto["un"+eventName]=function(fn){for(var events=this.events||[],l=events.length;l--;)if(events[l].name===eventName&&events[l].f===fn)return events[l].unbind(),events.splice(l,1),!events.length&&delete this.events,this;return this}}(events[i]);elproto.data=function(key,value){var data=eldata[this.id]=eldata[this.id]||{};if(1===arguments.length){if(R.is(key,OBJECT)){for(var i in key)key[HAS](i)&&this.data(i,key[i]);return this}return R.stopPartialEventPropagation||(0,_eve3["default"])("raphael.data.get."+this.id,this,data[key],key),data[key]}return data[key]=value,R.stopPartialEventPropagation||(0,_eve3["default"])("raphael.data.set."+this.id,this,value,key),this},elproto.removeData=function(key){return null==key?delete eldata[this.id]:eldata[this.id]&&delete eldata[this.id][key],this},elproto.dbclick=function(handler,context){var elem=this,eventType=void 0,isSingleFinger=function(event){return!event.touches||event.touches&&1===event.touches.length},fn=function(e){supportsPointer&&!e.isPrimary||(e&&e.preventDefault(),isSingleFinger(e)&&(elem._tappedOnce?(handler.call(context||elem,e),elem._tappedOnce=!1):(elem._tappedOnce=!0,setTimeout(function(){elem._tappedOnce=!1},500))))};eventType=supportsPointer?"pointerup":R.supportsTouch?"touchstart":"mouseup",elem.node.addEventListener(eventType,fn),R.storeHandlers(elem,handler,fn)},elproto.undbclick=function(handler){var elem=this,derivedHandler=removeHandlers(elem,handler);derivedHandler&&elem.node.removeEventListener(supportsPointer?"pointerup":R.supportsTouch?"touchstart":"mouseup",derivedHandler)},elproto.getData=function(){return clone(eldata[this.id]||{})};var downables=[],mouseDown=function(){this.untrack=addEvent(g.doc,"mouseup",mouseUp,this)},mouseUp=function(){return this.untrack(),this.untrack=null,this.fn&&this.fn.apply(this.scope||this.el,arguments)};elproto.mouseup=function(fn,scope,track,tragetElem){return track?(downables.push(track={el:this,fn:fn,scope:scope}),track.unbind=addEvent(this.shape||this.node||g.doc,"mousedown",mouseDown,track),this):R.mouseup.apply(this,[fn,scope,tragetElem])},elproto.unmouseup=function(fn){for(var undowned,i=downables.length;i--;)downables[i].el===this&&downables[i].fn===fn&&(undowned=downables[i],undowned.unbind(),undowned.untrack&&undowned.untrack(),downables.splice(i,1));return undowned?this:R.unmouseup.apply(this,arguments)},elproto.hover=function(f_in,f_out,scope_in,scope_out){return this.on("fc-mouseover",f_in,scope_in).on("fc-mouseout",f_out,scope_out)},elproto.unhover=function(f_in,f_out){return this.off("fc-mouseover",f_in).off("fc-mouseout",f_out)},elproto.fcclick=function(handler,context){var eventType,fn,x1,y1,content,elem=this,node=elem.node,downFn=function(e){elem._lastEventTriggered="mousedown",x1=void 0!==e.clientX?e.clientX:e.changedTouches&&e.changedTouches[0].clientX,y1=void 0!==e.clientY?e.clientY:e.changedTouches&&e.changedTouches[0].clientY},moveFn=function(e){var x2=void 0!==e.clientX?e.clientX:e.changedTouches&&e.changedTouches[0].clientX,y2=void 0!==e.clientY?e.clientY:e.changedTouches&&e.changedTouches[0].clientY;(Math.abs(x1-x2)>=2.5||Math.abs(y1-y2)>=2.5)&&(elem._lastEventTriggered=undefined)};if(elem._clickStoreActual||(elem._clickStoreActual=[]),elem._clickStoreDerived||(elem._clickStoreDerived=[]),!elem._clickHandlerHelper){content=!supportsPointer&&R.supportsTouch?{touchstart:function(){elem._lastEventTriggered="touchstart",elem._lastEventTriggeredAt=(new Date).getTime()},touchmove:moveFn}:supportsPointer&&R.supportsTouch?{pointerdown:downFn,pointermove:moveFn}:{mousedown:downFn,mousemove:moveFn};for(eventType in content)node.addEventListener?node.addEventListener(eventType,content[eventType]):node.attachEvent("on"+eventType,content[eventType]);elem._clickHandlerHelper=content}return!supportsPointer&&R.supportsTouch?(eventType="touchend",fn=function(e){"touchstart"===elem._lastEventTriggered&&(new Date).getTime()-elem._lastEventTriggeredAt<=500&&setTimeout(function(){handler.call(context||elem,e)},0)}):(eventType="click",fn=function(e){"mousedown"===elem._lastEventTriggered&&handler.call(context||elem,e)}),node.addEventListener?node.addEventListener(eventType,fn):node.attachEvent("on"+eventType,fn),elem._clickStoreDerived.push(fn),elem._clickStoreActual.push(handler),elem},elproto.fcunclick=function(handler){var i,eventType,elem=this,node=elem.node,clickHandlerHelper=elem._clickHandlerHelper,clickStoreActual=elem._clickStoreActual,clickStoreDerived=elem._clickStoreDerived;if(clickStoreActual){for(i=clickStoreActual.length-1;i>=0;i--)clickStoreActual[i]===handler&&(node.removeEventListener?node.removeEventListener(!supportsPointer&&R.supportsTouch?"touchend":"click",clickStoreDerived[i]):node.detachEvent("onclick",clickStoreDerived[i]),clickStoreActual.splice(i,1),clickStoreDerived.splice(i,1));if(!clickStoreActual.length){for(eventType in clickHandlerHelper)node.removeEventListener?node.removeEventListener(eventType,clickHandlerHelper[eventType]):node.detachEvent("on"+eventType,clickHandlerHelper[eventType]);elem._clickHandlerHelper=undefined}}return elem};var draggable=[];elproto.drag=function(onmove,onstart,onend,move_scope,start_scope,end_scope){var element=this,dragInfo=element.dragInfo||(element.dragInfo={onmove:[],onstart:[],onend:[],move_scope:[],start_scope:[],end_scope:[]});return onmove&&dragInfo.onmove.push(onmove)&&dragInfo.move_scope.push(move_scope),onstart&&dragInfo.onstart.push(onstart)&&dragInfo.start_scope.push(start_scope),onend&&dragInfo.onend.push(onend)&&dragInfo.end_scope.push(end_scope),element.dragFn=element.dragFn||function(e){var data,i,j,k,ii,jj,kk,dummydragMoveFn,_dragX,_dragY,scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,dummyEve={},dragInfo=element.dragInfo,args=[dragMove,void 0,g.doc];if(!supportsPointer||e.isPrimary){for(supportsTouch&&(supportsPointer?isIE11||isEdge||isWindows&&isFirefox||(element.paper.canvas.style["touch-action"]="none"):e.preventDefault()),element._drag.x=_dragX=(void 0!==e.clientX?e.clientX:e.changedTouches&&e.changedTouches[0].clientX)+scrollX,element._drag.y=_dragY=(void 0!==e.clientY?e.clientY:e.changedTouches&&e.changedTouches[0].clientY)+scrollY,element._drag.id=e.identifier,supportsTouch&&!supportsPointer?R.dragmove.apply(element,args):R.mousemove.apply(element,args).mouseup.call(element,dragUp,void 0,void 0,g.doc),supportsTouch&&R.dragend.call(element,dragUp,void 0,g.doc),makeSelectiveCopy(dummyEve,e),data=dummyEve.data=[_dragX,_dragY],i=0,ii=dragInfo.onstart.length;i<ii;i++)_eve3["default"].on("raphael.drag.start."+element.id,dragInfo.onstart[i]);for(j=0,jj=dragInfo.onmove.length;j<jj;j++)_eve3["default"].on("raphael.drag.move."+element.id,dragInfo.onmove[j]);for(k=0,kk=dragInfo.onend.length;k<kk;k++)_eve3["default"].on("raphael.drag.end."+element.id,dragInfo.onend[k]);ii&&!jj&&(dummydragMoveFn=function(){element.undragmove(),dragInfo.onmove=[]},dragInfo.onmove.push(dummydragMoveFn),_eve3["default"].on("raphael.drag.end."+element.id,dummydragMoveFn)),element.dragStartFn=function(i){(0,_eve3["default"])("raphael.drag.start."+element.id,element.dragInfo.start_scope[i]||element.dragInfo.move_scope[i]||element,dummyEve,data)}}},element._drag={},draggable.push({el:element,start:element.dragFn,onstart:onstart,onmove:onmove,onend:onend}),onstart&&!element.startHandlerAttached&&(supportsTouch&&!supportsPointer?element.dragstart(element.dragFn):element.mousedown(element.dragFn),element.startHandlerAttached=!0),element},elproto.onDragOver=function(f){f?_eve3["default"].on("raphael.drag.over."+this.id,f):_eve3["default"].unbind("raphael.drag.over."+this.id)},elproto.undrag=function(){for(var elem=this,i=draggable.length;i--;)draggable[i].el===elem&&(elem.unmousedown(elem.dragFn),draggable.splice(i,1),_eve3["default"].unbind("raphael.drag.*."+elem.id),elem.dragInfo=undefined,elem.dragFn=undefined,elem.startHandlerAttached=undefined);R.unmousemove.call(elem,dragMove).unmouseup.call(elem,dragUp),R.undragmove.call(elem,dragMove),R.undragend.call(elem,dragUp),delete elem._drag},elproto.undragstart=function(handler){var i,ii,elem=this,dragInfo=elem.dragInfo,onstart=dragInfo&&dragInfo.onstart,start_scope=dragInfo&&dragInfo.start_scope;if(handler)for(i=0,ii=onstart&&onstart.length;i<ii;i++)if(onstart[i]===handler){onstart.splice(i,1),start_scope.splice(i,1),_eve3["default"].unbind("raphael.drag.start."+this.id,handler);break}onstart&&onstart.length&&handler||(R.undragstart.call(elem,elem.dragFn),R.unmousedown.call(elem,elem.dragFn),_eve3["default"].unbind("raphael.drag.start."+this.id),elem.startHandlerAttached=!1,dragInfo&&(dragInfo.onstart=[],dragInfo.start_scope=[]))},elproto.undragmove=function(handler){var i,ii,elem=this,dragInfo=elem.dragInfo,onmove=dragInfo&&dragInfo.onmove,move_scope=dragInfo&&dragInfo.move_scope;if(handler)for(i=0,ii=onmove&&onmove.length;i<ii;i++)if(onmove[i]===handler){onmove.splice(i,1),move_scope.splice(i,1),_eve3["default"].unbind("raphael.drag.move."+this.id,handler);break}onmove&&onmove.length&&handler||(R.undragmove.call(elem,dragMove),R.unmousemove.call(elem,dragMove),dragInfo&&(dragInfo.onmove=[],dragInfo.move_scope=[]),_eve3["default"].unbind("raphael.drag.move."+this.id))},elproto.undragend=function(handler){var i,ii,elem=this,dragInfo=elem.dragInfo,onend=dragInfo&&dragInfo.onend,end_scope=dragInfo&&dragInfo.end_scope;if(handler)for(i=0,ii=onend&&onend.length;i<ii;i++)if(onend[i]===handler){onend.splice(i,1),end_scope.splice(i,1),_eve3["default"].unbind("raphael.drag.end."+this.id,handler);break}onend&&onend.length&&handler||(R.undragend.call(elem,dragUp),R.unmouseup.call(elem,dragUp),dragInfo&&(dragInfo.onend=[],dragInfo.end_scope=[]),_eve3["default"].unbind("raphael.drag.end."+this.id))},elproto.follow=function(el,callback,stalk){return el.removed||el.constructor!==R.el.constructor?this:(el.followers.push({el:this,stalk:stalk={before:"insertBefore",after:"insertAfter"}[stalk],cb:callback}),stalk&&this[stalk](el),this)},elproto.unfollow=function(el){if(el.removed||el.constructor!==R.el.constructor)return this;for(var i=0,ii=el.followers.length;i<ii;i++)if(el.followers[i].el===this){el.followers.splice(i,1);break}return this},paperproto.hide=function(){var paper=this;return paper.canvas.style.visibility="hidden",paper},paperproto.show=function(){var paper=this;return paper.canvas.style.visibility=E,paper},paperproto.group=function(){var paper=this,args=(0,_raphael.getArrayCopy)(arguments),group=lastArgIfGroup(args,!0),out=R._engine.group(paper,args[0],group,!!args[1]);return paper.__set__&&paper.__set__.push(out),paper._elementsById[out.id]=out},paperproto.circle=function(){var paper=this,args=(0,_raphael.getArrayCopy)(arguments),group=lastArgIfGroup(args,!0),attrs=paper._addDefAttribs()?serializeArgs(args,"cx",0,"cy",0,"r",0,"fill",NONE,"stroke","#000"):serializeArgs(args),out=R._engine.circle(paper,attrs,group);return paper.__set__&&paper.__set__.push(out),paper._elementsById[out.id]=out},paperproto.rect=function(){var paper=this,args=(0,_raphael.getArrayCopy)(arguments),group=lastArgIfGroup(args,!0),attrs=paper._addDefAttribs()?serializeArgs(args,"x",0,"y",0,"width",0,"height",0,"r",0,"fill",NONE,"stroke","#000"):serializeArgs(args),out=R._engine.rect(paper,attrs,group);return paper.__set__&&paper.__set__.push(out),paper._elementsById[out.id]=out},paperproto.ellipse=function(){var paper=this,args=(0,_raphael.getArrayCopy)(arguments),group=lastArgIfGroup(args,!0),attrs=paper._addDefAttribs()?serializeArgs(args,"x",0,"y",0,"rx",0,"ry",0,"fill",NONE,"stroke","#000"):serializeArgs(args),out=R._engine.ellipse(this,attrs,group);return paper.__set__&&paper.__set__.push(out),paper._elementsById[out.id]=out},paperproto.path=function(){var paper=this,args=(0,_raphael.getArrayCopy)(arguments),group=lastArgIfGroup(args,!0),paperConfig=paper.config,capStyle=paperConfig&&paperConfig["stroke-linecap"]||"butt",attrs=paper._addDefAttribs()?serializeArgs(args,"path",E,"fill",NONE,"stroke","#000","stroke-linecap",capStyle):serializeArgs(args),out=R._engine.path(paper,attrs,group);return paper.__set__&&paper.__set__.push(out),paper._elementsById[out.id]=out},paperproto.image=function(){var paper=this,args=(0,_raphael.getArrayCopy)(arguments),group=lastArgIfGroup(args,!0),attrs=paper._addDefAttribs()?serializeArgs(args,"x",0,"y",0,"width",0,"height",0):serializeArgs(args),out=R._engine.image(paper,attrs,group);return paper.__set__&&paper.__set__.push(out),paper._elementsById[out.id]=out},paperproto.text=function(){var paper=this,args=(0,_raphael.getArrayCopy)(arguments),group=lastArgIfGroup(args,!0),attrs=paper._addDefAttribs()?serializeArgs(args,"x",0,"y",0,"text",E,"stroke",NONE,"fill","#000","text-anchor","middle","vertical-align","middle"):serializeArgs(args),out=R._engine.text(paper,attrs,group,args[1]);return paper.__set__&&paper.__set__.push(out),paper._elementsById[out.id]=out},paperproto._addDefAttribs=function(){return!(R.svg&&this.config&&this.config.noDefaultAttribs)},paperproto.setConfig=function(key,value){var paper=this;return key!==undefined&&value!==undefined&&(paper.config=paper.config||{},paper.config[key]=value),paper.config},paperproto._createDOMNodes=function(parentElem,elementObj,returnObj){var ele,i,len,attrKey,paper=this,attr={},createNode=R._createNode,tagName=elementObj.tagName,children=elementObj.children||[];!returnObj&&(returnObj={});for(attrKey in elementObj)"tagName"!==attrKey&&"children"!==attrKey&&(attr[attrKey]=elementObj[attrKey]);if(!attr.id&&(attr.id=R.getElementID(R.createUUID())),!paper.canvas.getElementById(attr.id)&&tagName)for(ele=parentElem.appendChild(createNode(tagName,attr)),returnObj.element=ele,returnObj.id=attr.id,len=children.length,len>0&&(returnObj.children=[]),i=0;i<len;i++)returnObj.children[i]={},paper._createDOMNodes(ele,children[i],returnObj.children[i]);return returnObj},paperproto.addDefs=function(elemObj){if(R.svg){var key,paper=this,returnObj={},defs=paper.defs;for(key in elemObj)returnObj[key]={},paper._createDOMNodes(defs,elemObj[key],returnObj[key]);return returnObj}},paperproto.setSize=function(width,height){return R._engine.setSize.call(this,width,height)},paperproto.setDimension=function(paramsObj,height){var width,paper=this;(void 0===paramsObj?"undefined":_typeof(paramsObj))===OBJECT?(width=paramsObj.width,height=paramsObj.height,paper.setSize(paramsObj.width,paramsObj.height)):(width=paramsObj,paper.setSize(width,height))},paperproto.attr=function(name){var element=this;return null==name?{width:element.width,height:element.height}:R.is(name,STRING)?element[name]:(element.setDimension(name),element)},paperproto.status=function(anim,value){return elproto.status.call(this,anim,value)},paperproto.animateWith=function(el,anim,params,ms,easing,callback,configObject){return elproto.animateWith.call(this,el,anim,params,ms,easing,callback,configObject)},paperproto.animate=function(params,ms,easing,callback){return elproto.animate.call(this,params,ms,easing,callback)},paperproto.setViewBox=function(x,y,w,h,fit){return R._engine.setViewBox.call(this,x,y,w,h,fit)},paperproto.getById=function(id){return this._elementsById[id]||null},paperproto.top=paperproto.bottom=null,paperproto.raphael=R,elproto.getBBox=function(isWithoutTransform){if(this.removed)return{};var _=this._;return isWithoutTransform?(!_.dirty&&_.bboxwt||(this.realPath=getPath[this.type](this),_.bboxwt=pathDimensions(this.realPath),_.bboxwt.toString=x_y_w_h,_.dirty=0),_.bboxwt):((_.dirty||_.dirtyT||!_.bbox)&&(!_.dirty&&this.realPath||(_.bboxwt=0,this.realPath=getPath[this.type](this)),_.bbox=pathDimensions(mapPath(this.realPath,this.matrix)),_.bbox.toString=x_y_w_h,_.dirty=_.dirtyT=0),_.bbox)},elproto.clone=function(attrObj,group){if(this.removed)return null;var key,out,o=this,attr=o.attr();if(attrObj){for(key in attrObj)attr[key]=attrObj[key];out=o.paper[o.type](attr,group)}else out=o.paper[o.type]().attr(attr);return o.__set__&&o.__set__.push(out),out};var getPointAtSegmentLength=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,length){return null==length?bezlen(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y):R.findDotsAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,getTatLen(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,length))},getLengthFactory=function(istotal,subpath){return function(path,length,onlystart){path=path2curve(path);for(var x,y,p,l,point,sp=E,subpaths={},len=0,i=0,ii=path.length;i<ii;i++){if(p=path[i],p[0]===strM)x=+p[1],y=+p[2];else{if(l=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6]),len+l>length){if(subpath&&!subpaths.start){if(point=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6],length-len),sp+=["C"+point.start.x,point.start.y,point.m.x,point.m.y,point.x,point.y],onlystart)return sp;subpaths.start=sp,sp=[strM+point.x,point.y+"C"+point.n.x,point.n.y,point.end.x,point.end.y,p[5],p[6]].join(),len+=l,x=+p[5],y=+p[6];continue}if(!istotal&&!subpath)return point=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6],length-len),{x:point.x,y:point.y,alpha:point.alpha}}len+=l,x=+p[5],y=+p[6]}sp+=p.shift()+p}return subpaths.end=sp,point=istotal?len:subpath?subpaths:R.findDotsAtSegment(x,y,p[0],p[1],p[2],p[3],p[4],p[5],1),point.alpha&&(point={x:point.x,y:point.y,alpha:point.alpha}),point}},getTotalLength=getLengthFactory(1),getPointAtLength=getLengthFactory();getLengthFactory(0,1);R.getTotalLength=getTotalLength,R.getPointAtLength=getPointAtLength,elproto.getTotalLength=function(){if("path"==this.type)return this.node.getTotalLength?this.node.getTotalLength():getTotalLength(this.attrs.path)},elproto.getPointAtLength=function(length){if("path"==this.type)return getPointAtLength(this.attrs.path,length)};var ef=R.easing_formulas={linear:function(n){return n},"<":function(n){return pow(n,1.7)},">":function(n){return pow(n,.48)},"<>":function(n){var q=.48-n/1.04,Q=mathSqrt(.1734+q*q),x=Q-q,X=pow(abs(x),1/3)*(x<0?-1:1),y=-Q-q,Y=pow(abs(y),1/3)*(y<0?-1:1),t=X+Y+.5;return 3*(1-t)*t*t+t*t*t},backIn:function(n){var s=1.70158;return n*n*((s+1)*n-s)},backOut:function(n){n-=1;var s=1.70158;return n*n*((s+1)*n+s)+1},elastic:function(n){return n===!!n?n:pow(2,-10*n)*mathSin(2*PI*(n-.075)/.3)+1},bounce:function(n){var l,s=7.5625,p=2.75;return n<1/p?l=s*n*n:n<2/p?(n-=1.5/p,l=s*n*n+.75):n<2.5/p?(n-=2.25/p,l=s*n*n+.9375):(n-=2.625/p,l=s*n*n+.984375),l},oneBounceOut:function(n){return n<=.9?1.33*ef.easeIn(n):1.2-n/5},elasticOnce:function(n){return n===!!n?n:Math.pow(2,-10*n)*Math.sin((n-.225)*(2*Math.PI)/.9)+1},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};ef.easeIn=ef["ease-in"]=ef["<"],ef.easeOut=ef["ease-out"]=ef[">"],ef.easeInOut=ef["ease-in-out"]=ef["<>"],ef["back-in"]=ef.backIn,ef["back-out"]=ef.backOut;var requestAnimFrame,animationElements=[],animation=function animation(){for(var tmpOpacity,radial,Now=+new Date,l=0,deqArr=[],i=0,ll=0;l<animationElements.length;l++){var e=animationElements[l];if(!(e.el.removed||e.paused||e.parentEl&&e.parentEl.e&&e.parentEl.e.paused)){for(var now,origms,key,time=Now-e.start,ms=e.ms,easing=e.easing,from=e.from,diff=e.diff,to=e.to,that=(e.t,e.el),set={},init={},executeEvent=!R.stopPartialEventPropagation,i=0,peekVal=e.el&&e.el.animElements&&e.el.animElements.peek();peekVal&&peekVal.pos<=time/ms;)deqArr.push(e.el.animElements.deq()),peekVal=e.el.animElements.peek();if(e.initstatus?(time=(e.initstatus*e.anim.top-e.prev)/(e.percent-e.prev)*ms,e.status=e.initstatus,delete e.initstatus,e.stop&&(delete e.el,animationElements.splice(l--,1))):e.status=(e.prev+(e.percent-e.prev)*(time/ms))/e.anim.top,origms=ms,e.parentEl&&e.parentEl.animElements?(ms=e.delayend-e.delaystart,time=e.parentEl.cPos-e.delaystart):e.el.animElements&&(e.el.cPos=time/ms),!(time<0))if(time<ms){var pos=easing(time/ms);ms=origms;for(var attr in from)if(from[HAS](attr)){switch(availableAnimAttrs[attr]){case"number":now=+from[attr]+pos*ms*diff[attr];break;case"colour":if(diff[attr].length){for(now=[],i=0,ii=from[attr].length;i<ii;++i)0===i?from[attr].isRadial||diff[attr].isRadial?(radial="xr(",radial+=from[attr][0].f1*(1-pos)+diff[attr][0].f1*pos||E,radial+=",",radial+=from[attr][0].f2*(1-pos)+diff[attr][0].f2*pos||E,radial+=",",radial+=100*(from[attr][0].f3*(1-pos)+diff[attr][0].f3*pos)||E,radial+="%,",radial+=from[attr][0].f4*(1-pos)+diff[attr][0].f4*pos||E,radial+=",",radial+=from[attr][0].f5*(1-pos)+diff[attr][0].f5*pos,radial+=",",radial+=from[attr][0].f6,radial+=")",now.push(radial)):(now.push(from[attr][i]*(1-pos)+pos*diff[attr][i]),now[0]<=0&&(now[0]+=360)):now.push("rgba("+[upto255(round(from[attr][i].r+pos*ms*diff[attr][i].r)),upto255(round(from[attr][i].g+pos*ms*diff[attr][i].g)),upto255(round(from[attr][i].b+pos*ms*diff[attr][i].b)),from[attr][i].opacity+pos*ms*diff[attr][i].opacity].join(",")+"):"+from[attr][i].position);now=now.join("-"),(from[attr].isRadial||diff[attr].isRadial)&&(now=now.replace("-",E))}else tmpOpacity=from[attr].opacity+pos*ms*diff[attr].opacity,isNaN(tmpOpacity)&&(tmpOpacity=1),now="rgba("+[upto255(round(from[attr].r+pos*ms*diff[attr].r)),upto255(round(from[attr].g+pos*ms*diff[attr].g)),upto255(round(from[attr].b+pos*ms*diff[attr].b)),tmpOpacity].join(",")+")";break;case"path":now=[];for(var i=0,ii=from[attr].length;i<ii;i++){now[i]=[from[attr][i][0]];var jj;jj=from[attr][i]?from[attr][i].length:0;for(var j=1;j<jj;j++)now[i][j]=(+from[attr][i][j]+pos*ms*diff[attr][i][j]).toFixed(4);now[i]=now[i].join(S)}now=now.join(S);break;case"transform":if(diff[attr].real)for(now=[],i=0,ii=from[attr].length;i<ii;i++)for(now[i]=[from[attr][i][0]],j=1,jj=from[attr][i].length;j<jj;j++)now[i][j]=from[attr][i][j]+pos*ms*diff[attr][i][j];else{var get=function(i){return+from[attr][i]+pos*ms*diff[attr][i]};now=[[mStr,get(0),get(1),get(2),get(3),get(4),get(5)]]}break;case"csv":if("clip-rect"===attr)for(now=[],i=4;i--;)now[i]=+from[attr][i]+pos*ms*diff[attr][i];break;case"text-bound":now=[][CONCAT](from[attr]);break;default:var from2=[][CONCAT](from[attr]);for(now=[],i=that.ca[attr].length;i--;)now[i]=+from2[i]+pos*ms*diff[attr][i]}set[attr]=now}that.attr(set),executeEvent&&function(id,that,anim){setTimeout(function(){(0,_eve3["default"])("raphael.anim.frame."+id,that,anim)})}(that.id,that,e.anim)}else{if(function(f,el,a){setTimeout(function(){executeEvent&&(0,_eve3["default"])("raphael.anim.frame."+el.id,el,a),executeEvent&&(0,_eve3["default"])("raphael.anim.finish."+el.id,el,a),R.is(f,FUNCTION)&&f.call(el)})}(e.callback,that,e.anim),that.attr(to),delete e.el,animationElements.splice(l--,1),e.repeat>1&&!e.next){for(key in to)to[HAS](key)&&(init[key]=e.totalOrigin[key]);e.el.attr(init),runAnimation(e.anim,e.el,e.anim.percents[0],null,e.totalOrigin,e.repeat-1)}e.next&&!e.stop&&runAnimation(e.anim,e.el,e.next,null,e.totalOrigin,e.repeat)}}}for(R.svg&&that&&that.paper&&that.paper.safari(),l=0,ll=deqArr.length;l<ll;++l)R.getInstantAnimFrameFn()(function(l){return function(){runAnimation.apply(null,deqArr[l].params)}}(l));animationElements.length&&(requestAnimFrame||R.getAnimFrameFn())(animation)},upto255=function(color){return color>255?255:color<0?0:color},checkPercentage=function(num){return num>1&&(num=1),num<0&&(num=0),num};R.getAnimFrameFn=function(){return requestAnimFrame=R.requestAnimFrame||_win.webkitRequestAnimationFrame||_win.mozRequestAnimationFrame||_win.oRequestAnimationFrame||_win.msRequestAnimationFrame||function(callback){setTimeout(callback,16)}},R.getInstantAnimFrameFn=function(){return R.instantRequestAnimFrame||_win.webkitRequestAnimationFrame||_win.mozRequestAnimationFrame||_win.oRequestAnimationFrame||_win.msRequestAnimationFrame||function(callback){setTimeout(callback,16)}},elproto.animateWith=function(el,anim,params,ms,easing,callback,configObject){var key,element=this,refOb={};configObject=configObject||{};for(key in configObject)configObject.hasOwnProperty(key)&&(refOb[key]=configObject[key]);if(configObject=refOb,element.removed)return callback&&callback.call(element),element;if(0===ms)return R.is(callback,FUNCTION)&&setTimeout(function(){callback.call(element)},0),element.attr(params);var a=params instanceof Animation?params:R.animation(params,ms,easing,callback);configObject.start=checkPercentage(configObject.start||0),configObject.end=checkPercentage(configObject.end||1),configObject.start>=configObject.end&&(configObject.start=configObject.end),!configObject.from&&configObject.start>.01?(el.animElements=el.animElements||new PriorityQueue(function(a,b){return b.pos-a.pos}),el.animElements.enq({pos:configObject.start,attr:configObject.start===configObject.end,params:[a,element,a.percents[0],null,element.attr(),undefined,el,{start:configObject.start,end:configObject.end,smartMorph:configObject.smartMorph,hookFn:configObject.hookFn},params],executeOb:{el:this,attrs:params,callback:callback,hookFn:configObject.hookFn}})):runAnimation(a,element,a.percents[0],null,element.attr(),undefined,el,configObject);for(var i=0,ii=animationElements.length;i<ii;i++)if(animationElements[i].anim===anim&&animationElements[i].el===el){animationElements[ii-1].start=animationElements[i].start;break}return element},elproto.onAnimation=function(f){return f?_eve3["default"].on("raphael.anim.frame."+this.id,f):_eve3["default"].unbind("raphael.anim.frame."+this.id),this},Animation.prototype.delay=function(delay){var a=new Animation(this.anim,this.ms);return a.times=this.times,a.del=+delay||0,a},Animation.prototype.repeat=function(times){var a=new Animation(this.anim,this.ms);return a.del=this.del,a.times=math.floor(mmax(times,0))||1,a};var converToRadialIfOneRadial=function converToRadialIfOneRadial(a,b,end){var angle=0;a.isRadial&&!b.isRadial&&(angle+=+b[0],b[0]={f1:0,f2:0,f3:0,f4:0,f5:0,f6:E},b.isRadial=!0),end||converToRadialIfOneRadial(b,a,!0)};R.animation=function(params,ms,easing,callback,stopPartialEventPropagation){if(params instanceof Animation)return params;!R.is(easing,FUNCTION)&&easing||(callback=callback||easing||null,easing=null),!R.stopPartialEventPropagation&&(R.stopPartialEventPropagation=stopPartialEventPropagation),params=Object(params),ms=+ms||0;var json,attr,p={};for(attr in params)params[HAS](attr)&&toFloat(attr)!=attr&&toFloat(attr)+"%"!=attr&&(json=!0,p[attr]=params[attr]);return callback&&(json=!0),json?(easing&&(p.easing=easing),callback&&(p.callback=callback),new Animation({100:p},ms)):new Animation(params,ms)},elproto.animate=function(params,ms,easing,callback){var element=this;if(element.removed)return callback&&callback.call(element),element;var anim=params instanceof Animation?params:R.animation(params,ms,easing,callback);return runAnimation(anim,element,anim.percents[0],null,element.attr()),element},elproto.status=function(anim,value){var len,e,out=[],i=0;if(null!=value)return runAnimation(anim,this,-1,mmin(value,1)),this;for(len=animationElements.length;i<len;i++)if(e=animationElements[i],e.el.id===this.id&&(!anim||e.anim===anim)){if(anim)return e.status;out.push({anim:e.anim,status:e.status})}return anim?0:out},elproto.pause=function(anim,pauseChildAnimation){var e,i,now=+new Date;for(i=0;i<animationElements.length;i++)e=animationElements[i],!(e.el.id===this.id||pauseChildAnimation&&e.parentEl&&e.parentEl.e.el&&e.parentEl.e.el.id===this.id)||anim&&e.anim!==anim||!1!==(0,_eve3["default"])("raphael.anim.pause."+this.id,this,e.anim)&&(e.paused=!0,e.pauseStart=now);return this},elproto.resume=function(anim,resumeChildAnimation){var e,i,now=+new Date;for(i=0;i<animationElements.length;i++)e=animationElements[i],!(e.el.id===this.id||resumeChildAnimation&&e.parentEl&&e.parentEl.e.el&&e.parentEl.e.el.id===this.id)||anim&&e.anim!==anim||!1!==(0,_eve3["default"])("raphael.anim.resume."+this.id,this,e.anim)&&(delete e.paused,e.el.status(e.anim,e.status),e.pauseEnd=now,e.start+=(e.parentEl&&e.parentEl.e.pauseEnd||e.pauseEnd)-(e.parentEl&&e.parentEl.e.pauseStart||e.pauseStart)||0);return this},elproto.stop=function(anim,stopChildAnimation,jumpToEnd){var e,i,ele;if(stopChildAnimation)for(i=animationElements.length-1;i>=0;i--)e=animationElements[i],!(e.el.id===this.id||e.parentEl&&e.parentEl.id===this.id)||anim&&animationElements[i].anim!==anim||(ele=e.el,jumpToEnd&&ele.attr(e.to),e.callback&&e.callback.call(ele),delete ele.e,delete e.el,animationElements.splice(i,1));else for(var i=0;i<animationElements.length;i++)e=animationElements[i],e.el.id!==this.id||anim&&e.anim!==anim||!1!==(0,_eve3["default"])("raphael.anim.stop."+this.id,this,e.anim)&&animationElements.splice(i--,1);return this.animElements&&executeAnimQueue(this.animElements),this},_eve3["default"].on("raphael.remove",stopAnimation),_eve3["default"].on("raphael.clear",stopAnimation),elproto.toString=function(){return"Raphaël’s object"},elproto.toFront=function(){if(this.removed)return this;var follower,i,ii,o=this,thisNode=R._engine.getNode(o),parent=o.parent,followers=o.followers;for(R._tofront(o,parent)&&parent.canvas.appendChild(thisNode),i=0,ii=followers.length;i<ii;i++)(follower=followers[i]).stalk&&follower.el[follower.stalk](o);return o},elproto.toBack=function(){if(this.removed)return this;var follower,i,ii,o=this,thisNode=R._engine.getNode(o),parent=o.parent,followers=o.followers;for(R._toback(o,parent)&&parent.canvas.insertBefore(thisNode,parent.canvas.firstChild),i=0,ii=followers.length;i<ii;i++)(follower=followers[i]).stalk&&follower.el[follower.stalk](o);return o},elproto.insertAfter=function(element){if(this.removed)return this;var follower,i,ii,o=this,thisNode=R._engine.getNode(o),thatNode=R._engine.getLastNode(element),parentNode=element.parent.canvas,followers=o.followers;for(thatNode.nextSibling?parentNode.insertBefore(thisNode,thatNode.nextSibling):parentNode.appendChild(thisNode),R._insertafter(o,element,o.parent,element.parent),i=0,ii=followers.length;i<ii;i++)(follower=followers[i]).stalk&&follower.el[follower.stalk](element);return o},elproto.insertBefore=function(element){if(this.removed)return this;var follower,i,ii,o=this,thisNode=R._engine.getNode(o),thatNode=R._engine.getNode(element),followers=o.followers;for(element.parent.canvas.insertBefore(thisNode,thatNode),R._insertbefore(o,element,o.parent,element.parent),o.parent=element.parent,i=0,ii=followers.length;i<ii;i++)(follower=followers[i]).stalk&&follower.el[follower.stalk](element);return this},elproto.appendChild=function(element){if(this.removed||"group"!==this.type)return this;var follower,thatNode,i,ii,group=this,followers=group.followers;if(element.parent===group)return element.toFront(),group;for(thatNode=R._engine.getNode(element),R._tear(element,element.parent),group.canvas.appendChild(thatNode),element.parent=group,!group.bottom&&(group.bottom=element),element.prev=group.top,element.next=null,group.top&&(group.top.next=element),group.top=element,i=0,ii=followers.length;i<ii;i++)(follower=followers[i]).stalk&&follower.el[follower.stalk](element);return group},elproto.appendTo=function(group){return group.appendChild(this)},elproto.removeChild=function(element){if(this.removed||"group"!==this.type||element.parent!==this)return this;var o=this,thatNode=R._engine.getNode(element),paper=o.paper;return R._tear(element,o),paper.canvas.appendChild(thatNode),o.parent=paper,!paper.bottom&&(paper.bottom=o),o.prev=paper.top,paper.top&&(paper.top.next=o),paper.top=o,o.next=null,o},R.format=function(token,params){var arg=(0,_raphael.getArrayCopy)(arguments),args=R.is(params,ARRAY)?[0][CONCAT](params):arg;return token&&R.is(token,STRING)&&args.length-1&&(token=token.replace(formatrg,function(str,i){return null==args[++i]?E:args[i]})),token||E};var crispFixer=R.vml&&.5||0;R.crispBound=(0,_raphael.cacher)(function(x,y,w,h,s){var normalizer,at={};return x=x||0,y=y||0,w=w||0,h=h||0,s=s||0,normalizer=s%2/2+crispFixer,at.x=round(x+normalizer)-normalizer,at.y=round(y+normalizer)-normalizer,at.width=round(x+w+normalizer)-normalizer-at.x,at.height=round(y+h+normalizer)-normalizer-at.y,at["stroke-width"]=s,0===at.width&&0!==w&&(at.width=1),0===at.height&&0!==h&&(at.height=1),at},R),elproto.crisp=function(){var key,o=this,attrs=o.attrs,values=o.attr();values=R.crispBound(values.x,values.y,values.width,values.height,values["stroke-width"]);for(key in values)attrs[key]===values[key]&&delete values[key];return o.attr(values)},R.define=function(name,init,ca,fn,e,data){var i,ii;if(R.is(name,ARRAY))for(i=0,ii=name.length;i<ii;i++)R.define(name[i]);else{if(R.is(name,OBJECT))return void R.define(name.name,name[name.name],name.ca,name.fn,name.e,name.data);if(name&&!R.fn[name])return R.fn[name]=function(){var key,args=(0,_raphael.getArrayCopy)(arguments),element=init.apply(this,args);if(fn&&R.is(fn,OBJECT))for(key in fn)element[key]=fn[key];if(e&&R.is(e,OBJECT))for(key in e)element[key]&&element[key](e[key]);if(ca){if(R.is(ca,FUNCTION))element.ca[name]=ca;else for(key in ca)element.ca[key]=ca[key];element.ca[name]&&(R._lastArgIfGroup(args,!0),args.length&&(args[0][name]?element.attr.apply(element,args):element.attr(name,args[0])))}return element},ca&&(R.fn[name].ca=ca),fn&&(R.fn[name].fn=fn),e&&(R.fn[name].e=e),data&&(R.fn[name].data=data),R.fn[name]}},function(doc,loaded,_f){function isLoaded(){/in/.test(doc.readyState)?setTimeout(isLoaded,9):R.eve("raphael.DOMload")}null==doc.readyState&&doc.addEventListener&&(doc.addEventListener("DOMContentLoaded",_f=function(){doc.removeEventListener("DOMContentLoaded",_f,!1),doc.readyState="complete"},!1),doc.readyState="loading"),isLoaded()}(doc),_eve3["default"].on("raphael.DOMload",function(){loaded=!0}),R._preload=function(src,f){var doc=g.doc,img=doc.createElement("img");img.style.cssText="position:absolute;left:-9999em;top:-9999em",img.onload=function(){f.call(this),this.onload=null,doc.body.removeChild(this)},img.onerror=function(){doc.body.removeChild(this)},doc.body.appendChild(img),img.src=src},exports["default"]=R,module.exports=exports["default"]}).call(exports,__webpack_require__(17))},function(module,exports,__webpack_require__){__webpack_require__(45),__webpack_require__(57),module.exports=__webpack_require__(27).f("iterator")},function(module,exports,__webpack_require__){"use strict";var $at=__webpack_require__(46)(!0);__webpack_require__(30)(String,"String",function(iterated){this._t=String(iterated),this._i=0},function(){var point,O=this._t,index=this._i;return index>=O.length?{value:undefined,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})})},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(18),defined=__webpack_require__(19);module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String(defined(that)),i=toInteger(pos),l=s.length;return i<0||i>=l?TO_STRING?"":undefined:(a=s.charCodeAt(i),a<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):b-56320+(a-55296<<10)+65536)}}},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(48);module.exports=function(fn,that,length){if(aFunction(fn),that===undefined)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},function(module,exports,__webpack_require__){"use strict";var create=__webpack_require__(35),descriptor=__webpack_require__(15),setToStringTag=__webpack_require__(26),IteratorPrototype={};__webpack_require__(2)(IteratorPrototype,__webpack_require__(6)("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}},function(module,exports,__webpack_require__){var dP=__webpack_require__(3),anObject=__webpack_require__(13),getKeys=__webpack_require__(22);module.exports=__webpack_require__(4)?Object.defineProperties:function(O,Properties){anObject(O);for(var P,keys=getKeys(Properties),length=keys.length,i=0;length>i;)dP.f(O,P=keys[i++],Properties[P]);return O}},function(module,exports,__webpack_require__){var cof=__webpack_require__(37);module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(5),toLength=__webpack_require__(53),toAbsoluteIndex=__webpack_require__(54);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(18),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(18),max=Math.max,min=Math.min;module.exports=function(index,length){return index=toInteger(index),index<0?max(index+length,0):min(index,length)}},function(module,exports,__webpack_require__){var document=__webpack_require__(0).document;module.exports=document&&document.documentElement},function(module,exports,__webpack_require__){var has=__webpack_require__(1),toObject=__webpack_require__(38),IE_PROTO=__webpack_require__(23)("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null}},function(module,exports,__webpack_require__){__webpack_require__(58);for(var global=__webpack_require__(0),hide=__webpack_require__(2),Iterators=__webpack_require__(21),TO_STRING_TAG=__webpack_require__(6)("toStringTag"),DOMIterables="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),i=0;i<DOMIterables.length;i++){var NAME=DOMIterables[i],Collection=global[NAME],proto=Collection&&Collection.prototype;proto&&!proto[TO_STRING_TAG]&&hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=Iterators.Array}},function(module,exports,__webpack_require__){"use strict";var addToUnscopables=__webpack_require__(59),step=__webpack_require__(60),Iterators=__webpack_require__(21),toIObject=__webpack_require__(5);module.exports=__webpack_require__(30)(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=undefined,step(1)):"keys"==kind?step(0,index):"values"==kind?step(0,O[index]):step(0,[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},function(module,exports){module.exports=function(){}},function(module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},function(module,exports,__webpack_require__){__webpack_require__(62),__webpack_require__(68),__webpack_require__(69),__webpack_require__(70),module.exports=__webpack_require__(12).Symbol},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(0),has=__webpack_require__(1),DESCRIPTORS=__webpack_require__(4),$export=__webpack_require__(31),redefine=__webpack_require__(34),META=__webpack_require__(63).KEY,$fails=__webpack_require__(14),shared=__webpack_require__(24),setToStringTag=__webpack_require__(26),uid=__webpack_require__(16),wks=__webpack_require__(6),wksExt=__webpack_require__(27),wksDefine=__webpack_require__(28),enumKeys=__webpack_require__(64),isArray=__webpack_require__(65),anObject=__webpack_require__(13),isObject=__webpack_require__(8),toObject=__webpack_require__(38),toIObject=__webpack_require__(5),toPrimitive=__webpack_require__(20),createDesc=__webpack_require__(15),_create=__webpack_require__(35),gOPNExt=__webpack_require__(66),$GOPD=__webpack_require__(67),$GOPS=__webpack_require__(39),$DP=__webpack_require__(3),$keys=__webpack_require__(22),gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global.Symbol,$JSON=global.JSON,_stringify=$JSON&&$JSON.stringify,HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object["prototype"],USE_NATIVE="function"==typeof $Symbol&&!!$GOPS.f,QObject=global.QObject,setter=!QObject||!QObject["prototype"]||!QObject["prototype"].findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a})?function(it,key,D){var protoDesc=gOPD(ObjectProto,key);protoDesc&&delete ObjectProto[key],dP(it,key,D),protoDesc&&it!==ObjectProto&&dP(ObjectProto,key,protoDesc)}:dP,wrap=function(tag){var sym=AllSymbols[tag]=_create($Symbol["prototype"]);return sym._k=tag,sym},isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return it instanceof $Symbol},$defineProperty=function(it,key,D){return it===ObjectProto&&$defineProperty(OPSymbols,key,D),anObject(it),key=toPrimitive(key,!0),anObject(D),has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=_create(D,{enumerable:createDesc(0,!1)})):(has(it,HIDDEN)||dP(it,HIDDEN,createDesc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):dP(it,key,D)},$defineProperties=function(it,P){anObject(it);for(var key,keys=enumKeys(P=toIObject(P)),i=0,l=keys.length;l>i;)$defineProperty(it,key=keys[i++],P[key]);return it},$create=function(it,P){return P===undefined?_create(it):$defineProperties(_create(it),P)},$propertyIsEnumerable=function(key){var E=isEnum.call(this,key=toPrimitive(key,!0));return!(this===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key))&&(!(E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key])||E)},$getOwnPropertyDescriptor=function(it,key){if(it=toIObject(it),key=toPrimitive(key,!0),it!==ObjectProto||!has(AllSymbols,key)||has(OPSymbols,key)){var D=gOPD(it,key);return!D||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}},$getOwnPropertyNames=function(it){for(var key,names=gOPN(toIObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])||key==HIDDEN||key==META||result.push(key);return result},$getOwnPropertySymbols=function(it){for(var key,IS_OP=it===ObjectProto,names=gOPN(IS_OP?OPSymbols:toIObject(it)),result=[],i=0;names.length>i;)!has(AllSymbols,key=names[i++])||IS_OP&&!has(ObjectProto,key)||result.push(AllSymbols[key]);return result};USE_NATIVE||($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=uid(arguments.length>0?arguments[0]:undefined),$set=function(value){this===ObjectProto&&$set.call(OPSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,createDesc(1,value))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:$set}),wrap(tag)},redefine($Symbol["prototype"],"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,__webpack_require__(40).f=gOPNExt.f=$getOwnPropertyNames,__webpack_require__(29).f=$propertyIsEnumerable,$GOPS.f=$getOwnPropertySymbols,DESCRIPTORS&&!__webpack_require__(11)&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(name){return wrap(wks(name))}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)wks(es6Symbols[j++]);for(var wellKnownSymbols=$keys(wks.store),k=0;wellKnownSymbols.length>k;)wksDefine(wellKnownSymbols[k++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{"for":function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol!");for(var key in SymbolRegistry)if(SymbolRegistry[key]===sym)return key},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export($export.S+$export.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols});var FAILS_ON_PRIMITIVES=$fails(function(){$GOPS.f(1)});$export($export.S+$export.F*FAILS_ON_PRIMITIVES,"Object",{getOwnPropertySymbols:function(it){return $GOPS.f(toObject(it))}}),$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var S=$Symbol();return"[null]"!=_stringify([S])||"{}"!=_stringify({a:S})||"{}"!=_stringify(Object(S))})),"JSON",{stringify:function(it){for(var replacer,$replacer,args=[it],i=1;arguments.length>i;)args.push(arguments[i++]);if($replacer=replacer=args[1],(isObject(replacer)||it!==undefined)&&!isSymbol(it))return isArray(replacer)||(replacer=function(key,value){if("function"==typeof $replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,_stringify.apply($JSON,args)}}),$Symbol["prototype"][TO_PRIMITIVE]||__webpack_require__(2)($Symbol["prototype"],TO_PRIMITIVE,$Symbol["prototype"].valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global.JSON,"JSON",!0)},function(module,exports,__webpack_require__){var META=__webpack_require__(16)("meta"),isObject=__webpack_require__(8),has=__webpack_require__(1),setDesc=__webpack_require__(3).f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!__webpack_require__(14)(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})},fastKey=function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak=function(it,create){if(!has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze=function(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META)&&setMeta(it),it},meta=module.exports={KEY:META,NEED:!1,fastKey:fastKey,getWeak:getWeak,onFreeze:onFreeze}},function(module,exports,__webpack_require__){var getKeys=__webpack_require__(22),gOPS=__webpack_require__(39),pIE=__webpack_require__(29);module.exports=function(it){var result=getKeys(it),getSymbols=gOPS.f;if(getSymbols)for(var key,symbols=getSymbols(it),isEnum=pIE.f,i=0;symbols.length>i;)isEnum.call(it,key=symbols[i++])&&result.push(key);return result}},function(module,exports,__webpack_require__){var cof=__webpack_require__(37);module.exports=Array.isArray||function(arg){return"Array"==cof(arg)}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(5),gOPN=__webpack_require__(40).f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}};module.exports.f=function(it){return windowNames&&"[object Window]"==toString.call(it)?getWindowNames(it):gOPN(toIObject(it))}},function(module,exports,__webpack_require__){var pIE=__webpack_require__(29),createDesc=__webpack_require__(15),toIObject=__webpack_require__(5),toPrimitive=__webpack_require__(20),has=__webpack_require__(1),IE8_DOM_DEFINE=__webpack_require__(32),gOPD=Object.getOwnPropertyDescriptor;exports.f=__webpack_require__(4)?gOPD:function(O,P){if(O=toIObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return gOPD(O,P)}catch(e){}if(has(O,P))return createDesc(!pIE.f.call(O,P),O[P])}},function(module,exports){},function(module,exports,__webpack_require__){__webpack_require__(28)("asyncIterator")},function(module,exports,__webpack_require__){__webpack_require__(28)("observable")},function(module,exports,__webpack_require__){"use strict";(function(global){exports.__esModule=!0;var _raphael=__webpack_require__(10);exports["default"]=function(glob){function eve(name,scope){var l,oldstop=stop,arg=(0,_raphael.getArrayCopy)(arguments),args=Array.prototype.slice.call(arg,2),listeners=eve.listeners(name),z=0,indexed=[],queue={},out=[],ce=current_event;out.firstDefined=firstDefined,out.lastDefined=lastDefined,current_event=name,stop=0;for(var i=0,ii=listeners.length;i<ii;i++)"zIndex"in listeners[i]&&(indexed.push(listeners[i].zIndex),listeners[i].zIndex<0&&(queue[listeners[i].zIndex]=listeners[i]));for(indexed.sort(numsort);indexed[z]<0;)if(l=queue[indexed[z++]],out.push(l.apply(scope,args)),stop)return stop=oldstop,out;for(i=0;i<ii;i++)if("zIndex"in(l=listeners[i]))if(l.zIndex==indexed[z]){if(out.push(l.apply(scope,args)),stop)break;do{if(z++,l=queue[indexed[z]],l&&out.push(l.apply(scope,args)),stop)break}while(l)}else queue[l.zIndex]=l;else if(out.push(l.apply(scope,args)),stop)break;return stop=oldstop,current_event=ce,out}var current_event,stop,has="hasOwnProperty",separator=/[\.\/]/,comaseparator=/\s*,\s*/,numsort=function(a,b){return a-b},events={n:{}},firstDefined=function(){for(var i=0,ii=this.length;i<ii;i++)if("undefined"!=typeof this[i])return this[i]},lastDefined=function(){for(var i=this.length;--i;)if("undefined"!=typeof this[i])return this[i]},objtos=Object.prototype.toString,Str=String,isArray=Array.isArray||function(ar){return ar instanceof Array||"[object Array]"==objtos.call(ar)};return eve._events=events,eve.listeners=function(name){var item,items,k,i,ii,j,jj,nes,names=isArray(name)?name:name.split(separator),e=events,es=[e],out=[];for(i=0,ii=names.length;i<ii;i++){for(nes=[],j=0,jj=es.length;j<jj;j++)for(e=es[j].n,items=[e[names[i]],e["*"]],k=2;k--;)(item=items[k])&&(nes.push(item),out=out.concat(item.f||[]));es=nes}return out},eve.separator=function(sep){sep?(sep=Str(sep).replace(/(?=[\.\^\]\[\-])/g,"\\"),sep="["+sep+"]",separator=new RegExp(sep)):separator=/[\.\/]/},eve.on=function(name,f){if("function"!=typeof f)return function(){};for(var names=isArray(name)?isArray(name[0])?name:[name]:Str(name).split(comaseparator),i=0,ii=names.length;i<ii;i++)!function(name){for(var exist,names=isArray(name)?name:Str(name).split(separator),e=events,i=0,ii=names.length;i<ii;i++)e=e.n,e=e.hasOwnProperty(names[i])&&e[names[i]]||(e[names[i]]={n:{}});for(e.f=e.f||[],i=0,ii=e.f.length;i<ii;i++)if(e.f[i]==f){exist=!0;break}!exist&&e.f.push(f)}(names[i]);return function(zIndex){+zIndex==+zIndex&&(f.zIndex=+zIndex)}},eve.f=function(event){var args=(0,_raphael.getArrayCopy)(arguments),attrs=[].slice.call(args,1);return function(){eve.apply(null,[event,null].concat(attrs).concat([].slice.call(args,0)))}},eve.stop=function(){stop=1},eve.nt=function(subname){var cur=isArray(current_event)?current_event.join("."):current_event;return subname?new RegExp("(?:\\.|\\/|^)"+subname+"(?:\\.|\\/|$)").test(cur):cur},eve.nts=function(){return isArray(current_event)?current_event:current_event.split(separator)},eve.off=eve.unbind=function(name,f){if(!name)return void(eve._events=events={n:{}});var names=isArray(name)?isArray(name[0])?name:[name]:Str(name).split(comaseparator);if(names.length>1)for(var i=0,ii=names.length;i<ii;i++)eve.off(names[i],f);else{names=isArray(name)?name:Str(name).split(separator);var e,key,splice,i,ii,j,jj,cur=[events],inodes=[];for(i=0,ii=names.length;i<ii;i++)for(j=0;j<cur.length;j+=splice.length-2){if(splice=[j,1],e=cur[j].n,"*"!=names[i])e[names[i]]&&(splice.push(e[names[i]]),inodes.unshift({n:e,name:names[i]}));else for(key in e)e[has](key)&&(splice.push(e[key]),inodes.unshift({n:e,name:key}));cur.splice.apply(cur,splice)}for(i=0,ii=cur.length;i<ii;i++)for(e=cur[i];e.n;){if(f){if(e.f){for(j=0,jj=e.f.length;j<jj;j++)if(e.f[j]==f){e.f.splice(j,1);break}!e.f.length&&delete e.f}for(key in e.n)if(e.n[has](key)&&e.n[key].f){var funcs=e.n[key].f;for(j=0,jj=funcs.length;j<jj;j++)if(funcs[j]==f){funcs.splice(j,1);break}!funcs.length&&delete e.n[key].f}}else{delete e.f;for(key in e.n)e.n[has](key)&&e.n[key].f&&delete e.n[key].f}e=e.n}prune:for(i=0,ii=inodes.length;i<ii;i++){e=inodes[i];for(key in e.n[e.name].f)continue prune;for(key in e.n[e.name].n)continue prune;delete e.n[e.name]}}},eve.once=function(name,f){var f2=function f2(){return eve.off(name,f2),f.apply(this,arguments)};return eve.on(name,f2)},eve.version="0.5.3",eve.toString=function(){return"You are running Eve 0.5.3"},glob.eve=eve,eve}("undefined"!=typeof window?window:void 0!==global?global:null),module.exports=exports["default"]}).call(exports,__webpack_require__(17))},function(module,exports,__webpack_require__){"use strict";(function(global){exports.__esModule=!0,exports["default"]=function(R){function interHelper(bez1,bez2,justCount){var bbox1=R.bezierBBox(bez1),bbox2=R.bezierBBox(bez2);if(!R.isBBoxIntersect(bbox1,bbox2))return justCount?0:[];for(var l1=bezlen.apply(0,bez1),l2=bezlen.apply(0,bez2),n1=mmax(~~(l1/5),1),n2=mmax(~~(l2/5),1),dots1=[],dots2=[],xy={},res=justCount?0:[],i=0;i<n1+1;i++){var p=R.findDotsAtSegment.apply(R,bez1.concat(i/n1));dots1.push({x:p.x,y:p.y,t:i/n1})}for(i=0;i<n2+1;i++)p=R.findDotsAtSegment.apply(R,bez2.concat(i/n2)),dots2.push({x:p.x,y:p.y,t:i/n2});for(i=0;i<n1;i++)for(var j=0;j<n2;j++){var di=dots1[i],di1=dots1[i+1],dj=dots2[j],dj1=dots2[j+1],ci=abs(di1.x-di.x)<.001?"y":"x",cj=abs(dj1.x-dj.x)<.001?"y":"x",is=intersect(di.x,di.y,di1.x,di1.y,dj.x,dj.y,dj1.x,dj1.y);if(is){if(xy[is.x.toFixed(4)]===is.y.toFixed(4))continue;xy[is.x.toFixed(4)]=is.y.toFixed(4);var t1=di.t+abs((is[ci]-di[ci])/(di1[ci]-di[ci]))*(di1.t-di.t),t2=dj.t+abs((is[cj]-dj[cj])/(dj1[cj]-dj[cj]))*(dj1.t-dj.t);t1>=0&&t1<=1.001&&t2>=0&&t2<=1.001&&(justCount?res++:res.push({x:is.x,y:is.y,t1:mmin(t1,1),t2:mmin(t2,1)}))}}return res}function interPathHelper(path1,path2,justCount){path1=R._path2curve(path1),path2=R._path2curve(path2);for(var x1,y1,x2,y2,x1m,y1m,x2m,y2m,bez1,bez2,res=justCount?0:[],i=0,ii=path1.length;i<ii;i++){var pi=path1[i];if(pi[0]===strM)x1=x1m=pi[1],y1=y1m=pi[2];else{"C"===pi[0]?(bez1=[x1,y1].concat(pi.slice(1)),x1=bez1[6],y1=bez1[7]):(bez1=[x1,y1,x1,y1,x1m,y1m,x1m,y1m],x1=x1m,y1=y1m);for(var j=0,jj=path2.length;j<jj;j++){var pj=path2[j];if(pj[0]===strM)x2=x2m=pj[1],y2=y2m=pj[2];else{"C"===pj[0]?(bez2=[x2,y2].concat(pj.slice(1)),x2=bez2[6],y2=bez2[7]):(bez2=[x2,y2,x2,y2,x2m,y2m,x2m,y2m],x2=x2m,y2=y2m);var intr=interHelper(bez1,bez2,justCount);if(justCount)res+=intr;else{for(var k=0,kk=intr.length;k<kk;k++)intr[k].segment1=i,intr[k].segment2=j,intr[k].bez1=bez1,intr[k].bez2=bez2;res=res.concat(intr)}}}}}return res}var _win="undefined"!=typeof window?window:void 0!==global?global:null,g={doc:_win.document,win:_win},elproto=R.el,has="hasOwnProperty",separator=/[, ]+/,oldRaphael={was:Object.prototype[has].call(g.win,"Raphael"),is:g.win.Raphael},E="",mmax=Math.max,mmin=Math.min,paperproto=R.fn,getPath=R._getPath,Str=String,Set=function Set(items){if(this.items=[],this.length=0,this.type="set",items)for(var i=0,ii=items.length;i<ii;i++)!items[i]||items[i].constructor!=elproto.constructor&&items[i].constructor!=Set||(this[this.items.length]=this.items[this.items.length]=items[i],this.length++)},setproto=Set.prototype,getOffset=function(elem){var box=elem.getBoundingClientRect(),doc=elem.ownerDocument,body=doc.body,docElem=doc.documentElement,clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0;return{y:box.top+(g.win.pageYOffset||docElem.scrollTop||body.scrollTop)-clientTop,x:box.left+(g.win.pageXOffset||docElem.scrollLeft||body.scrollLeft)-clientLeft}},toMatrix=(R.transformPath=function(path,transform){return mapPath(path,toMatrix(path,transform))},R.toMatrix=function(path,transform){var bb=pathDimensions(path),el={_:{transform:E},getBBox:function(){return bb}};return extractTransform(el,transform),el.matrix}),pathToRelative=R._pathToRelative=function(pathArray){var pth=paths(pathArray);if(pth.rel)return pathClone(pth.rel);R.is(pathArray,ARRAY)&&R.is(pathArray&&pathArray[0],ARRAY)||(pathArray=R.parsePathString(pathArray));var res=[],x=0,y=0,mx=0,my=0,start=0;pathArray[0][0]===strM&&(x=pathArray[0][1],y=pathArray[0][2],mx=x,my=y,start++,res.push([strM,x,y]));for(var i=start,ii=pathArray.length;i<ii;i++){var r=res[i]=[],pa=pathArray[i];if(pa[0]!=lowerCase.call(pa[0]))switch(r[0]=lowerCase.call(pa[0]),r[0]){case"a":r[1]=pa[1],r[2]=pa[2],r[3]=pa[3],r[4]=pa[4],r[5]=pa[5],r[6]=+(pa[6]-x).toFixed(3),r[7]=+(pa[7]-y).toFixed(3);break;case"v":r[1]=+(pa[1]-y).toFixed(3);break;case"m":mx=pa[1],my=pa[2];default:for(var j=1,jj=pa.length;j<jj;j++)r[j]=+(pa[j]-(j%2?x:y)).toFixed(3)}else{r=res[i]=[],pa[0]===mStr&&(mx=pa[1]+x,my=pa[2]+y);for(var k=0,kk=pa.length;k<kk;k++)res[i][k]=pa[k]}var len=res[i].length;switch(res[i][0]){case"z":x=mx,y=my;break;case"h":x+=+res[i][len-1];break;case"v":y+=+res[i][len-1];break;default:x+=+res[i][len-2],y+=+res[i][len-1]}}return res.toString=R._path2string,pth.rel=pathClone(res),res};R.st=setproto,R.snapTo=function(values,value,tolerance){var rem,i;if(R.is(tolerance,"finite")||(tolerance=10),R.is(values,"array")){for(i=values.length;i--;)if(Math.abs(values[i]-value)<=tolerance)return values[i]}else{if(values=+values,(rem=value%values)<tolerance)return value-rem;if(rem>values-tolerance)return value-rem+values}return value},R.registerFont=function(font){if(!font.face)return font;this.fonts=this.fonts||{};var fontcopy={w:font.w,face:{},glyphs:{}},family=font.face["font-family"];for(var prop in font.face)font.face[has](prop)&&(fontcopy.face[prop]=font.face[prop]);if(this.fonts[family]?this.fonts[family].push(fontcopy):this.fonts[family]=[fontcopy],!font.svg){fontcopy.face["units-per-em"]=g.win.parseInt(font.face["units-per-em"],10);for(var glyph in font.glyphs)if(font.glyphs[has](glyph)){var path=font.glyphs[glyph];if(fontcopy.glyphs[glyph]={w:path.w,k:{},d:path.d&&"M"+path.d.replace(/[mlcxtrv]/g,function(command){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[command]||"M"})+"z"},path.k)for(var k in path.k)path[has](k)&&(fontcopy.glyphs[glyph].k[k]=path.k[k])}}return font},R.fullfill=function(){var tokenRegex=/\{([^\}]+)\}/g,objNotationRegex=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|')(.+?)\2\])(\(\))?/g,replacer=function(all,key,obj){var res=obj;return key.replace(objNotationRegex,function(all,name,quote,quotedName,isFunc){name=name||quotedName,res&&(name in res&&(res=res[name]),"function"==typeof res&&isFunc&&(res=res()))}),res=(null==res||res==obj?all:res)+""};return function(str,obj){return String(str).replace(tokenRegex,function(all,key){return replacer(all,key,obj)})}}(),R.ninja=function(){return oldRaphael.was?g.win.Raphael=oldRaphael.is:delete g.win.Raphael,R},R.isPointInsidePath=function(path,x,y){var bbox=R.pathBBox(path);return R.isPointInsideBBox(bbox,x,y)&&(interPathHelper(path,[[strM,x,y],["H",bbox.x2+10]],1)%2==1||interPathHelper(path,[[strM,x,y],["V",bbox.y2+10]],1)%2==1)},R.isBBoxIntersect=function(bbox1,bbox2){var i=R.isPointInsideBBox;return i(bbox2,bbox1.x,bbox1.y)||i(bbox2,bbox1.x2,bbox1.y)||i(bbox2,bbox1.x,bbox1.y2)||i(bbox2,bbox1.x2,bbox1.y2)||i(bbox1,bbox2.x,bbox2.y)||i(bbox1,bbox2.x2,bbox2.y)||i(bbox1,bbox2.x,bbox2.y2)||i(bbox1,bbox2.x2,bbox2.y2)||(bbox1.x<bbox2.x2&&bbox1.x>bbox2.x||bbox2.x<bbox1.x2&&bbox2.x>bbox1.x)&&(bbox1.y<bbox2.y2&&bbox1.y>bbox2.y||bbox2.y<bbox1.y2&&bbox2.y>bbox1.y)},R.isPointInsideBBox=function(bbox,x,y){return x>=bbox.x&&x<=bbox.x2&&y>=bbox.y&&y<=bbox.y2},R.bezierBBox=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y){R.is(p1x,ARRAY)||(p1x=[p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y]);var bbox=curveDim.apply(null,p1x);return{x:bbox.min.x,y:bbox.min.y,x2:bbox.max.x,y2:bbox.max.y,width:bbox.max.x-bbox.min.x,height:bbox.max.y-bbox.min.y}},R.addArrow=function(o,value,isEnd){if(R.vml){for(var values=Str(value).toLowerCase().split("-"),se=isEnd?"end":"start",i=values.length,type="classic",w="medium",h="medium";i--;)switch(values[i]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":type=values[i];break;case"wide":case"narrow":h=values[i];break;case"long":case"short":w=values[i]}var stroke=o.node.getElementsByTagName("stroke")[0];stroke[se+"arrow"]=type,stroke[se+"arrowlength"]=w,stroke[se+"arrowwidth"]=h}else if(R.svg&&"path"===o.type){for(var from,to,dx,refX,attr,values=Str(value).toLowerCase().split("-"),p=o.paper,se=isEnd?"end":"start",node=o.node,attrs=o.attrs,stroke=attrs["stroke-width"],i=values.length,type="classic",w=3,h=3,t=5;i--;)switch(values[i]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":type=values[i];break;case"wide":h=5;break;case"narrow":h=2;break;case"long":w=5;break;case"short":w=2}if("open"===type?(w+=2,h+=2,t+=2,dx=1,refX=isEnd?4:1,attr={fill:noneStr,stroke:attrs.stroke}):(refX=dx=w/2,attr={fill:attrs.stroke,stroke:noneStr}),o._.arrows?isEnd?(o._.arrows.endPath&&markerCounter[o._.arrows.endPath]--,o._.arrows.endMarker&&markerCounter[o._.arrows.endMarker]--):(o._.arrows.startPath&&markerCounter[o._.arrows.startPath]--,o._.arrows.startMarker&&markerCounter[o._.arrows.startMarker]--):o._.arrows={},type!==noneStr){var pathId="raphael-marker-"+type,markerId="raphael-marker-"+se+type+w+h+"-obj"+o.id;R._g.doc.getElementById(pathId)?markerCounter[pathId]++:(p.defs.appendChild($($("path"),{"stroke-linecap":"round",d:markers[type],id:pathId})),markerCounter[pathId]=1);var use,marker=R._g.doc.getElementById(markerId);marker?(markerCounter[markerId]++,use=marker.getElementsByTagName("use")[0]):(marker=$($("marker"),{id:markerId,markerHeight:h,markerWidth:w,orient:"auto",refX:refX,refY:h/2}),use=$($("use"),{"xlink:href":"#"+pathId,transform:(isEnd?"rotate(180 "+w/2+S+h/2+") ":E)+"scale("+w/t+","+h/t+")","stroke-width":(1/((w/t+h/t)/2)).toFixed(4)}),marker.appendChild(use),p.defs.appendChild(marker),markerCounter[markerId]=1),$(use,attr);var delta=dx*("diamond"!==type&&"oval"!==type);isEnd?(from=o._.arrows.startdx*stroke||0,to=R.getTotalLength(attrs.path)-delta*stroke):(from=delta*stroke,to=R.getTotalLength(attrs.path)-(o._.arrows.enddx*stroke||0)),attr={},attr["marker-"+se]="url('"+R._url+"#"+markerId+"')",(to||from)&&(attr.d=R.getSubpath(attrs.path,from,to)),$(node,attr),o._.arrows[se+"Path"]=pathId,o._.arrows[se+"Marker"]=markerId,o._.arrows[se+"dx"]=delta,o._.arrows[se+"Type"]=type,o._.arrows[se+typeStringSTR]=value}else isEnd?(from=o._.arrows.startdx*stroke||0,to=R.getTotalLength(attrs.path)-from):(from=0,to=R.getTotalLength(attrs.path)-(o._.arrows.enddx*stroke||0)),o._.arrows[se+"Path"]&&$(node,{d:R.getSubpath(attrs.path,from,to)}),delete o._.arrows[se+"Path"],delete o._.arrows[se+"Marker"],delete o._.arrows[se+"dx"],delete o._.arrows[se+"Type"],delete o._.arrows[se+typeStringSTR];for(attr in markerCounter)if(markerCounter[has](attr)&&!markerCounter[attr]){var item=R._g.doc.getElementById(attr);item&&item.parentNode.removeChild(item)}}},R.setWindow=function(newwin){eve("raphael.setWindow",R,g.win,newwin),win=g.win=newwin,doc=g.doc=g.win.document,R._engine.initWin&&R._engine.initWin(g.win)},R.getColor=function(value){var start=this.getColor.start=this.getColor.start||{h:0,s:1,b:value||.75},rgb=this.hsb2rgb(start.h,start.s,start.b);return start.h+=.075,start.h>1&&(start.h=0,start.s-=.2,start.s<=0&&(this.getColor.start={h:0,s:1,b:start.b})),rgb.hex},R.getColor.reset=function(){delete this.start},R.hsb=(0,_raphael.cacher)(function(h,s,b){return R.hsb2rgb(h,s,b).hex}),R.hsl=(0,_raphael.cacher)(function(h,s,l){return R.hsl2rgb(h,s,l).hex}),R.angle=function(x1,y1,x2,y2,x3,y3){if(null==x3){var x=x1-x2,y=y1-y2;return x||y?(180+math.atan2(-y,-x)*rad2deg+360)%360:0}return R.angle(x1,y1,x3,y3)-R.angle(x2,y2,x3,y3)},R.getSubpath=function(path,from,to){if(this.getTotalLength(path)-to<1e-6)return getSubpathsAtLength(path,from).end;var a=getSubpathsAtLength(path,to,1);return from?getSubpathsAtLength(a,from).end:a},R.pathToRelative=pathToRelative,paperproto.getFont=function(family,weight,style,stretch){if(stretch=stretch||"normal",style=style||"normal",weight=+weight||{normal:400,bold:700,lighter:300,bolder:800}[weight]||400,R.fonts){var font=R.fonts[family];if(!font){var name=new RegExp("(^|\\s)"+family.replace(/[^\w\d\s+!~.:_-]/g,E)+"(\\s|$)","i");for(var fontName in R.fonts)if(R.fonts[has](fontName)&&name.test(fontName)){font=R.fonts[fontName];break}}var thefont;if(font)for(var i=0,ii=font.length;i<ii&&(thefont=font[i],thefont.face["font-weight"]!=weight||thefont.face["font-style"]!=style&&thefont.face["font-style"]||thefont.face["font-stretch"]!=stretch);i++);return thefont}},paperproto.print=function(x,y,string,font,size,origin,letterSpacing){origin=origin||"middle",letterSpacing=mmax(mmin(letterSpacing||0,1),-1);var scale,letters=Str(string)["split"](E),shift=0,notfirst=0,path=E;if(R.is(font,string)&&(font=this.getFont(font)),font){scale=(size||16)/font.face["units-per-em"];for(var bb=font.face.bbox["split"](separator),top=+bb[0],lineHeight=bb[3]-bb[1],shifty=0,height=+bb[1]+("baseline"==origin?lineHeight+ +font.face.descent:lineHeight/2),i=0,ii=letters.length;i<ii;i++){if("\n"==letters[i])shift=0,curr=0,notfirst=0,shifty+=lineHeight;else{var prev=notfirst&&font.glyphs[letters[i-1]]||{},curr=font.glyphs[letters[i]];shift+=notfirst?(prev.w||font.w)+(prev.k&&prev.k[letters[i]]||0)+font.w*letterSpacing:0,notfirst=1}curr&&curr.d&&(path+=R.transformPath(curr.d,["t",shift*scale,shifty*scale,"s",scale,scale,top,height,"t",(x-top)/scale,(y-height)/scale]))}}return this.path(path).attr({fill:"#000",stroke:"none"})},paperproto.add=function(json){if(R.is(json,"array"))for(var j,res=this.set(),i=0,ii=json.length;i<ii;i++)j=json[i]||{},elements[has](j.type)&&res.push(this[j.type]().attr(j));return res},paperproto.getElementByPoint=function(x,y){var paper=this,svg=paper.canvas,target=g.doc.elementFromPoint(x,y);if(g.win.opera&&"svg"==target.tagName){var so=getOffset(svg),sr=svg.createSVGRect();sr.x=x-so.x,sr.y=y-so.y,sr.width=sr.height=1;var hits=svg.getIntersectionList(sr,null);hits.length&&(target=hits[hits.length-1])}if(!target)return null;for(;target.parentNode&&target!=svg.parentNode&&!target.raphael;)target=target.parentNode;return target==paper.canvas.parentNode&&(target=svg),target=target&&target.raphael?paper.getById(target.raphaelid):null},paperproto.getElementsByBBox=function(bbox){var set=this.set();return this.forEach(function(el){R.isBBoxIntersect(el.getBBox(),bbox)&&set.push(el)}),set},paperproto.forEach=function(callback,thisArg){for(var bot=this.bottom;bot;){if(!1===callback.call(thisArg,bot))return this;bot=bot.next}return this},paperproto.getElementsByPoint=function(x,y){var set=this.set();return this.forEach(function(el){el.isPointInside(x,y)&&set.push(el)}),set},paperproto.set=function(itemsArray){var args=(0,_raphael.getArrayCopy)(arguments);!R.is(itemsArray,"array")&&(itemsArray=Array.prototype.splice.call(args,0,args.length));var out=new Set(itemsArray);return this.__set__&&this.__set__.push(out),out},paperproto.setStart=function(set){this.__set__=set||this.set()},paperproto.setFinish=function(set){var out=this.__set__;return delete this.__set__,out},paperproto.removeDefs=function(id){if(R.svg){var element=R._g.doc.getElementById(id);element&&element.remove()}},paperproto.updateDefs=function(id,attrObj,hardUpdateChildren){if(R.svg){var attrKey,i,diff,len,elemChildren,childId,paper=this,element=id instanceof Node?id:R._g.doc.getElementById(id),children=attrObj.children||[];if(hardUpdateChildren===undefined&&(hardUpdateChildren=!0),element){for(attrKey in attrObj)"tagName"!==attrKey&&"children"!==attrKey&&element.setAttribute(attrKey,attrObj[attrKey]);for(elemChildren=element.children,i=0,len=children.length;i<len;i++)childId=children[i].id,elemChildren[i]?paper.updateDefs(childId||elemChildren[i],children[i]):hardUpdateChildren&&paper._createDOMNodes(element,children[i]);if(hardUpdateChildren)for(diff=elemChildren.length-i;diff>0;)elemChildren[elemChildren.length-1].remove(),diff--}}},elproto.isPointInside=function(x,y){var tr,rp=this.realPath=this.realPath||getPath[this.type](this);return R.isPointInsidePath((tr=this.attr("transform"))&&tr.length&&R.transformPath(rp,tr)||rp,x,y)},elproto.glow=function(glow){if("text"==this.type)return null;glow=glow||{};var s={width:(glow.width||10)+(+this.attr("stroke-width")||1),fill:glow.fill||!1,opacity:glow.opacity||.5,offsetx:glow.offsetx||0,offsety:glow.offsety||0,color:glow.color||"#000"},c=s.width/2,r=this.paper,out=r.set(),path=this.realPath||getPath[this.type](this);path=this.matrix?R.mapPath(path,this.matrix):path;for(var i=1;i<c+1;i++)out.push(r.path(path).attr({stroke:s.color,fill:s.fill?s.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(s.width/c*i).toFixed(3),opacity:+(s.opacity/c).toFixed(3)}));return out.insertBefore(this).translate(s.offsetx,s.offsety)},elproto.setTime=function(anim,value){return anim&&null!=value&&this.status(anim,mmin(value,anim.ms)/anim.ms),this},elproto.blur=function(size){if(R.svg){var t=this;if(0!=+size){var fltr=$("filter"),blur=$("feGaussianBlur");t.attrs.blur=size,fltr.id=R.getElementID(R.createUUID()),$(blur,{stdDeviation:+size||1.5}),fltr.appendChild(blur),t.paper.defs.appendChild(fltr),t._blur=fltr,$(t.node,{filter:"url('"+R._url+"#"+fltr.id+"')"})}else t._blur&&(t._blur.parentNode.removeChild(t._blur),delete t._blur,delete t.attrs.blur),t.node.removeAttribute("filter")}else{if(R.vml){var s=this.node.runtimeStyle,f=s.filter;return f=f.replace(blurregexp,E),0!=+size?(this.attrs.blur=size,s.filter=f+S+ms+".Blur(pixelradius="+(+size||1.5)+")",s.margin=R.format("-{0}px 0 0 -{0}px",round(+size||1.5))):(s.filter=f,s.margin=0,delete this.attrs.blur),this}if(R.canvas)return this}},elproto.getSubpath=function(from,to){if("path"==this.type)return R.getSubpath(this.attrs.path,from,to)},setproto.push=function(){for(var item,len,i=0,ii=arguments.length;i<ii;i++)!(item=arguments[i])||item.constructor!=elproto.constructor&&item.constructor!=Set||(len=this.items.length,this[len]=this.items[len]=item,this.length++);return this},setproto.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},setproto.forEach=function(callback,thisArg){for(var i=0,ii=this.items.length;i<ii;i++)if(!1===callback.call(thisArg,this.items[i],i))return this;return this};for(var method in elproto)elproto[has](method)&&(setproto[method]=function(methodname){return function(){var arg=arguments;return this.forEach(function(el){el[methodname]["apply"](el,arg)})}}(method));setproto.attr=function(name,value){if(name&&R.is(name,"array")&&R.is(name[0],"object"))for(var j=0,jj=name.length;j<jj;j++)this.items[j].attr(name[j]);else for(var i=0,ii=this.items.length;i<ii;i++)this.items[i].attr(name,value);return this},setproto.clear=function(){for(;this.length;)this.pop()},setproto.splice=function(index,count,insertion){index=index<0?mmax(this.length+index,0):index,count=mmax(0,mmin(this.length-index,isNaN(count)&&this.length||count));var arglen,i,tail=[],todel=[],args=[];for(i=2;i<arguments.length;i++)args.push(arguments[i]);for(i=0;i<count;i++)todel.push(this[index+i]);for(;i<this.length-index;i++)tail.push(this[index+i]);for(arglen=args.length,i=0;i<arglen+tail.length;i++)this.items[index+i]=this[index+i]=i<arglen?args[i]:tail[i-arglen];for(i=this.items.length=this.length-=count-arglen;this[i];)delete this[i++];return new Set(todel)},setproto.exclude=function(el){for(var i=0,ii=this.length;i<ii;i++)if(this[i]==el)return this.splice(i,1),!0},setproto.animate=function(params,ms,easing,callback){(R.is(easing,"function")||!easing)&&(callback=easing||null);var item,anim,collector,len=this.items.length,i=len,set=this;if(!len)return this;for(callback&&(collector=function(){!--len&&callback.call(set)}),easing=R.is(easing,"string")?easing:collector,anim=R.animation(params,ms,easing,collector),item=this.items[--i].animate(anim);i--;)this.items[i]&&!this.items[i].removed&&this.items[i].animateWith(item,anim,anim);return this},setproto.insertAfter=function(el){for(var i=this.items.length;i--;)this.items[i].insertAfter(el);return this},setproto.getBBox=function(){for(var x=[],y=[],x2=[],y2=[],i=this.items.length;i--;)if(!this.items[i].removed){var box=this.items[i].getBBox();x.push(box.x),y.push(box.y),x2.push(box.x+box.width),y2.push(box.y+box.height)}return x=mmin["apply"](0,x),y=mmin["apply"](0,y),x2=mmax["apply"](0,x2),y2=mmax["apply"](0,y2),{x:x,y:y,x2:x2,y2:y2,width:x2-x,height:y2-y}},setproto.clone=function(s){s=new Set;for(var i=0,ii=this.items.length;i<ii;i++)s.push(this.items[i].clone());return s},setproto.toString=function(){return"Raphaël‘s set"},setproto.glow=function(glowConfig){var ret=this.paper.set();return this.forEach(function(shape,index){var g=shape.glow(glowConfig);null!=g&&g.forEach(function(shape2,index2){ret.push(shape2)})}),ret},R.pathIntersection=function(path1,path2){return interPathHelper(path1,path2)},R.pathIntersectionNumber=function(path1,path2){return interPathHelper(path1,path2,1)}};var _raphael=__webpack_require__(10);module.exports=exports["default"]}).call(exports,__webpack_require__(17))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _iterator=__webpack_require__(7),_iterator2=_interopRequireDefault(_iterator),_symbol=__webpack_require__(9),_symbol2=_interopRequireDefault(_symbol),_typeof="function"==typeof _symbol2["default"]&&"symbol"==typeof _iterator2["default"]?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof _symbol2["default"]&&obj.constructor===_symbol2["default"]&&obj!==_symbol2["default"].prototype?"symbol":typeof obj};exports["default"]=function(R){if(R.svg){var has="hasOwnProperty",vAlignStr="vertical-align",fnStr="function",IESplTspanAttr={visibility:"hidden","font-size":"0px"},Str=String,toFloat=parseFloat,toInt=parseInt,vAlignMultiplier={top:0,bottom:-1,middle:-.5},win=R._g.win,navigator=win.navigator,isIE=!!document.documentMode,math=Math,mmax=math.max,abs=math.abs,pow=math.pow,sqrt=math.sqrt,xlinkRegx=/^xlink:/,separator=/[, ]+/,textBreakRegx=/\n|<br\s*?\/?>/i,ltgtbrRegex=/&lt|&gt|&quot|&#039|&#034|<br/i,nbspRegex=/&nbsp;|&#160;|&#xA0;/g,arrayShift=Array.prototype.shift,zeroStrokeFix=!(!/AppleWebKit/.test(navigator.userAgent)||/Chrome/.test(navigator.userAgent)&&!(navigator.appVersion.match(/Chrome\/(\d+)\./)[1]<29)),eve=R.eve,E="",S=" ",xlink="http://www.w3.org/1999/xlink",svgNSStr="http://www.w3.org/2000/svg",markers=(!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),{block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"}),shapeRenderingAttrs={speed:"optimizeSpeed",crisp:"crispEdges",precision:"geometricPrecision"},nav=navigator.userAgent.toLowerCase(),isIE9=function(){var verIE=-1!=nav.indexOf("msie")&&parseInt(nav.split("msie")[1]);return!(!verIE||9!==verIE)}(),supportsPointer=R.supportsPointer,supportsTouch=R.supportsTouch,markerCounter={},preLoad=function(elem,ig,isURL,paper){R._preload(isURL[1],function(){var w=this.offsetWidth,h=this.offsetHeight;$(elem,{width:w,height:h}),$(ig,{width:w,height:h}),paper.safari()})},quickExtend=function(obj1,obj2){if(obj2)for(var key in obj2)obj1[key]=obj2[key]},lastHoveredInfo={elementInfo:[]},doc=R._g.doc,win=R._g.win,safeMouseEventMapping={mouseover:"touchstart",mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove",mouseout:"touchend"},allPossibleAttrs={"accent-height":!0,accumulate:!0,additive:!0,"alignment-baseline":!0,alphabetic:!0,amplitude:!0,"arabic-form":!0,ascent:!0,azimuth:!0,"baseline-shift":!0,bbox:!0,begin:!0,bias:!0,by:!0,"cap-height":!0,"class":!0,clip:!0,"clip-path":!0,"clip-rule":!0,color:!0,"color-interpolation":!0,"color-interpolation-filters":!0,"color-profile":!0,"color-rendering":!0,cursor:!0,cx:!0,cy:!0,d:!0,decelerate:!0,descent:!0,direction:!0,display:!0,divisor:!0,"dominant-baseline":!0,dur:!0,dx:!0,dy:!0,elevation:!0,"enable-background":!0,end:!0,exponent:!0,fill:!0,"fill-opacity":!0,"fill-rule":!0,filter:!0,"flood-color":!0,"flood-opacity":!0,"font-family":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-variant":!0,"font-weight":!0,format:!0,fr:!0,from:!0,fx:!0,fy:!0,g1:!0,g2:!0,"glyph-name":!0,"glyph-orientation-horizontal":!0,"glyph-orientation-vertical":!0,hanging:!0,height:!0,"horiz-adv-x":!0,"horiz-origin-x":!0,href:!0,hreflang:!0,id:!0,ideographic:!0,"image-rendering":!0,in2:!0,"in":!0,intercept:!0,k1:!0,k2:!0,k3:!0,k4:!0,k:!0,kerning:!0,lang:!0,"letter-spacing":!0,"lighting-color":!0,local:!0,"marker-end":!0,"marker-mid":!0,"marker-start":!0,mask:!0,mathematical:!0,max:!0,media:!0,method:!0,min:!0,mode:!0,name:!0,offset:!0,opacity:!0,operator:!0,order:!0,orient:!0,orientation:!0,origin:!0,overflow:!0,"overline-position":!0,"overline-thickness":!0,"paint-order":!0,"panose-1":!0,path:!0,ping:!0,"pointer-events":!0,points:!0,r:!0,radius:!0,rel:!0,"rendering-intent":!0,restart:!0,result:!0,rotate:!0,rx:!0,ry:!0,scale:!0,seed:!0,"shape-rendering":!0,slope:!0,spacing:!0,speed:!0,stemh:!0,stemv:!0,"stop-color":!0,"stop-opacity":!0,"strikethrough-position":!0,"strikethrough-thickness":!0,string:!0,stroke:!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-miterlimit":!0,"stroke-opacity":!0,"stroke-width":!0,style:!0,tabindex:!0,target:!0,"text-anchor":!0,"text-decoration":!0,"text-rendering":!0,to:!0,transform:!0,type:!0,u1:!0,u2:!0,"underline-position":!0,"underline-thickness":!0,unicode:!0,"unicode-bidi":!0,"unicode-range":!0,"units-per-em":!0,"v-alphabetic":!0,"v-hanging":!0,"v-ideographic":!0,"v-mathematical":!0,values:!0,"vector-effect":!0,version:!0,"vert-adv-y":!0,"vert-origin-x":!0,"vert-origin-y":!0,visibility:!0,width:!0,widths:!0,"word-spacing":!0,"writing-mode":!0,x1:!0,x2:!0,x:!0,"x-height":!0,"xlink:actuate":!0,"xlink:arcrole":!0,"xlink:href":!0,"xlink:role":!0,"xlink:show":!0,"xlink:title":!0,"xlink:type":!0,"xml:base":!0,"xml:lang":!0,"xml:space":!0,y1:!0,y2:!0,y:!0,z:!0};supportsTouch&&doc.addEventListener(supportsPointer?"pointerover":"touchstart",function(e){if(lastHoveredInfo.srcElement&&lastHoveredInfo.srcElement!==(e.srcElement||e.target)){var elementInfo,elems,i,elementInfo=lastHoveredInfo.elementInfo,ii=elementInfo.length;for(i=0;i<ii;i++)elems=elementInfo[i],elems.callback.call(elems.el,e)}lastHoveredInfo={elementInfo:[]}},!0),R.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version},R._url=E;var updateGradientReference=function(element,newGradient){var attr=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"fill",gradient="fill"===attr?element.gradient:element["stroke-gradient"];if(gradient){if(gradient===newGradient)return;gradient.refCount--,gradient.refCount||gradient.parentNode.removeChild(gradient),"fill"===attr?delete element.gradient:delete element["stroke-gradient"]}newGradient&&("fill"===attr?element.gradient=newGradient:element["stroke-gradient"]=newGradient,newGradient.refCount++)},$=R._createNode=function(el,attr){if("string"===(void 0===el?"undefined":_typeof(el))&&(el=R._g.doc.createElementNS(svgNSStr,el)),attr){var key,value;for(key in attr)value=isIE9?Str(attr[key]):attr[key],xlinkRegx.test(key)?el.setAttributeNS(xlink,key.replace(xlinkRegx,E),value):el.setAttribute(key,value)}return el},gradientUnitNames={userSpaceOnUse:"userSpaceOnUse",objectBoundingBox:"objectBoundingBox"},gradientSpreadNames={pad:"pad",redlect:"reflect",repeat:"repeat"},addGradient=function(element,gradient){var _$,attr=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"fill";if(!element.paper||!element.paper.defs)return 0;var r,cx,cy,units,spread,vector,type="linear",SVG=element.paper,id=R.getElementID((SVG.id+"-"+gradient).replace(/[()\s%:,\xb0#]/g,"_")),fx=.5,fy=.5,o=element.node,s=o.style,el=R._g.doc.getElementById(id);if(!el){if(gradient=Str(gradient).replace(R._radial_gradient,function(all,opts){type="radial",opts=opts?opts.split(","):[],units=opts[5],spread=opts[6];var dir,sqx,_fx=opts[0],_fy=opts[1],_r=opts[2],_cx=opts[3],_cy=opts[4],shifted=_fx&&_fy;return _r&&(r=/%/.test(_r)?_r:toFloat(_r)),units===gradientUnitNames.userSpaceOnUse?(shifted&&(fx=_fx,fy=_fy),_cx&&_cy&&(cx=_cx,cy=_cy,shifted||(fx=cx,fy=cy)),E):(shifted&&(fx=toFloat(_fx),fy=toFloat(_fy),dir=2*(fy>.5)-1,(sqx=pow(fx-.5,2))+pow(fy-.5,2)>.25&&sqx<.25&&(fy=sqrt(.25-sqx)*dir+.5)&&.5!==fy&&(fy=fy.toFixed(5)-1e-5*dir)),_cx&&_cy&&(cx=toFloat(_cx),cy=toFloat(_cy),dir=2*(cy>.5)-1,(sqx=pow(cx-.5,2))+pow(cy-.5,2)>.25&&sqx<.25&&(cy=sqrt(.25-sqx)*dir+.5)&&.5!==cy&&(cy=cy.toFixed(5)-1e-5*dir),shifted||(fx=cx,fy=cy)),E)}),gradient=gradient.split(/\s*-\s*/),"linear"===type){var max,angle=gradient.shift(),specs=angle.match(/\((.*)\)/);if(specs=specs&&specs[1]&&specs[1].split(/\s*,\s*/),angle=-toFloat(angle),isNaN(angle))return null;specs&&specs.length?(specs[0]in gradientUnitNames?(units=specs.shift(),specs[0]in gradientSpreadNames&&(spread=specs.shift())):(specs[4]&&(units=specs[4]),specs[5]&&(spread=specs[5])),vector=[specs[0]||"0%",specs[1]||"0%",specs[2]||"100%",specs[3]||"0%"]):(vector=[0,0,math.cos(R.rad(angle)),math.sin(R.rad(angle))],max=1/(mmax(abs(vector[2]),abs(vector[3]))||1),vector[2]*=max,vector[3]*=max,vector[2]<0&&(vector[0]=-vector[2],vector[2]=0),vector[3]<0&&(vector[1]=-vector[3],vector[3]=0))}var dots=R._parseDots(gradient);if(!dots)return null;el=$(type+"Gradient",{id:id}),el.refCount=0,units in gradientUnitNames&&el.setAttribute("gradientUnits",Str(units)),spread in gradientSpreadNames&&el.setAttribute("spreadMethod",Str(spread)),"radial"===type?(r!==undefined&&el.setAttribute("r",Str(r)),cx!==undefined&&cy!==undefined&&(el.setAttribute("cx",Str(cx)),el.setAttribute("cy",Str(cy))),el.setAttribute("fx",Str(fx)),el.setAttribute("fy",Str(fy))):$(el,{x1:vector[0],y1:vector[1],x2:vector[2],y2:vector[3]});for(var i=0,ii=dots.length;i<ii;i++)el.appendChild($("stop",{offset:dots[i].offset?dots[i].offset:i?"100%":"0%","stop-color":dots[i].color||"#fff","stop-opacity":dots[i].opacity===undefined?1:dots[i].opacity}));SVG.defs.appendChild(el)}return updateGradientReference(element,el,attr),$(o,(_$={},_$[attr]="url('"+R._url+"#"+id+"')",_$[attr+"-opacity"]=1,_$)),s.fill=E,1},updatePosition=function(o){var bbox=o.getBBox(1);$(o.pattern,{patternTransform:o.matrix.invert()+" translate("+bbox.x+","+bbox.y+")"})},addArrow=function(o,value,isEnd){if("path"==o.type){for(var from,to,dx,refX,attr,values=Str(value).toLowerCase().split("-"),p=o.paper,se=isEnd?"end":"start",node=o.node,attrs=o.attrs,stroke=attrs["stroke-width"],i=values.length,type="classic",w=3,h=3,t=5;i--;)switch(values[i]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":type=values[i];break;case"wide":h=5;break;case"narrow":h=2;break;case"long":w=5;break;case"short":w=2}if("open"==type?(w+=2,h+=2,t+=2,dx=1,refX=isEnd?4:1,attr={fill:"none",stroke:attrs.stroke}):(refX=dx=w/2,attr={fill:attrs.stroke,stroke:"none"}),o._.arrows?isEnd?(o._.arrows.endPath&&markerCounter[o._.arrows.endPath]--,o._.arrows.endMarker&&markerCounter[o._.arrows.endMarker]--):(o._.arrows.startPath&&markerCounter[o._.arrows.startPath]--,o._.arrows.startMarker&&markerCounter[o._.arrows.startMarker]--):o._.arrows={},"none"!=type){var pathId="raphael-marker-"+type,markerId="raphael-marker-"+se+type+w+h+"-obj"+o.id;R._g.doc.getElementById(pathId)?markerCounter[pathId]++:(p.defs.appendChild($($("path"),{"stroke-linecap":"round",d:markers[type],id:pathId})),markerCounter[pathId]=1);var use,marker=R._g.doc.getElementById(markerId);marker?(markerCounter[markerId]++,use=marker.getElementsByTagName("use")[0]):(marker=$($("marker"),{id:markerId,markerHeight:h,markerWidth:w,orient:"auto",refX:refX,refY:h/2}),use=$($("use"),{"xlink:href":"#"+pathId,transform:(isEnd?"rotate(180 "+w/2+" "+h/2+") ":E)+"scale("+w/t+","+h/t+")","stroke-width":(1/((w/t+h/t)/2)).toFixed(4)}),marker.appendChild(use),p.defs.appendChild(marker),markerCounter[markerId]=1),$(use,attr);var delta=dx*("diamond"!=type&&"oval"!=type);isEnd?(from=o._.arrows.startdx*stroke||0,to=R.getTotalLength(attrs.path)-delta*stroke):(from=delta*stroke,to=R.getTotalLength(attrs.path)-(o._.arrows.enddx*stroke||0)),attr={},attr["marker-"+se]="url('"+R._url+"#"+markerId+"')",(to||from)&&(attr.d=R.getSubpath(attrs.path,from,to)),$(node,attr),o._.arrows[se+"Path"]=pathId,o._.arrows[se+"Marker"]=markerId,o._.arrows[se+"dx"]=delta,o._.arrows[se+"Type"]=type,o._.arrows[se+"String"]=value}else isEnd?(from=o._.arrows.startdx*stroke||0,to=R.getTotalLength(attrs.path)-from):(from=0,to=R.getTotalLength(attrs.path)-(o._.arrows.enddx*stroke||0)),o._.arrows[se+"Path"]&&$(node,{d:R.getSubpath(attrs.path,from,to)}),delete o._.arrows[se+"Path"],delete o._.arrows[se+"Marker"],delete o._.arrows[se+"dx"],delete o._.arrows[se+"Type"],delete o._.arrows[se+"String"];for(attr in markerCounter)if(markerCounter[has](attr)&&!markerCounter[attr]){var item=R._g.doc.getElementById(attr);item&&item.parentNode.removeChild(item)}}},dasharray={"":["none"],none:["none"],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},addDashes=function(o,value,params){if(value!==undefined){var calculatedValues,width,butt,i,widthFactor,predefValue=dasharray[value.toLowerCase&&value.toLowerCase()];if(value=predefValue||[].concat(value),R.is(value,"array")){if(width=params["stroke-width"]||o.attrs["stroke-width"]||1,butt={round:width,square:width,butt:0}[params["stroke-linecap"]||o.attrs["stroke-linecap"]]||0,i=value.length,widthFactor=predefValue?width:1,"none"===value[0])calculatedValues=value;else for(calculatedValues=[];i--;)calculatedValues[i]=value[i]*widthFactor+(i%2?1:-1)*butt,calculatedValues[i]<=0&&(calculatedValues[i]=.01+(width<=1?butt:0)),isNaN(calculatedValues[i])&&(calculatedValues[i]=0);return{"stroke-dasharray":calculatedValues.join(",")}}}},setFillAndStroke=R._setFillAndStroke=function(o,params){if(o.paper.canvas){var el,att,value,pathClip,urlArr,rect,node=o.node,attrs=o.attrs,paper=o.paper,finalAttr={},finalS={},ignoreAttrs={"clip-rect":!0};"image"===o.type&&(0,_raphael.loadRefImage)(o,params);for(att in params)if(att in R._availableAttrs)if((value=params[att])===E&&att in attrs)delete attrs[att],node.removeAttribute("src"===att?"href":att);else if(null!==value||ignoreAttrs[att])switch(attrs[att]=value,att){case"blur":o.blur(value);break;case"href":case"title":case"target":var pn=node.parentNode;if("a"!==pn.tagName.toLowerCase()){if(value===E)break;var hl=$("a");hl.raphael=!0,hl.raphaelid=node.raphaelid,pn.insertBefore(hl,node),hl.appendChild(node),pn=hl}"target"===att?pn.setAttributeNS(xlink,"show","blank"===value?"new":value):pn.setAttributeNS(xlink,att,value),node.titleNode=pn;break;case"cursor":finalS.cursor=value;break;case"transform":o.transform(value);break;case"rotation":R.is(value,"array")?o.rotate.apply(o,value):o.rotate(value);break;case"arrow-start":addArrow(o,value);break;case"arrow-end":addArrow(o,value,1);break;case"clip-path":pathClip=!0;case"clip-rect":if(rect=!pathClip&&Str(value).split(separator),o._.clipispath=!!pathClip,pathClip||4===rect.length){o.clip&&o.clip.parentNode.parentNode.removeChild(o.clip.parentNode);var rc=$(pathClip?"path":"rect");el=$("clipPath"),el.id=R.getElementID(R.createUUID()),$(rc,pathClip?{d:value?attrs["clip-path"]=R._pathToAbsolute(value):R._availableAttrs.path,fill:"none"}:{x:rect[0],y:rect[1],width:rect[2],height:rect[3],transform:o.matrix.invert()}),el.appendChild(rc),paper.defs.appendChild(el),finalAttr["clip-path"]="url('"+R._url+"#"+el.id+"')",o.clip=rc}if(!value){var path=node.getAttribute("clip-path");if(path){var clip=R._g.doc.getElementById(path.replace(/(^url\(#|\)$)/g,E));clip&&clip.parentNode.removeChild(clip),finalAttr["clip-path"]=E,11===document.documentMode&&node.removeAttribute("clip-path"),delete o.clip}}break;case"path":"path"===o.type&&(finalAttr.d=value?attrs.path=R._stopabsolutePath?R.sanitizePath(value):R._pathToAbsolute(value):R._availableAttrs.path,o._.dirty=1,o._.arrows&&("startString"in o._.arrows&&addArrow(o,o._.arrows.startString),"endString"in o._.arrows&&addArrow(o,o._.arrows.endString,1)));break;case"width":if(finalAttr[att]=value,o._.dirty=1,!attrs.fx)break;att="x",value=attrs.x;case"x":attrs.fx&&(value=-attrs.x-(attrs.width||0));case"rx":if("rx"===att&&"rect"===o.type)break;case"cx":finalAttr[att]=value,o.pattern&&updatePosition(o),o._.dirty=1;break;case"height":if(finalAttr[att]=value,o._.dirty=1,!attrs.fy)break;att="y",value=attrs.y;case"y":if("text"===o.type)break;attrs.fy&&(value=-attrs.y-(attrs.height||0));case"ry":if("ry"===att&&"rect"===o.type)break;case"cy":finalAttr[att]=value,o.pattern&&updatePosition(o),o._.dirty=1;break;case"r":"rect"===o.type?finalAttr.rx=finalAttr.ry=value:finalAttr[att]=value,o._.dirty=1;break;case"src":"image"===o.type&&node.setAttributeNS(xlink,"href",value);break;case"stroke-width":1===o._.sx&&1===o._.sy||(value/=mmax(abs(o._.sx),abs(o._.sy))||1),paper._vbSize&&(value*=paper._vbSize),zeroStrokeFix&&0===value&&(value=1e-6),finalAttr[att]=value,!params["stroke-dasharray"]&&attrs["stroke-dasharray"]&&""!==params["stroke-dasharray"]&&quickExtend(finalAttr,addDashes(o,attrs["stroke-dasharray"],params)),o._.arrows&&("startString"in o._.arrows&&R.addArrow&&R.addArrow(o,o._.arrows.startString),"endString"in o._.arrows&&R.addArrow&&R.addArrow(o,o._.arrows.endString,1));break;case"stroke-dasharray":quickExtend(finalAttr,addDashes(o,value,params));break;case"fill":var isURL=R._ISURL.test(value);if(isURL){urlArr=value.split(R._ISURL),el=$("pattern");var ig=$("image");el.id=R.getElementID(R.createUUID()),$(el,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),$(ig,{x:0,y:0,"xlink:href":urlArr[1]}),el.appendChild(ig),preLoad(el,ig,urlArr,paper),paper.defs.appendChild(el),finalAttr.fill="url('"+R._url+urlArr[1]+"')",o.pattern=el,o.pattern&&updatePosition(o);break}var clr=R.getRGB(value);if(clr.error){if(("circle"===o.type||"ellipse"===o.type||"r"!==Str(value).charAt())&&addGradient(o,value)){attrs.gradient=value;break}}else delete params.gradient,delete attrs.gradient,!R.is(attrs["fill-opacity"],"undefined")&&R.is(params["fill-opacity"],"undefined")&&(finalAttr["fill-opacity"]=attrs["fill-opacity"]),o.gradient&&updateGradientReference(o);clr[has]("opacity")?(finalAttr["fill-opacity"]=clr.opacity>1?clr.opacity/100:clr.opacity,o._.fillOpacityDirty=!0):o._.fillOpacityDirty&&R.is(attrs["fill-opacity"],"undefined")&&R.is(params["fill-opacity"],"undefined")&&(node.removeAttribute("fill-opacity"),delete o._.fillOpacityDirty);case"stroke":clr=R.getRGB(value),clr.error?"circle"!==o.type&&"ellipse"!==o.type&&"r"===Str(value).charAt()||addGradient(o,value,"stroke"):(finalAttr[att]=clr.hex,updateGradientReference(o,void 0,att)),"stroke"===att&&(clr[has]("opacity")?(finalAttr["stroke-opacity"]=clr.opacity>1?clr.opacity/100:clr.opacity,o._.strokeOpacityDirty=!0):o._.strokeOpacityDirty&&R.is(attrs["stroke-opacity"],"undefined")&&R.is(params["stroke-opacity"],"undefined")&&(node.removeAttribute("stroke-opacity"),delete o._.strokeOpacityDirty),o._.arrows&&("startString"in o._.arrows&&addArrow(o,o._.arrows.startString),"endString"in o._.arrows&&addArrow(o,o._.arrows.endString,1)));break;case"gradient":("circle"===o.type||"ellipse"===o.type||"r"!==Str(value).charAt())&&addGradient(o,value);break;case"visibility":"hidden"===value?o.hide():o.show();break;case"opacity":value=value>1?value/100:value,finalAttr.opacity=value;break;case"fill-opacity":value=value>1?value/100:value,finalAttr["fill-opacity"]=value;break;case"shape-rendering":o.attrs[att]=value=shapeRenderingAttrs[value]||value||"auto",finalAttr[att]=value,node.style.shapeRendering=value;break;case"line-height":case"vertical-align":break;default:"font-size"===att&&(value=toInt(value,10)+"px"),o._.dirty=1,finalAttr[att]=value,_raphael.dashedAttr2CSSMap[att]&&(finalS[_raphael.dashedAttr2CSSMap[att]]=value)}else att in attrs&&(delete attrs[att],node.removeAttribute("src"===att?"href":att));else att in allPossibleAttrs&&(value===E&&att in attrs?(delete attrs[att],node.removeAttribute(att)):(attrs[att]=value,finalS[att]=value));for(att in finalS)node.style[att]=finalS[att];for(att in finalAttr)node.setAttribute(att,finalAttr[att]);"text"===o.type&&!params["_do-not-tune"]&&tuneText(o,params)}},updateFollowers=R._updateFollowers=function(){var i,ii,followerElem,args=(0,_raphael.getArrayCopy)(arguments),o=arrayShift.call(args),fnName=arrayShift.call(args);for(i=0,ii=o.followers.length;i<ii;i++)followerElem=o.followers[i].el,followerElem[fnName].apply(followerElem,args)},tuneText=function(el,params){if("text"===el.type&&(params[has]("text")||params[has]("font")||params[has]("font-size")||params[has]("x")||params[has]("y")||params[has]("line-height")||params[has](vAlignStr)||params[has]("textpath"))){var fontSize,valign,tspanAttr,i,l,ii,texts,tempIESpan,tspan,tspans,text,removeAllChild,a=el.attrs,defs=el.paper.defs,group=el.parent,node=el.node,oldAttr=el._oldAttr=el._oldAttr||{baseLineDiff:8,valign:-.5},lineHeight=toFloat(params["line-height"]||a["line-height"]),direction=params.direction||a.direction||group&&group.attrs&&group.attrs.direction||oldAttr.direction||"initial",updateNode=!1,updateTspan=!1,j=isIE||"rtl"!==direction?1:2,updateAlignment=!1,textChanged=!1,hasnbsp=function(text){return text&&nbspRegex.test(text)},spacify=function(text){return text.replace(/\s+/g," ").trim().replace(nbspRegex," ")};if(params[has]("textpath")){var textPath,tSpan,txtNode,rUUID=R.getElementID(R.createUUID()),textPathParams=params["textpath"],dy=0,textPathProps={};for(var key in textPathParams)textPathParams.hasOwnProperty(key)&&("path"!==key||"href"in textPathParams?textPathProps[key]=textPathParams[key]:oldAttr.textPathStr!==textPathParams[key]?(el.textPathDef?(el.textPathDef.setAttribute("d",textPathParams[key]||E),textPathProps.href="#"+el.textPathDef.getAttribute("id"),textPathProps["xlink:href"]="#"+el.textPathDef.getAttribute("id")):(el.textPathDef=defs.appendChild($("path",{id:rUUID,d:textPathParams[key]||E})),textPathProps.href="#"+rUUID,textPathProps["xlink:href"]="#"+rUUID),oldAttr.textPathStr=textPathParams[key]):(textPathProps.href="#"+el.textPathDef.getAttribute("id"),textPathProps["xlink:href"]="#"+el.textPathDef.getAttribute("id")));for(params[has]("text")?(txtNode=R._g.doc.createTextNode(params["text"]||E),oldAttr.pathText=a.text=params["text"]||E):(txtNode=R._g.doc.createTextNode(oldAttr.pathText||oldAttr.text||E),oldAttr.pathText=oldAttr.pathText||oldAttr.text||E,delete oldAttr.text),params[has](vAlignStr)?("middle"===params[vAlignStr]?(dy=.3,oldAttr.valign=-.5):"bottom"===params[vAlignStr]?(dy=.7,oldAttr.valign=-1):"top"===params[vAlignStr]&&(oldAttr.valign=0),tSpan=$("tspan",{dy:dy+"em"}),tSpan.appendChild(txtNode),oldAttr.tSpan=tSpan):!oldAttr.tSpan||oldAttr.tSpan.textContent!==params["text"]&&"string"===_typeof(params["text"])?(dy=-.5===oldAttr.valign?.3:-1===oldAttr.valign?.7:0,tSpan=$("tspan",{dy:dy+"em"}),tSpan.appendChild(txtNode),oldAttr.tSpan=tSpan):tSpan=oldAttr.tSpan,delete oldAttr.x,delete oldAttr.y,node.removeAttribute("x"),node.removeAttribute("y"),textPath=$("textPath",textPathProps),textPath.appendChild(tSpan||txtNode);node.firstChild;)node.removeChild(node.firstChild);node.appendChild(textPath)}else{if(oldAttr.direction=direction,el.textPathDef&&defs&&(el.textPathDef.parentNode.removeChild(el.textPathDef),delete el.textPathDef),delete oldAttr.txtNode,delete oldAttr.tSpan,delete oldAttr.textPathStr,lineHeight||(fontSize=params.fontSize||params["font-size"]||a["font-size"]||group&&group.attrs&&group.attrs.fontSize,fontSize=fontSize?fontSize.toString().replace("px",E):10,lineHeight=1.2*fontSize),(params[has]("text")||oldAttr.pathText)&&(text=R.is(params.text,"array")?params.text.join("<br>"):null==params.text?oldAttr.pathText:params.text,delete oldAttr.pathText,text!==oldAttr.text&&(textChanged=!0,text&&ltgtbrRegex.test(text)&&(text=text.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;|&#034;/g,'"').replace(/&#039;/g,"'").replace(/&<br\/>lt;|&l<br\/>t;|&lt<br\/>;/g,"<<br/>").replace(/&<br\/>gt;|&g<br\/>t;|&gt<br\/>;/g,"><br/>")),oldAttr.text=a.text=text,textBreakRegx.test(text)?(oldAttr.noTSpan&&(oldAttr.noTSpan=!(removeAllChild=!0)),texts=Str(text).split(textBreakRegx),l=texts.length):(removeAllChild=!0,oldAttr.noTSpan=!0,l=1),oldAttr.lineCount!==l&&(oldAttr.lineCount=l,updateAlignment=!0))),lineHeight!==oldAttr.lineHeight&&(oldAttr.lineHeight=lineHeight,oldAttr.baseLineDiff=.75*lineHeight,updateAlignment=!0),removeAllChild)for(;node.firstChild;)node.removeChild(node.firstChild);if(oldAttr.lineCount>1){if("pre"===node.style.whiteSpace&&(node.style.whiteSpace=""),tspanAttr={},oldAttr.tspanAttr||(oldAttr.tspanAttr={},oldAttr.tspan0Attr={}),oldAttr.tspanAttr.dy!==oldAttr.lineHeight&&(oldAttr.tspanAttr.dy=tspanAttr.dy=oldAttr.lineHeight,updateTspan=!0),params[has]("x")&&oldAttr.tspanAttr.x!==params.x&&(oldAttr.tspan0Attr.x=oldAttr.tspanAttr.x=tspanAttr.x=a.x,updateTspan=!0),textChanged){for(tspans=node.getElementsByTagName("tspan"),i=0;i<l;i++){if(tspan=tspans[i*j]){if(tspan.innerHTML=E,isIE)for(;tspan.firstChild;)tspan.removeChild(tspan.firstChild);updateTspan&&$(tspan,i?tspanAttr:oldAttr.tspan0Attr)}else tspan=$("tspan",i?oldAttr.tspanAttr:oldAttr.tspan0Attr),node.appendChild(tspan),isIE||"rtl"!==direction||(tempIESpan=$("tspan",IESplTspanAttr),tempIESpan.appendChild(R._g.doc.createTextNode("i")),node.appendChild(tempIESpan));texts[i]||(tspan.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),texts[i]=S),hasnbsp(texts[i])?(texts[i]=spacify(texts[i]),tspan.style.whiteSpace="pre"):"pre"===tspan.style.whiteSpace&&(tspan.style.whiteSpace=""),tspan.appendChild(R._g.doc.createTextNode(texts[i]))}if(ii=l*j,tspans.length>ii)for(i=tspans.length-1;i>=ii;i-=1)node.removeChild(tspans[i])}else if(updateTspan)for(tspans=node.getElementsByTagName("tspan"),ii=tspans.length,i=0;i<ii;i+=j)$(tspans[i],i?tspanAttr:oldAttr.tspan0Attr)}else textChanged&&(hasnbsp(text)?(text=spacify(text),node.style.whiteSpace="pre"):"pre"===node.style.whiteSpace&&(node.style.whiteSpace=""),node.appendChild(R._g.doc.createTextNode(text)));params[vAlignStr]&&(valign=vAlignMultiplier[a[vAlignStr]]||0)!==oldAttr.valign&&(oldAttr.valign=valign,updateAlignment=!0),updateAlignment&&(oldAttr.shift=oldAttr.baseLineDiff+oldAttr.lineCount*oldAttr.lineHeight*oldAttr.valign,updateNode=!0),!params.y&&0!==params.y||oldAttr.y===params.y||(oldAttr.y=a.y,updateNode=!0),!updateNode||!oldAttr.y&&0!==oldAttr.y||!oldAttr.shift&&0!==oldAttr.shift||$(node,{y:Math.round(oldAttr.y+oldAttr.shift)})}}},Element=function(node,svg,group){var o=this,parent=group||svg;/*! dontAppend && */
parent.canvas&&parent.canvas.appendChild(node),o.node=o[0]=node,node.raphael=!0,node.raphaelid=o.id=R._oid++,o.matrix=R.matrix(),o.realPath=null,o.attrs=o.attrs||{},o.followers=o.followers||[],o.paper=svg,o.ca=o.customAttributes=o.customAttributes||new svg._CustomAttributes,o._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},o.parent=parent,!parent.bottom&&(parent.bottom=o),o.prev=parent.top,parent.top&&(parent.top.next=o),parent.top=o,o.next=null},getTouchDistance=function(touch1,touch2,isY){var select=isY?"pageY":"pageX";return Math.abs(touch2[select]-touch1[select])},storeHandlers=R.storeHandlers=function(elem,handler,fn){elem._actualListners||(elem._actualListners=[]),elem._derivedListeners||(elem._derivedListeners=[]),elem._actualListners.push(handler),elem._derivedListeners.push(fn)},removeHandlers=function(elem,handler){var derivedHandler,index=elem._actualListners.indexOf(handler);return-1!==index&&(derivedHandler=elem._derivedListeners[index],elem._actualListners.splice(index,1),elem._derivedListeners.splice(index,1)),derivedHandler},elproto=R.el;Element.prototype=elproto,elproto.constructor=Element,R._engine.getNode=function(el){var node=el.node||el[0].node;return node.titleNode||node},R._engine.getLastNode=function(el){var node=el.node||el[el.length-1].node;return node.titleNode||node},elproto.rotate=function(deg,cx,cy){var bbox,o=this;return o.removed?o:(updateFollowers(o,"rotate",deg,cx,cy),deg=Str(deg).split(separator),deg.length-1&&(cx=toFloat(deg[1]),cy=toFloat(deg[2])),deg=toFloat(deg[0]),null==cy&&(cx=cy),null!=cx&&null!=cy||(bbox=o.getBBox(1),cx=bbox.x+bbox.width/2,cy=bbox.y+bbox.height/2),o.transform(o._.transform.concat([["r",deg,cx,cy]])),o)},elproto.scale=function(sx,sy,cx,cy){var bbox,o=this;return o.removed?o:(updateFollowers(o,"scale",sx,sy,cx,cy),sx=Str(sx).split(separator),sx.length-1&&(sy=toFloat(sx[1]),cx=toFloat(sx[2]),cy=toFloat(sx[3])),sx=toFloat(sx[0]),null==sy&&(sy=sx),null==cy&&(cx=cy),null!=cx&&null!=cy||(bbox=o.getBBox(1)),cx=null==cx?bbox.x+bbox.width/2:cx,cy=null==cy?bbox.y+bbox.height/2:cy,o.transform(o._.transform.concat([["s",sx,sy,cx,cy]])),o)},elproto.translate=function(dx,dy){var o=this;return o.removed?o:(updateFollowers(o,"translate",dx,dy),dx=Str(dx).split(separator),dx.length-1&&(dy=toFloat(dx[1])),dx=toFloat(dx[0])||0,dy=+dy||0,o.transform(o._.transform.concat([["t",dx,dy]])),o)},elproto.transform=function(tstr){var sw,o=this,_=o._;return null==tstr?_.transform:(R._extractTransform(o,tstr),o.clip&&!_.clipispath&&$(o.clip,{transform:o.matrix.invert()}),o.pattern&&updatePosition(o),o.node&&$(o.node,{transform:o.matrix}),1===_.sx&&1===_.sy||(sw=o.attrs["stroke-width"])&&o.attr({"stroke-width":sw}),o)},elproto.hide=function(){var o=this;return updateFollowers(o,"hide"),!o.removed&&o.paper.safari(o.node.style.display="none"),o},elproto.show=function(){var o=this;return updateFollowers(o,"show"),!o.removed&&o.paper.safari(o.node.style.display=E),o},elproto.remove=function(){if(!this.removed&&this.parent.canvas){var i,o=this,node=R._engine.getNode(o),paper=o.paper,defs=paper.defs;for(paper.__set__&&paper.__set__.exclude(o),eve.unbind("raphael.*.*."+o.id),o.gradient&&defs&&updateGradientReference(o),o["stroke-gradient"]&&defs&&updateGradientReference(o,void 0,"stroke"),o.textPathDef&&defs&&(o.textPathDef.parentNode.removeChild(o.textPathDef),delete o.textPathDef);i=o.followers.pop();)i.el.remove();for(;i=o.bottom;)i.remove();if(o._drag&&o.undrag(),o.events)for(;i=o.events.pop();)i.unbind();o.parent.canvas.contains(node)&&o.parent.canvas.removeChild(node),o.removeData(),delete paper._elementsById[o.id],R._tear(o,o.parent);for(i in o)o[i]=_typeof(o[i])===fnStr?R._removedFactory(i):null;o.removed=!0}},elproto._getBBox=function(){var fn,align,hide,o=this,node=o.node,bbox={},a=o.attrs,isText="text"===o.type;isIE&&isText?fn=(0,_raphael.showRecursively)(o):"none"===node.style.display&&(o.show(),hide=!0);try{bbox=node.getBBox(),isText&&(bbox.x===undefined&&(bbox.isCalculated=!0,align=a["text-anchor"],bbox.x=(a.x||0)-bbox.width*("start"===align?0:"middle"===align?.5:1)),bbox.y===undefined&&(bbox.isCalculated=!0,align=a[vAlignStr],bbox.y=(a.y||0)-bbox.height*("bottom"===align?1:"middle"===align?.5:0)))}catch(e){}finally{bbox=bbox||{}}return isIE&&isText?fn&&fn():hide&&o.hide(),bbox},elproto.attr=function(name,value){if(this.removed)return this;var key,i,ii,params,subkey,par,follower,ca,elem=this,attrs=this.attrs,finalParam={},invokedCa=elem._invokedCa||(elem._invokedCa={}),caObj=this.ca;if(null==name){var res={};for(key in attrs)attrs[has](key)&&(res[key]=attrs[key]);return res.gradient&&"none"===res.fill&&(res.fill=res.gradient)&&delete res.gradient,res.transform=this._.transform,res.visibility="none"===this.node.style.display?"hidden":"visible",res}if(null==value){if(R.is(name,"object"))params=name;else if(R.is(name,"string"))return"fill"===name&&"none"===attrs.fill&&attrs.gradient?attrs.gradient:"transform"===name?this._.transform:"visibility"===name?"none"===this.node.style.display?"hidden":"visible":name in attrs?attrs[name]:R.is(caObj[name],fnStr)?caObj[name].def:R._availableAttrs[name]}else params={},params[name]=value;if(!R.stopPartialEventPropagation)for(key in params)eve("raphael.attr."+key+"."+this.id,this,params[key],key);for(key in params)if((ca=caObj[key])&&!invokedCa[key]&&R.is(ca,fnStr)){invokedCa[key]=!0,par=ca.apply(this,[].concat(params[key])),invokedCa[key]=!1;for(subkey in par)finalParam[subkey]=par[subkey];attrs[key]=params[key]}else finalParam[key]=params[key];for(setFillAndStroke(this,finalParam),i=0,ii=this.followers.length;i<ii;i++)follower=this.followers[i],follower.cb&&!follower.cb.call(follower.el,finalParam,this)||follower.el.attr(finalParam);return this},elproto.pinchstart=function(handler,context){var elem=this,dummyEve={},fn=function(e){if(e.touches&&2===e.touches.length){var touch1=e.touches[0],touch2=e.touches[1];elem._blockDrag=!0,e&&e.preventDefault(),R.makeSelectiveCopy(dummyEve,e),dummyEve.data={finger0:touch1,finger1:touch2,distanceX:getTouchDistance(touch1,touch2),distanceY:getTouchDistance(touch1,touch2,!0)},handler.call(context||elem,dummyEve)}else elem._blockDrag=!1};storeHandlers(elem,handler,fn),elem.node.addEventListener("touchstart",fn)},elproto.unpinchstart=function(handler){var elem=this,derivedHandler=removeHandlers(elem,handler);elem.__blockDrag=!1,elem._pinchDragStarted=!1,derivedHandler&&elem.node.removeEventListener("touchstart",derivedHandler)},elproto.pinchmove=function(handler,context){var elem=this,dummyEve={},fn=function(e){if(e.touches&&2===e.touches.length){var touch1=e.touches[0],touch2=e.touches[1];e&&e.preventDefault(),elem._pinchDragStarted=!0,R.makeSelectiveCopy(dummyEve,e),dummyEve.data={finger0:touch1,finger1:touch2,distanceX:getTouchDistance(touch1,touch2),distanceY:getTouchDistance(touch1,touch2,!0)},handler.call(context||elem,dummyEve)}};storeHandlers(elem,handler,fn),elem.node.addEventListener("touchmove",fn)},elproto.unpinchmove=function(handler){var elem=this,derivedHandler=removeHandlers(elem,handler);derivedHandler&&elem.node.removeEventListener("touchmove",derivedHandler)},elproto.pinchend=function(handler,context){var elem=this,fn=function(e){elem._pinchDragStarted&&(elem._pinchDragStarted=!1,handler.call(context||elem,e))};storeHandlers(elem,handler,fn),elem.node.addEventListener("touchend",fn)},elproto.unpinchend=function(handler){var elem=this,derivedHandler=removeHandlers(elem,handler);elem._pinchDragStarted=!1,derivedHandler&&elem.node.removeEventListener("touchend",derivedHandler)},elproto.pinch=function(pinchstarthandler,pinchinhandler,pinchendhandler){elproto.pinchstart.call(this,pinchstarthandler),elproto.pinchin.call(this,pinchinhandler),elproto.pinchend.call(this,pinchendhandler)},elproto.unpinch=function(pinchstarthandler,pinchinhandler,pinchendhandler){elproto.unpinchstart.call(this,pinchstarthandler),elproto.unpinchin.call(this,pinchinhandler),elproto.unpinchend.call(this,pinchendhandler)},elproto.fcwheel=function(handler,context){var elem=this,dummyEve={},fn=function(e){e&&e.preventDefault(),R.makeSelectiveCopy(dummyEve,e),handler.call(context||elem,dummyEve)};storeHandlers(elem,handler,fn),elem.node.addEventListener("wheel",fn)},elproto.fcunwheel=function(handler){var elem=this,derivedHandler=removeHandlers(elem,handler);derivedHandler&&elem.node.removeEventListener("wheel",derivedHandler)},elproto.on=function(eventType,handler,context){if(handler&&eventType){var node,actualEventType,elem=this,isSafe=eventType.match(/fc-/),fn=handler;if(this.removed)return this;switch(elem._actualListners||(elem._actualListners=[]),elem._derivedListeners||(elem._derivedListeners=[]),eventType){case"fc-dragstart":return elem.drag(null,handler),elem;case"fc-dragmove":return elem.drag(handler),elem;case"fc-dragend":return elem.drag(null,null,handler),elem;case"fc-dbclick":return elem.dbclick(handler,context),elem;case"fc-pinchstart":return elem.pinchstart(handler,context),elem;case"fc-pinchmove":return elem.pinchmove(handler,context),elem;case"fc-pinchend":return elem.pinchend(handler,context),elem;case"fc-click":return elem.fcclick(handler,context),elem;case"fc-wheel":return elem.fcwheel(handler,context),elem}return isSafe&&(eventType=eventType.replace(/fc-/,"")),isSafe&&supportsTouch&&(actualEventType=eventType,eventType=(supportsPointer?R.safePointerEventMapping[eventType]:safeMouseEventMapping[eventType])||eventType,"mouseout"===actualEventType&&(fn=function(e){supportsPointer&&supportsTouch&&!e.isPrimary||(lastHoveredInfo.elementInfo.push({el:context||elem,callback:handler}),lastHoveredInfo.srcElement=e.srcElement||e.target)},eventType=supportsPointer?"pointerover":"touchstart")),this._&&this._.RefImg&&("load"===eventType||"error"===eventType)?(node=this._.RefImg,fn=function(e){!elem.removed&&handler.call(elem,e)}):node=this.node,fn===handler&&(fn=function(e){!(supportsPointer&&supportsTouch&&!e.isPrimary)&&handler.call(context||elem,e)}),elem._actualListners.push(handler),elem._derivedListeners.push(fn),node.addEventListener?node.addEventListener(eventType,fn):node["on"+eventType]=fn,this}},elproto.off=function(eventType,handler){var actualEventType,index,node,elem=this,fn=handler,isSafe=eventType.match(/fc-/);if(this.removed||!elem._actualListners||!eventType||!handler)return this;switch(eventType){case"fc-dragstart":return elem.undragstart(handler),elem;case"fc-dragmove":return elem.undragmove(handler),elem;case"fc-dragend":return elem.undragend(handler),elem;case"fc-dbclick":return elem.undbclick(handler),elem;case"fc-pinchstart":return elem.unpinchstart(handler),elem;case"fc-pinchmove":return elem.unpinchmove(handler),elem;case"fc-pinchend":return elem.unpinchend(handler),elem;case"fc-click":return elem.fcunclick(handler),elem;case"fc-wheel":return elem.fcunwheel(handler),elem}return isSafe&&(eventType=eventType.replace(/fc-/,"")),fn=handler,isSafe&&supportsTouch&&(actualEventType=eventType,eventType=(supportsPointer?R.safePointerEventMapping[eventType]:safeMouseEventMapping[eventType])||eventType,"mouseout"===actualEventType&&(eventType=supportsPointer?"pointerover":"touchstart")),node=this._&&this._.RefImg?this._.RefImg:this.node,index=elem._actualListners.indexOf(fn),-1!==index&&(fn=elem._derivedListeners[index],elem._actualListners.splice(index,1),elem._derivedListeners.splice(index,1)),node.removeEventListener?node.removeEventListener(eventType,fn):node["on"+eventType]=null,this},R._engine.path=function(svg,attrs,group){var el=$("path"),res=new Element(el,svg,group);return res.type="path",attrs&&res.attr(attrs),res},R._engine.group=function(svg,id,group,overrideId){var el=$("g"),res=new Element(el,svg,group);return res.type="group",res.canvas=res.node,res.top=res.bottom=null,res._id=id||E,id&&(overrideId?el.setAttribute("class","raphael-group-"+id):el.setAttribute("class","raphael-group-"+res.id+"-"+id)),res},R._engine.circle=function(svg,attrs,group){var el=$("circle"),res=new Element(el,svg,group);return res.type="circle",attrs&&res.attr(attrs),res},R._engine.rect=function(svg,attrs,group){var el=$("rect"),res=new Element(el,svg,group);return res.type="rect",attrs.rx=attrs.ry=attrs.r,attrs&&res.attr(attrs),res},R._engine.ellipse=function(svg,attrs,group){var el=$("ellipse"),res=new Element(el,svg,group);return res.type="ellipse",attrs&&res.attr(attrs),res},R._engine.image=function(svg,attrs,group){var el=$("image"),res=new Element(el,svg,group,!0);return res._.group=group||svg,res.type="image",el.setAttribute("preserveAspectRatio","none"),attrs&&res.attr(attrs),res},R._engine.text=function(svg,attrs,group,css){var el=$("text"),res=new Element(el,svg,group);return res.type="text",css&&res.css&&res.css(css,undefined,!0),attrs&&res.attr(attrs),res},R._engine.setSize=function(width,height){return this.width=width||this.width,this.height=height||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},R._engine.create=function(){var paper,con=R._getContainer.apply(0,arguments),container=con&&con.container,x=con.x,y=con.y,width=con.width,height=con.height;if(!container)throw new Error("SVG container not found.");var isFloating,cnvs=$("svg"),css="overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-moz-user-select:-moz-none;-khtml-user-select:none;-ms-user-select:none;user-select:none;-o-user-select:none;cursor:default;vertical-align:middle;";return supportsTouch&&(R.isIE10?css+="-ms-touch-action:none;":css+="touch-action:none;"),x=x||0,y=y||0,width=width||512,height=height||342,$(cnvs,{height:height,version:1.1,width:width,xmlns:svgNSStr}),1===container?(cnvs.style.cssText=css+"position:absolute;left:"+x+"px;top:"+y+"px",container=R._g.doc.body,container.appendChild(cnvs),isFloating=1):(cnvs.style.cssText=css+"position:relative",container.firstChild?container.insertBefore(cnvs,container.firstChild):container.appendChild(cnvs)),paper=new R._Paper,paper.width=width,paper.height=height,paper.canvas=cnvs,paper.container=container,$(cnvs,{id:"raphael-paper-"+paper.id}),paper.clear(),paper._left=paper._top=0,isFloating&&(paper.renderfix=function(){}),paper.renderfix(),paper},R._engine.setViewBox=function(x,y,w,h,fit){eve("raphael.setViewBox",this,this._viewBox,[x,y,w,h,fit]);var vb,sw,size=mmax(w/this.width,h/this.height),top=this.top,aspectRatio=fit?"meet":"xMinYMin";if(null==x?(this._vbSize&&(size=1),delete this._vbSize,vb="0 0 "+this.width+S+this.height):(this._vbSize=size,vb=x+S+y+S+w+S+h),$(this.canvas,{viewBox:vb,preserveAspectRatio:aspectRatio}),size)for(;top;)sw="stroke-width"in top.attrs?top.attrs["stroke-width"]:1,top.attr({"stroke-width":sw}),top._.dirty=1,top._.dirtyT=1,top=top.prev;return this._viewBox=[x,y,w,h,!!fit],this},R.prototype.detachPaper=function(){!1!==this._detached&&(this.container.removeChild(this.canvas),this._detached=!0)},R.prototype.attachPaper=function(){this._detached&&(this.container.appendChild(this.canvas),this._detached=!1)},R.prototype.renderfix=function(){var pos,cnvs=this.canvas,s=cnvs.style;try{pos=cnvs.getScreenCTM()||cnvs.createSVGMatrix()}catch(e){pos=cnvs.createSVGMatrix()}var left=-pos.e%1,top=-pos.f%1;(left||top)&&(left&&(this._left=(this._left+left)%1,s.left=this._left+"px"),top&&(this._top=(this._top+top)%1,s.top=this._top+"px"))},R.prototype._desc=function(txt){var desc=this.desc;if(desc)for(;desc.firstChild;)desc.removeChild(desc.firstChild);else this.desc=desc=$("desc"),this.canvas.appendChild(desc);desc.appendChild(R._g.doc.createTextNode(R.is(txt,"string")?txt:"Created with Red Raphaël "+R.version))},R.prototype.clear=function(){var c;for(eve("raphael.clear",this);c=this.bottom;)c.remove();for(c=this.canvas;c.firstChild;)c.removeChild(c.firstChild);this.bottom=this.top=null,c.appendChild(this.desc=$("desc")),c.appendChild(this.defs=$("defs"))},R.prototype.remove=function(){var i;for(eve("raphael.remove",this);i=this.bottom;)i.remove();this.defs&&this.defs.parentNode.removeChild(this.defs),this.desc&&this.desc.parentNode.removeChild(this.desc),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(i in this)this[i]=_typeof(this[i])===fnStr?R._removedFactory(i):null;this.removed=!0},R.prototype.setHTMLClassName=function(){}}};var _raphael=__webpack_require__(10);module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _iterator=__webpack_require__(7),_iterator2=_interopRequireDefault(_iterator),_symbol=__webpack_require__(9),_symbol2=_interopRequireDefault(_symbol),_typeof="function"==typeof _symbol2["default"]&&"symbol"==typeof _iterator2["default"]?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof _symbol2["default"]&&obj.constructor===_symbol2["default"]&&obj!==_symbol2["default"].prototype?"symbol":typeof obj};/**!
* RedRaphael 1.0.0 - JavaScript Vector Library VML Module
* Copyright (c) 2012-2013 FusionCharts, Inc. <http://www.fusioncharts.com>
*
* Raphael 2.1.0 - JavaScript Vector Library VML Module
* Copyright (c) 2008-2012 Dmitry Baranovskiy <http://raphaeljs.com>
* Copyright © 2008-2012 Sencha Labs <http://sencha.com>
*
* Licensed under the MIT license.
*/
exports["default"]=function(R){if(R.vml){var b,LoadRefImage=function(element,attrs){var src=attrs.src;element._.group,element.node;element._.RefImg||(element._.RefImg=new Image),attrs.src!==undefined&&(element._.RefImg.src=src)},has="hasOwnProperty",Str=String,toFloat=parseFloat,math=Math,round=math.round,mmax=math.max,mmin=math.min,sqrt=math.sqrt,abs=math.abs,separator=/[, ]+/,eve=R.eve,arrayShift=Array.prototype.shift,doc=R._g.doc,f=doc.createElement("div"),S=" ",E="",map={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bites=/([clmz]),?([^clmz]*)/gi,val=/-?[^,\s-]+/g,cssDot="position:absolute;left:0;top:0;width:1px;height:1px",zoom=21600,pathTypes={path:1,rect:1,image:1},ovalTypes={circle:1,ellipse:1},path2vml=function(path){var total=/[ahqstv]/gi,command=R._pathToAbsolute;if(Str(path).match(total)&&(command=R._path2curve),total=/[clmz]/g,command==R._pathToAbsolute&&!Str(path).match(total)){var res=Str(path).replace(bites,function(all,command,args){var vals=[],isMove="m"==command.toLowerCase(),res=map[command];return args.replace(val,function(value){isMove&&2==vals.length&&(res+=vals+map["m"==command?"l":"L"],vals=[]),vals.push(round(value*zoom))}),res+vals});return res||"m0,0"}var p,r,pa=command(path);res=[];for(var i=0,ii=pa.length;i<ii;i++){p=pa[i],r=pa[i][0].toLowerCase(),"z"==r&&(r="x");for(var j=1,jj=p.length;j<jj;j++)r+=round(p[j]*zoom)+(j!=jj-1?",":E);res.push(r)}return res.length?res.join(S):"m0,0"},compensation=function(deg,dx,dy){var m=R.matrix();return m.rotate(-deg,.5,.5),{dx:m.x(dx,dy),dy:m.y(dx,dy)}},setCoords=function(p,sx,sy,dx,dy,deg){var _=p._,m=p.matrix,fillpos=_.fillpos,o=p.node,s=o.style,y=1,flip="",kx=zoom/sx,ky=zoom/sy;if(s.visibility="hidden",sx&&sy){if(o.coordsize=abs(kx)+S+abs(ky),s.rotation=deg*(sx*sy<0?-1:1),deg){var c=compensation(deg,dx,dy);dx=c.dx,dy=c.dy}if(sx<0&&(flip+="x"),sy<0&&(flip+=" y")&&(y=-1),s.flip=flip,o.coordorigin=dx*-kx+S+dy*-ky,fillpos||_.fillsize){var fill=o.getElementsByTagName("fill");fill=fill&&fill[0],fill&&(o.removeChild(fill),fillpos&&(c=compensation(deg,m.x(fillpos[0],fillpos[1]),m.y(fillpos[0],fillpos[1])),fill.position=c.dx*y+S+c.dy*y),_.fillsize&&(fill.size=_.fillsize[0]*abs(sx)+S+_.fillsize[1]*abs(sy)),o.appendChild(fill))}s.visibility="visible"}};f.innerHTML='<v:shape adj="1"/>',b=f.firstChild,b.style.behavior="url(#default#VML)",b&&"object"==_typeof(b.adj)||(R.type=E),f=null,R._url=E,R.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var applyCustomAttributes=function(o,attrs){for(var key in attrs)eve("raphael.attr."+key+"."+o.id,o,attrs[key],key),o.ca[key]&&o.attr(key,attrs[key])},styles=["font","line-height","font-family","font-weight","font-style","font-size"],getComputedFontStyle=function(o){for(var _break,i,attrs,style={},len=styles.length;o.paper&&o.paper.canvas;){for(attrs=o.attrs,_break=!0,i=0;i<len;i++)style[styles[i]]||(style[styles[i]]=attrs[styles[i]],_break=!1);if(_break)break;o=o.parent}return style},setFillAndStroke=R._setFillAndStroke=function(o,params){if(o.paper.canvas){o.attrs=o.attrs||{};var oriOp,node=o.node,a=o.attrs,s=node.style,newpath=pathTypes[o.type]&&(params.x!=a.x||params.y!=a.y||params.width!=a.width||params.height!=a.height||params.cx!=a.cx||params.cy!=a.cy||params.rx!=a.rx||params.ry!=a.ry||params.r!=a.r),isOval=ovalTypes[o.type]&&(a.cx!=params.cx||a.cy!=params.cy||a.r!=params.r||a.rx!=params.rx||a.ry!=params.ry),isGroup="group"===o.type,res=o;oriOp=res.oriOp||(res.oriOp={});for(var par in params)""!==params[par]?params[has](par)&&(a[par]=params[par]):(node.removeAttribute(par),delete a[par],delete params[par]);if(newpath&&(a.path=R._getPath[o.type](o),o._.dirty=1),params.href&&(node.href=params.href),params.title&&(node.title=params.title),params.target&&(node.target=params.target),params.cursor&&(s.cursor=params.cursor),"blur"in params&&o.blur(params.blur),(params.path&&"path"==o.type||newpath)&&(node.path=path2vml(~Str(a.path).toLowerCase().indexOf("r")?R._pathToAbsolute(a.path):a.path),"image"==o.type&&(o._.fillpos=[a.x,a.y],o._.fillsize=[a.width,a.height],setCoords(o,1,1,0,0,0))),"transform"in params&&o.transform(params.transform),"rotation"in params){var rotation=params.rotation;R.is(rotation,"array")?o.rotate.apply(o,rotation):o.rotate(rotation)}if("visibility"in params&&("hidden"===params.visibility?o.hide():o.show()),isOval){var cx=+a.cx,cy=+a.cy,rx=+a.rx||+a.r||0,ry=+a.ry||+a.r||0;node.path=R.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",round((cx-rx)*zoom),round((cy-ry)*zoom),round((cx+rx)*zoom),round((cy+ry)*zoom),round(cx*zoom))}if("clip-rect"in params){var rect=Str(params["clip-rect"]).split(separator);if(4==rect.length){rect[0]=+rect[0],rect[1]=+rect[1],rect[2]=+rect[2]+rect[0],rect[3]=+rect[3]+rect[1];var offset,div=isGroup?node:node.clipRect||R._g.doc.createElement("div"),dstyle=div.style;isGroup?(o.clip=rect.slice(),offset=o.matrix.offset(),offset=[toFloat(offset[0]),toFloat(offset[1])],rect[0]-=offset[0],rect[1]-=offset[1],rect[2]-=offset[0],rect[3]-=offset[1],dstyle.width="1px",dstyle.height="1px"):node.clipRect||(dstyle.top="0",dstyle.left="0",dstyle.width=o.paper.width+"px",dstyle.height=o.paper.height+"px",node.parentNode.insertBefore(div,node),div.appendChild(node),div.raphael=!0,div.raphaelid=node.raphaelid,node.clipRect=div),dstyle.position="absolute",dstyle.clip=R.format("rect({1}px {2}px {3}px {0}px)",rect)}params["clip-rect"]||(isGroup&&o.clip?(node.style.clip="rect(0px 10800px 10800px 0px)",delete o.clip):node.clipRect&&(node.clipRect.style.clip="rect(0px 10800px 10800px 0px)"))}if("shape-rendering"in params&&(node.style.antialias="crisp"!==params["shape-rendering"]),o.textpath||isGroup){var textpathStyle=isGroup?node.style:o.textpath.style;params.font&&(textpathStyle.font=params.font),params["font-family"]&&(textpathStyle.fontFamily='"'+params["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,E)+'"'),params["font-size"]&&(textpathStyle.fontSize=params["font-size"]),params["font-weight"]&&(textpathStyle.fontWeight=params["font-weight"]),params["font-style"]&&(textpathStyle.fontStyle=params["font-style"])}if("arrow-start"in params&&R.addArrow&&R.addArrow(res,params["arrow-start"]),"arrow-end"in params&&R.addArrow&&R.addArrow(res,params["arrow-end"],1),null!=params.opacity||null!=params["stroke-width"]||null!=params.fill||null!=params.src||null!=params.stroke||null!=params["stroke-width"]||null!=params["stroke-opacity"]||null!=params["fill-opacity"]||null!=params["stroke-dasharray"]||null!=params["stroke-miterlimit"]||null!=params["stroke-linejoin"]||null!=params["stroke-linecap"]){var fill=node.getElementsByTagName("fill"),fillOpacity=-1;if(fill=fill&&fill[0],!fill&&(fill=createNode("fill")),"image"==o.type&&params.src&&(LoadRefImage(o,params),fill.src=params.src),params.fill&&(fill.on=!0),null!=fill.on&&"none"!=params.fill&&null!==params.fill||(fill.on=!1),fill.on&&params.fill){var urlArr,isURL=Str(params.fill).match(R._ISURL);if(isURL){urlArr=params.fill.split(R._ISURL),fill.parentNode==node&&node.removeChild(fill),fill.rotate=!0,fill.src=urlArr[1],fill.type="tile";var bbox=o.getBBox(1);fill.position=bbox.x+S+bbox.y,o._.fillpos=[bbox.x,bbox.y],R._preload(urlArr[1],function(){o._.fillsize=[this.offsetWidth,this.offsetHeight]})}else{var color=R.getRGB(params.fill);fill.color=color.hex,fill.src=E,fill.type="solid",color.error&&(res.type in{circle:1,ellipse:1}||"r"!=Str(params.fill).charAt())&&addGradientFill(res,params.fill,fill)?(a.fill="none",a.gradient=params.fill,fill.rotate=!1):"opacity"in color&&!("fill-opacity"in params)&&(oriOp.nonGradOpacity=fillOpacity=color.opacity)}}if(-1!==fillOpacity||"fill-opacity"in params||"opacity"in params){var opacity=((+a["fill-opacity"]+1||2)-1)*((+a.opacity+1||2)-1);opacity=mmin(mmax(opacity,0),1),oriOp.opacity=opacity,oriOp.opacity1!==undefined?(fill.opacity=oriOp.opacity1*opacity,fill["o:opacity2"]=oriOp.opacity2*opacity):fill.opacity=opacity*(oriOp.nonGradOpacity===undefined?1:oriOp.nonGradOpacity),fill.src&&(fill.color="none")}oriOp.opacity=undefined,node.appendChild(fill);var stroke=node.getElementsByTagName("stroke")&&node.getElementsByTagName("stroke")[0],newstroke=!1;!stroke&&(newstroke=stroke=createNode("stroke")),(params.stroke&&"none"!=params.stroke||params["stroke-width"]||null!=params["stroke-opacity"]||params["stroke-dasharray"]||params["stroke-miterlimit"]||params["stroke-linejoin"]||params["stroke-linecap"])&&(stroke.on=!0),("none"==params.stroke||null===params.stroke||null==stroke.on||0==params.stroke||0==params["stroke-width"])&&(stroke.on=!1);var strokeColor=R.getRGB("stroke"in params?params.stroke:a.stroke);stroke.on&&params.stroke&&(stroke.color=strokeColor.hex),opacity=((+a["stroke-opacity"]+1||2)-1)*((+a.opacity+1||2)-1)*((+strokeColor.opacity+1||2)-1);var width=.75*(toFloat(params["stroke-width"])||1);if(opacity=mmin(mmax(opacity,0),1),null==params["stroke-width"]&&(width=a["stroke-width"]),params["stroke-width"]&&(stroke.weight=width),width&&width<1&&(opacity*=width)&&(stroke.weight=1),stroke.opacity="none"!==a.stroke?opacity:0,params["stroke-linejoin"]&&(stroke.joinstyle=params["stroke-linejoin"])||newstroke&&(newstroke.joinstyle="miter"),stroke.miterlimit=params["stroke-miterlimit"]||8,params["stroke-linecap"]&&(stroke.endcap="butt"==params["stroke-linecap"]?"flat":"square"==params["stroke-linecap"]?"square":"round"),params["stroke-dasharray"]){var dasharray={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};stroke.dashstyle=dasharray[has](params["stroke-dasharray"])?dasharray[params["stroke-dasharray"]]:params["stroke-dasharray"].join&&params["stroke-dasharray"].join(" ")||E}newstroke&&node.appendChild(stroke)}if("text"==res.type){res.paper.canvas.style.display=E;var span=res.paper.span,m=100,_style=getComputedFontStyle(res),fontSize=_style.font&&_style.font.match(/\d+(?:\.\d*)?(?=px)/),lineHeight=_style["line-height"]&&(_style["line-height"]+E).match(/\d+(?:\.\d*)?(?=px)/);s=span.style,_style.font&&(s.font=_style.font),_style["font-family"]&&(s.fontFamily=_style["font-family"]),_style["font-weight"]&&(s.fontWeight=_style["font-weight"]),_style["font-style"]&&(s.fontStyle=_style["font-style"]),fontSize=toFloat(_style["font-size"]||fontSize&&fontSize[0])||10,s.fontSize=fontSize*m+"px",lineHeight=toFloat(_style["line-height"]||lineHeight&&lineHeight[0]||1.2*fontSize)||12,s.lineHeight=lineHeight*m+"px",R.is(params.text,"array")&&(params.text=res.textpath.string=params.text.join("\n").replace(/<br\s*?\/?>/gi,"\n")),res.textpath.string&&(span.innerHTML=Str(res.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var brect=span.getBoundingClientRect();res.W=a.w=(brect.right-brect.left)/m,res.H=a.h=(brect.bottom-brect.top)/m,res.X=a.x,res.Y=a.y;switch(a["vertical-align"]){case"top":res.bby=res.H/2;break;case"bottom":res.bby=-res.H/2;break;default:res.bby=0}("x"in params||"y"in params||res.bby!==undefined)&&(res.path.v=R.format("m{0},{1}l{2},{1}",round(a.x*zoom),round((a.y+(res.bby||0))*zoom),round(a.x*zoom)+1));for(var dirtyattrs=["x","y","text","font","font-family","font-weight","font-style","font-size","line-height"],d=0,dd=dirtyattrs.length;d<dd;d++)if(dirtyattrs[d]in params){res._.dirty=1;break}switch(a["text-anchor"]){case"start":res.textpath.style["v-text-align"]="left",res.bbx=res.W/2;break;case"end":res.textpath.style["v-text-align"]="right",res.bbx=-res.W/2;break;default:res.textpath.style["v-text-align"]="center",res.bbx=0}res.textpath.style["v-text-kern"]=!0}}},updateFollowers=R._updateFollowers=function(){var i,ii,followerElem,args=(0,_raphael.getArrayCopy)(arguments),o=arrayShift.call(args),fnName=arrayShift.call(args);for(i=0,ii=o.followers.length;i<ii;i++)followerElem=o.followers[i].el,followerElem[fnName].apply(followerElem,args)},addGradientFill=function(o,gradient,fill){o.attrs=o.attrs||{};var oriFOpacity,pow=(o.attrs,Math.pow),oriOp=o.oriOp,type="linear",fxfy=".5 .5";if(o.attrs.gradient=gradient,gradient=Str(gradient).replace(R._radial_gradient,function(all,opts){type="radial",opts=opts&&opts.split(",")||[];var fx=(opts[0],opts[1],opts[2],opts[3]),fy=opts[4];opts[5];return fx&&fy&&(fx=toFloat(fx),fy=toFloat(fy),pow(fx-.5,2)+pow(fy-.5,2)>.25&&(fy=sqrt(.25-pow(fx-.5,2))*(2*(fy>.5)-1)+.5),fxfy=fx+S+fy),E}),gradient=gradient.split(/\s*\-\s*/),"linear"==type){var angle=gradient.shift();if(angle=-toFloat(angle),isNaN(angle))return null}var dots=R._parseDots(gradient);if(!dots)return null;if(o=o.shape||o.node,dots.length){fill.parentNode==o&&o.removeChild(fill),fill.on=!0,fill.method="none",fill.color=dots[0].color,fill.color2=dots[dots.length-1].color;for(var clrs=[],opacity1=1,opacity2=dots[0].opacity===undefined?1:dots[0].opacity,i=0,ii=dots.length;i<ii;i++)dots[i].offset&&clrs.push(dots[i].offset+S+dots[i].color),dots[i].opacity!==undefined&&(opacity1=dots[i].opacity);fill.colors=clrs.length?clrs.join():"0% "+fill.color,oriOp.opacity1=opacity1,oriOp.opacity2=opacity2,oriFOpacity=oriOp.opacity===undefined?1:oriOp.opacity,fill.opacity=opacity1*oriFOpacity,fill["o:opacity2"]=opacity2*oriFOpacity,"radial"==type?(fill.type="gradientTitle",fill.focus="100%",fill.focussize="0 0",fill.focusposition=fxfy,fill.angle=0):(fill.type="gradient",fill.angle=(270-angle)%360),o.appendChild(fill)}return 1},Element=function(node,vml,group){var skew,o=this,parent=group||vml;/*!dontAppend && */
parent.canvas&&parent.canvas.appendChild(node),skew=createNode("skew"),skew.on=!0,node.appendChild(skew),o.skew=skew,o.node=o[0]=node,node.raphael=!0,node.raphaelid=o.id=R._oid++,o.X=0,o.Y=0,o.attrs=o.attrs||{},o.followers=o.followers||[],o.paper=vml,o.ca=o.customAttributes=o.customAttributes||new vml._CustomAttributes,o.matrix=R.matrix(),o._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},o.parent=parent,!parent.bottom&&(parent.bottom=o),o.prev=parent.top,parent.top&&(parent.top.next=o),parent.top=o,o.next=null},elproto=R.el;Element.prototype=elproto,elproto.constructor=Element,elproto.transform=function(tstr){if(null==tstr)return this._.transform;var oldt,vbs=this.paper._viewBoxShift,vbt=vbs?"s"+[vbs.scale,vbs.scale]+"-1-1t"+[vbs.dx,vbs.dy]:E;vbs&&(oldt=tstr=Str(tstr).replace(/\.{3}|\u2026/g,this._.transform||E)),R._extractTransform(this,vbt+tstr);var split,matrix=this.matrix.clone(),skew=this.skew,o=this.node,isGrad=~Str(this.attrs.fill).indexOf("-"),isPatt=!Str(this.attrs.fill).indexOf("url(");if(matrix.translate(-.5,-.5),isPatt||isGrad||"image"==this.type)if(skew.matrix="1 0 0 1",skew.offset="0 0",split=matrix.split(),isGrad&&split.noRotation||!split.isSimple){o.style.filter=matrix.toFilter();var bb=this.getBBox(),bbt=this.getBBox(1),xget=bb.x2&&bbt.x2&&"x2"||"x",yget=bb.y2&&bbt.y2&&"y2"||"y",dx=bb[xget]-bbt[xget],dy=bb[yget]-bbt[yget];o.coordorigin=dx*-zoom+S+dy*-zoom,setCoords(this,1,1,dx,dy,0)}else o.style.filter=E,setCoords(this,split.scalex,split.scaley,split.dx,split.dy,split.rotate);else o.style.filter=E,skew.matrix=Str(matrix),skew.offset=matrix.offset();return oldt&&(this._.transform=oldt),this},elproto.rotate=function(deg,cx,cy){var o=this;if(o.removed)return o;if(updateFollowers(o,"rotate",deg,cx,cy),null!=deg){if(deg=Str(deg).split(separator),deg.length-1&&(cx=toFloat(deg[1]),cy=toFloat(deg[2])),deg=toFloat(deg[0]),null==cy&&(cx=cy),null==cx||null==cy){var bbox=o.getBBox(1);cx=bbox.x+bbox.width/2,cy=bbox.y+bbox.height/2}return o._.dirtyT=1,o.transform(o._.transform.concat([["r",deg,cx,cy]])),o}},elproto.translate=function(dx,dy){var o=this;return o.removed?o:(updateFollowers(o,"translate",dx,dy),dx=Str(dx).split(separator),dx.length-1&&(dy=toFloat(dx[1])),dx=toFloat(dx[0])||0,dy=+dy||0,o._.bbox&&(o._.bbox.x+=dx,o._.bbox.y+=dy),o.transform(o._.transform.concat([["t",dx,dy]])),o)},elproto.scale=function(sx,sy,cx,cy){var o=this;if(o.removed)return o;if(updateFollowers(o,"scale",sx,sy,cx,cy),sx=Str(sx).split(separator),sx.length-1&&(sy=toFloat(sx[1]),cx=toFloat(sx[2]),cy=toFloat(sx[3]),isNaN(cx)&&(cx=null),isNaN(cy)&&(cy=null)),sx=toFloat(sx[0]),null==sy&&(sy=sx),null==cy&&(cx=cy),null==cx||null==cy)var bbox=o.getBBox(1);return cx=null==cx?bbox.x+bbox.width/2:cx,cy=null==cy?bbox.y+bbox.height/2:cy,o.transform(o._.transform.concat([["s",sx,sy,cx,cy]])),o._.dirtyT=1,o},elproto.hide=function(soft){var o=this;return updateFollowers(o,"hide",soft),!o.removed&&(o.node.style.display="none"),o},elproto.show=function(soft){var o=this;return updateFollowers(o,"show",soft),!o.removed&&(o.node.style.display=E),o},elproto._getBBox=function(){var o=this;return o.removed?{}:{x:o.X+(o.bbx||0)-o.W/2,y:o.Y+(o.bby||0)-o.H/2,width:o.W,height:o.H}},elproto.remove=function(){if(!this.removed&&this.parent.canvas){var i,o=this,node=R._engine.getNode(o),paper=o.paper,shape=o.shape;for(paper.__set__&&paper.__set__.exclude(o),eve.unbind("raphael.*.*."+o.id),shape&&shape.parentNode.removeChild(shape),node.parentNode&&node.parentNode.removeChild(node);i=o.followers.pop();)i.el.remove();for(;i=o.bottom;)i.remove();if(o._drag&&o.undrag(),o.events)for(;i=o.events.pop();)i.unbind();o.removeData(),delete paper._elementsById[o.id],R._tear(o,o.parent);for(var i in o)o[i]="function"==typeof o[i]?R._removedFactory(i):null;o.removed=!0}},elproto.attr=function(name,value){if(this.removed)return this;if(null==name){var res={};for(var a in this.attrs)this.attrs[has](a)&&(res[a]=this.attrs[a]);return res.gradient&&"none"==res.fill&&(res.fill=res.gradient)&&delete res.gradient,res.transform=this._.transform,res.visibility="none"===this.node.style.display?"hidden":"visible",res}if(null==value&&R.is(name,"string")){if("fill"==name&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("visibility"==name)return"none"===this.node.style.display?"hidden":"visible";for(var names=name.split(separator),out={},i=0,ii=names.length;i<ii;i++)name=names[i],name in this.attrs?out[name]=this.attrs[name]:R.is(this.ca[name],"function")?out[name]=this.ca[name].def:out[name]=R._availableAttrs[name];return ii-1?out:out[names[0]]}if(this.attrs&&null==value&&R.is(name,"array")){for(out={},i=0,ii=name.length;i<ii;i++)out[name[i]]=this.attr(name[i]);return out}var params;if(null!=value&&(params={},params[name]=value),null==value&&R.is(name,"object")&&(params=name),!R.stopPartialEventPropagation)for(var key in params)eve("raphael.attr."+key+"."+this.id,this,params[key],key);if(params){var todel={};for(key in this.ca)if(this.ca[key]&&params[has](key)&&R.is(this.ca[key],"function")&&!this.ca["_invoked"+key]){this.ca["_invoked"+key]=!0;var par=this.ca[key].apply(this,[].concat(params[key]));delete this.ca["_invoked"+key];for(var subkey in par)par[has](subkey)&&(params[subkey]=par[subkey]);this.attrs[key]=params[key],!1===par&&(todel[key]=params[key],delete params[key])}"text"in params&&"text"==this.type&&(R.is(params.text,"array")&&(params.text=params.text.join("\n")),this.textpath.string=params.text.replace(/<br\s*?\/?>/gi,"\n")),setFillAndStroke(this,params);var follower;for(i=0,ii=this.followers.length;i<ii;i++)follower=this.followers[i],follower.cb&&!follower.cb.call(follower.el,params,this)||follower.el.attr(params);for(var subkey in todel)params[subkey]=todel[subkey]}return this},elproto.on=function(eventType,handler,context){var dummyEve,elem=this,fn=handler;if(elem.removed)return elem;switch(elem._actualListners||(elem._actualListners=[]),elem._derivedListeners||(elem._derivedListeners=[]),eventType){case"fc-dragstart":return elem.drag(null,handler),elem;case"fc-dragmove":return elem.drag(handler),elem;case"fc-dragend":return elem.drag(null,null,handler),elem;case"fc-dbclick":return elem.dbclick(handler,context),elem;case"fc-click":return elem.fcclick(handler,context),elem}return eventType=eventType.replace(/fc-/,""),elem._&&elem._.RefImg&&("load"===eventType||"error"===eventType)?(node=elem._.RefImg,fn=function(el,handler){return function(e){dummyEve={},R.makeSelectiveCopy(dummyEve,e),dummyEve.target=elem._.RefImg,!el.removed&&handler.call(el,dummyEve)}}(elem,handler)):node=elem.node,node.attachEvent?fn===handler&&(fn=function(e){handler.call(context||elem,e)}):fn=function(){var evt=R._g.win.event;evt.target=evt.srcElement,handler(evt)},elem._actualListners.push(handler),elem._derivedListeners.push(fn),node.attachEvent?node.attachEvent("on"+eventType,fn):node["on"+eventType]=fn,elem},elproto.off=function(eventType,handler){var index,elem=this;if(elem.removed)return elem;switch(eventType){case"fc-dragstart":return elem.undragstart(handler),elem;case"fc-dragmove":return elem.undragmove(handler),elem;case"fc-dragend":return elem.undragend(handler),elem;case"fc-dbclick":return elem.undbclick(handler),elem;case"fc-click":return elem.fcunclick(handler),elem}return eventType=eventType.replace(/fc-/,""),index=elem._actualListners.indexOf(handler),-1!==index&&(handler=elem._derivedListeners[index],elem._actualListners.splice(index,1),elem._derivedListeners.splice(index,1)),elem.node.attachEvent?elem.node.detachEvent("on"+eventType,handler):elem.node["on"+eventType]=null,elem},R._engine.getNode=function(el){var node=el.node||el[0].node;return node.clipRect||node},R._engine.getLastNode=function(el){var node=el.node||el[el.length-1].node;return node.clipRect||node},R._engine.group=function(vml,id,group,overrideId){var className,el=R._g.doc.createElement("div"),universalClassName=vml._HTMLClassName,p=new Element(el,vml,group);return el.style.cssText=cssDot,p._id=id||E,id&&(className=el.className=overrideId?"raphael-group-"+id:"raphael-group-"+p.id+"-"+id),universalClassName&&(el.className=className?className+" "+universalClassName:universalClassName),(group||vml).canvas.appendChild(el),p.type="group",p.canvas=p.node,p.transform=R._engine.group.transform,p.top=null,p.bottom=null,p},R._engine.group.transform=function(tstr){if(null==tstr)return this._.transform;var matrix,offset,tx,ty,o=this,s=o.node.style,c=o.clip,vbs=o.paper._viewBoxShift,vbt=vbs?"s"+[vbs.scale,vbs.scale]+"-1-1t"+[vbs.dx,vbs.dy]:E;return vbs&&(tstr=Str(tstr).replace(/\.{3}|\u2026/g,o._.transform||E)),R._extractTransform(o,vbt+tstr),matrix=o.matrix,offset=matrix.offset(),tx=toFloat(offset[0])||0,ty=toFloat(offset[1])||0,s.left=tx+"px",s.top=ty+"px",s.zoom=(o._.tzoom=matrix.get(0))+E,c&&(s.clip=R.format("rect({1}px {2}px {3}px {0}px)",[c[0]-tx,c[1]-ty,c[2]-tx,c[3]-ty])),o},R._engine.path=function(vml,attrs,group){var el=createNode("shape");el.style.cssText=cssDot,el.coordsize=zoom+S+zoom,el.coordorigin=vml.coordorigin;var p=new Element(el,vml,group);return p.type=attrs.type||"path",p.path=[],p.Path=E,attrs.type&&delete attrs.type,setFillAndStroke(p,attrs),applyCustomAttributes(p,attrs),p},R._engine.rect=function(vml,attrs,group){var path=R._rectPath(attrs.x,attrs.y,attrs.w,attrs.h,attrs.r);attrs.path=path,attrs.type="rect";var res=vml.path(attrs,group),a=res.attrs;return res.X=a.x,res.Y=a.y,res.W=a.width,res.H=a.height,a.path=path,res},R._engine.ellipse=function(vml,attrs,group){attrs.type="ellipse";var res=vml.path(attrs,group),a=res.attrs;return res.X=a.x-a.rx,res.Y=a.y-a.ry,res.W=2*a.rx,res.H=2*a.ry,res},R._engine.circle=function(vml,attrs,group){attrs.type="circle";var res=vml.path(attrs,group),a=res.attrs;return res.X=a.x-a.r,res.Y=a.y-a.r,res.W=res.H=2*a.r,res},R._engine.image=function(vml,attrs,group){attrs.w||(attrs.w=attrs.width),attrs.h||(attrs.h=attrs.height);var path=R._rectPath(attrs.x,attrs.y,attrs.w,attrs.h);attrs.path=path,attrs.type="image",attrs.stroke="none";var res=vml.path(attrs,group),a=res.attrs,node=res.node,fill=node.getElementsByTagName("fill")[0];return!res._.RefImg&&(res._.RefImg=new Image),a.src=attrs.src,res.X=a.x=attrs.x,res.Y=a.y=attrs.y,res.W=a.width=attrs.w,res.H=a.height=attrs.h,fill.parentNode==node&&node.removeChild(fill),fill.rotate=!0,fill.src=a.src,fill.type="tile",res._.fillpos=[a.x,a.y],res._.fillsize=[a.w,a.h],node.appendChild(fill),setCoords(res,1,1,0,0,0),res},R._engine.text=function(vml,attrs,group,css){var el=createNode("shape"),path=createNode("path"),o=createNode("textpath");x=attrs.x||0,y=attrs.y||0,text=attrs.text,path.v=R.format("m{0},{1}l{2},{1}",round(attrs.x*zoom),round(attrs.y*zoom),round(attrs.x*zoom)+1),path.textpathok=!0,o.string=Str(attrs.text).replace(/<br\s*?\/?>/gi,"\n"),o.on=!0,el.style.cssText=cssDot,el.coordsize=zoom+S+zoom,el.coordorigin="0 0";var p=new Element(el,vml,group);return p.shape=el,p.path=path,p.textpath=o,p.type="text",p.attrs.text=Str(attrs.text||E),p.attrs.x=attrs.x,p.attrs.y=attrs.y,p.attrs.w=1,p.attrs.h=1,css&&p.css&&p.css(css,undefined,!0),setFillAndStroke(p,attrs),applyCustomAttributes(p,attrs),el.appendChild(o),el.appendChild(path),p},R._engine.setSize=function(width,height){var cs=this.canvas.style;return this.width=width,this.height=height,width==+width&&(width+="px"),height==+height&&(height+="px"),width&&(cs.width=width),height&&(cs.height=height),cs.clip="rect(0 "+cs.width+" "+cs.height+" 0)",this._viewBox&&R._engine.setViewBox.apply(this,this._viewBox),this},R._engine.setViewBox=function(x,y,w,h,fit){eve("raphael.setViewBox",this,this._viewBox,[x,y,w,h,fit]);var H,W,width=this.width,height=this.height,size=1/mmax(w/width,h/height);return fit&&(H=height/h,W=width/w,w*H<width&&(x-=(width-w*H)/2/H),h*W<height&&(y-=(height-h*W)/2/W)),this._viewBox=[x,y,w,h,!!fit],this._viewBoxShift={dx:-x,dy:-y,scale:size},this.forEach(function(el){el.transform("...")}),this};var createNode;R._engine.initWin=function(win){var doc=win.document;doc.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!doc.namespaces.rvml&&doc.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),createNode=R._createNode=function(tagName,attrs){var prop,el=doc.createElement("<rvml:"+tagName+' class="rvml">');for(prop in attrs)el[prop]=Str(attrs[prop]);return el}}catch(e){createNode=R._createNode=function(tagName,attrs){var prop,el=doc.createElement("<"+tagName+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">');for(prop in attrs)el[prop]=Str(attrs[prop]);return el}}},R._engine.initWin(R._g.win),R._engine.create=function(){var con=R._getContainer.apply(0,arguments),container=con.container,height=con.height,width=con.width,x=con.x,y=con.y;if(!container)throw new Error("VML container not found.");var res=new R._Paper,c=res.canvas=R._g.doc.createElement("div"),cs=c.style;return x=x||0,y=y||0,width=width||512,height=height||342,res.width=width,res.height=height,width==+width&&(width+="px"),height==+height&&(height+="px"),res.coordsize=216e5+S+216e5,res.coordorigin="0 0",c.id="raphael-paper-"+res.id,res.span=R._g.doc.createElement("span"),res.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",c.appendChild(res.span),cs.cssText=R.format("top:0;left:0;width:{0};height:{1};display:inline-block;cursor:default;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",width,height),1==container?(R._g.doc.body.appendChild(c),cs.left=x+"px",cs.top=y+"px",cs.position="absolute"):container.firstChild?container.insertBefore(c,container.firstChild):container.appendChild(c),res.renderfix=function(){},res},R.prototype.clear=function(){var c;for(eve("raphael.clear",this);c=this.bottom;)c.remove();this.canvas.innerHTML=E,this.span=R._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},R.prototype.remove=function(){var i;for(eve("raphael.remove",this);i=this.bottom;)i.remove();this.canvas.parentNode.removeChild(this.canvas);for(i in this)this[i]="function"==typeof this[i]?R._removedFactory(i):null;return!0},R.prototype.setHTMLClassName=function(className){this._HTMLClassName=className}}};var _raphael=__webpack_require__(10);module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _iterator=__webpack_require__(7),_iterator2=_interopRequireDefault(_iterator),_symbol=__webpack_require__(9),_symbol2=_interopRequireDefault(_symbol),_typeof="function"==typeof _symbol2["default"]&&"symbol"==typeof _iterator2["default"]?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof _symbol2["default"]&&obj.constructor===_symbol2["default"]&&obj!==_symbol2["default"].prototype?"symbol":typeof obj};exports["default"]=function(R){if(R.canvas){var $,FauxNode,Element,win=R._g.win,doc=R._g.doc,g=R._g,separator=/[, ]+/,Str=win.String,toInt=win.parseInt,toFloat=win.parseFloat,math=win.Math,mmax=math.max,mmin=math.min,pi=math.PI,eve=(math.floor,R.eve),paperproto=R.fn,elproto=R.el,setproto=R.st,clone=R.clone,deg2rad=pi/180,has="hasOwnProperty",supportsTouch="ontouchstart"in win||navigator.msMaxTouchPoints>0,draggable=("click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel".split(" "),[]),drag=[],dragMove=function(e){for(var dragi,x=e.clientX,y=e.clientY,scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,j=drag.length;j--;){if(dragi=drag[j],supportsTouch){for(var touch,i=e.touches.length;i--;)if(touch=e.touches[i],touch.identifier==dragi.el._drag.id){x=touch.clientX,y=touch.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();x+=scrollX,y+=scrollY,eve("raphael.drag.move."+dragi.el.id,dragi.move_scope||dragi.el,x-dragi.el._drag.x,y-dragi.el._drag.y,x,y,e)}},dragUp=function dragUp(e){R.unmousemove(dragMove).unmouseup(dragUp);for(var dragi,i=drag.length;i--;)dragi=drag[i],dragi.el._drag={},dragi.onendHandler&&eve("raphael.drag.end."+dragi.el.id,dragi.end_scope||dragi.start_scope||dragi.move_scope||dragi.el,e);drag=[]};$=R._createNode=function(el,attr){if(attr){"string"===(void 0===el?"undefined":_typeof(el))&&(el=$(el));for(var key in attr)attr.hasOwnProperty(key)&&el.setAttribute(key,Str(attr[key]))}else el=doc.createElement(el);return el},R._getConnectedNodes=function(node){return{above:[],below:[]}},R._getTargetNode=function(coords){coords[0],coords[1]},R._containerEventHandler=function(event){event=event||win.event;var x=event.offsetX,y=event.offsetY;event.type,R._getTargetNode([x,y])},FauxNode=function(parent){this.type="basic",this.owner=parent,this._rElement=null,this.mouseInteractions=!1,this.matrix=null,this.outlinePath=null,this.conf={}},FauxNode.prototype={constructor:FauxNode,render:function(){var o=this;return o.draw(),o.setBBox(),o},draw:function(){var cr,o=this,ctx=o.context,el=o._rElement,m=el.matrix,attrs=(o.isClipped,o.validateAttrs());el.attrs=attrs,ctx.save(),ctx.fillStyle=attrs.fill,ctx.strokeStyle=attrs.stroke,ctx.lineWidth=attrs["stroke-width"],(cr=attrs["clip-rect"])&&(cr=cr.split(" "),ctx.rect(cr[0],cr[1],cr[2],cr[3]),ctx.clip(),o.isClipped=!0),o.applyTransform(m),o.paint(),ctx.restore()},paint:function(){},redraw:function(){this.COMInstance.redraw(this)},clear:function(){var o=this,ctx=o.context,bbox=o._bbox;bbox&&ctx.clearRect(bbox.x,bbox.y,bbox.width,bbox.height)},addMouseInteractivity:function(){var area,o=this,attrs=o._rElement.attrs,bbox=o._bbox,map=o.owner.wrapper._map,shape="circle"===o.type?"circle":"rect",coords="circle"===shape?[attrs.cx,attrs.cy,attrs.r].join(","):[bbox.x,bbox.y,bbox.x2,bbox.y2].join(",");area=$("area",{shape:shape,coords:coords}),map.firstChild?map.insertBefore(area,map.firstChild):map.appendChild(area),o._mouseArea=area,o.eventListeners={}},updateMapAreaCoords:function(){var o=this,oArea=o._mouseArea,bbox=o._bbox;if(oArea)if(o instanceof CircleFauxNode){var r=bbox.width/2;oArea.setAttribute("coords",[bbox.x+r,bbox.y+r,r].join(","))}else oArea.setAttribute("coords",[bbox.x,bbox.y,bbox.x2,bbox.y2].join(","))},applyTransform:function(m){var split,o=this,ctx=o.context;m&&(split=m.split(),ctx.translate(split.dx,split.dy),!split.noRotation&&ctx.rotate(deg2rad*split.rotate),ctx.scale(split.scalex,split.scaley))},setBBox:function(){var o=this,el=o._rElement,m=el.matrix,parent=o.owner,pm=parent.getTransformMatrix&&parent.getTransformMatrix();pm&&(pm=pm.clone(),pm.add(m),m=pm),o.outlinePath?o._bbox=R.pathBBox(R.transformPath(o.outlinePath,m.toTransformString()).toString()):o.setShapeBBox(m),o._mouseArea&&o.updateMapAreaCoords()},getBBox:function(){return this._bbox},drawPath:function(path){var o=this,ctx=o.context,pp=(path&&path.length,PathParser);for(pp.reset(),pp.setTokens(path),null!=ctx&&ctx.beginPath();!pp.isEnd();)switch(pp.nextCommand(),pp.command){case"M":case"m":var p=pp.getAsCurrentPoint();for(pp.addMarker(p),null!=ctx&&ctx.moveTo(p.x,p.y),pp.start=pp.current;!pp.isCommandOrEnd();){var p=pp.getAsCurrentPoint();pp.addMarker(p,pp.start),null!=ctx&&ctx.lineTo(p.x,p.y)}break;case"L":case"l":for(;!pp.isCommandOrEnd();){var c=pp.current,p=pp.getAsCurrentPoint();pp.addMarker(p,c),null!=ctx&&ctx.lineTo(p.x,p.y)}break;case"H":case"h":for(;!pp.isCommandOrEnd();){var newP=new Point((pp.isRelativeCommand()?pp.current.x:0)+pp.getScalar(),pp.current.y);pp.addMarker(newP,pp.current),pp.current=newP,null!=ctx&&ctx.lineTo(pp.current.x,pp.current.y)}break;case"V":case"v":for(;!pp.isCommandOrEnd();){var newP=new Point(pp.current.x,(pp.isRelativeCommand()?pp.current.y:0)+pp.getScalar());pp.addMarker(newP,pp.current),pp.current=newP,null!=ctx&&ctx.lineTo(pp.current.x,pp.current.y)}break;case"C":case"c":for(;!pp.isCommandOrEnd();){var curr=pp.current,p1=pp.getPoint(),cntrl=pp.getAsControlPoint(),cp=pp.getAsCurrentPoint();pp.addMarker(cp,cntrl,p1),null!=ctx&&ctx.bezierCurveTo(p1.x,p1.y,cntrl.x,cntrl.y,cp.x,cp.y)}break;case"S":case"s":for(;!pp.isCommandOrEnd();){var curr=pp.current,p1=pp.getReflectedControlPoint(),cntrl=pp.getAsControlPoint(),cp=pp.getAsCurrentPoint();pp.addMarker(cp,cntrl,p1),null!=ctx&&ctx.bezierCurveTo(p1.x,p1.y,cntrl.x,cntrl.y,cp.x,cp.y)}break;case"Q":case"q":for(;!pp.isCommandOrEnd();){var curr=pp.current,cntrl=pp.getAsControlPoint(),cp=pp.getAsCurrentPoint();pp.addMarker(cp,cntrl,cntrl),null!=ctx&&ctx.quadraticCurveTo(cntrl.x,cntrl.y,cp.x,cp.y)}break;case"T":case"t":for(;!pp.isCommandOrEnd();){var curr=pp.current,cntrl=pp.getReflectedControlPoint();pp.control=cntrl;var cp=pp.getAsCurrentPoint();pp.addMarker(cp,cntrl,cntrl),null!=ctx&&ctx.quadraticCurveTo(cntrl.x,cntrl.y,cp.x,cp.y)}break;case"A":case"a":for(;!pp.isCommandOrEnd();){var curr=pp.current,rx=pp.getScalar(),ry=pp.getScalar(),xAxisRotation=pp.getScalar()*(Math.PI/180),largeArcFlag=pp.getScalar(),sweepFlag=pp.getScalar(),cp=pp.getAsCurrentPoint(),currp=new Point(Math.cos(xAxisRotation)*(curr.x-cp.x)/2+Math.sin(xAxisRotation)*(curr.y-cp.y)/2,-Math.sin(xAxisRotation)*(curr.x-cp.x)/2+Math.cos(xAxisRotation)*(curr.y-cp.y)/2),l=Math.pow(currp.x,2)/Math.pow(rx,2)+Math.pow(currp.y,2)/Math.pow(ry,2);l>1&&(rx*=Math.sqrt(l),ry*=Math.sqrt(l));var s=(largeArcFlag==sweepFlag?-1:1)*Math.sqrt((Math.pow(rx,2)*Math.pow(ry,2)-Math.pow(rx,2)*Math.pow(currp.y,2)-Math.pow(ry,2)*Math.pow(currp.x,2))/(Math.pow(rx,2)*Math.pow(currp.y,2)+Math.pow(ry,2)*Math.pow(currp.x,2)));isNaN(s)&&(s=0);var cpp=new Point(s*rx*currp.y/ry,s*-ry*currp.x/rx),centp=new Point((curr.x+cp.x)/2+Math.cos(xAxisRotation)*cpp.x-Math.sin(xAxisRotation)*cpp.y,(curr.y+cp.y)/2+Math.sin(xAxisRotation)*cpp.x+Math.cos(xAxisRotation)*cpp.y),m=function(v){return Math.sqrt(Math.pow(v[0],2)+Math.pow(v[1],2))},r=function(u,v){return(u[0]*v[0]+u[1]*v[1])/(m(u)*m(v))},a=function(u,v){return(u[0]*v[1]<u[1]*v[0]?-1:1)*Math.acos(r(u,v))},a1=a([1,0],[(currp.x-cpp.x)/rx,(currp.y-cpp.y)/ry]),u=[(currp.x-cpp.x)/rx,(currp.y-cpp.y)/ry],v=[(-currp.x-cpp.x)/rx,(-currp.y-cpp.y)/ry],ad=a(u,v);r(u,v)<=-1&&(ad=Math.PI),r(u,v)>=1&&(ad=0);var dir=1-sweepFlag?1:-1,ah=a1+dir*(ad/2),halfWay=new Point(centp.x+rx*Math.cos(ah),centp.y+ry*Math.sin(ah));if(pp.addMarkerAngle(halfWay,ah-dir*Math.PI/2),pp.addMarkerAngle(cp,ah-dir*Math.PI),null!=ctx){var r=rx>ry?rx:ry,sx=rx>ry?1:rx/ry,sy=rx>ry?ry/rx:1;ctx.translate(centp.x,centp.y),ctx.rotate(xAxisRotation),ctx.scale(sx,sy),ctx.arc(0,0,r,a1,a1+ad,1-sweepFlag),ctx.scale(1/sx,1/sy),ctx.rotate(-xAxisRotation),ctx.translate(-centp.x,-centp.y)}}break;case"Z":case"z":null!=ctx&&ctx.closePath(),pp.current=pp.start}return o.outlinePath=path,o},addEventListener:function(){var area,checkPathHandler,o=this,args=arguments,eventName=args&&args[0],handler=args&&args[1];if(o._mouseArea||o.addMouseInteractivity(),area=o._mouseArea,"string"==typeof eventName&&"function"==typeof handler)if(o._path)if("mouseover"===eventName||"mouseout"===eventName||"mousemove"===eventName){if(!o._mousemoveAdded){var startListening=function(node){var isInside=!1,isOutside=!0,transition=!1;return function(event){var x=event.layerX,y=event.layerY;transition=!1,R.isPointInsidePath(node._transformPath,x,y)?(isInside=!0,isOutside&&(isOutside=!1,transition=!0)):(isOutside=!0,isInside&&(isInside=!1,transition=!0)),isOutside&&transition&&node.eventListeners["mouseout"]&&node.eventListeners["mouseout"].apply(this,arguments),isInside&&(transition&&node.eventListeners["mouseover"]&&node.eventListeners["mouseover"].apply(this,arguments),node.eventListeners["mousemove"]&&node.eventListeners["mousemove"].apply(this,arguments))}}(o);area.addEventListener("mousemove",startListening,!1),o._mousemoveAdded=!0}o.eventListeners[eventName]=handler}else{var checkPathHandler=function(node,handler){return function(event){R.isPointInsidePath(node._path,event.layerX,event.layerY)&&handler.apply(this,arguments)}}(o,handler);area.addEventListener(eventName,checkPathHandler,!1)}else area.addEventListener(eventName,handler,!1)},removeEventListener:function(){var area,o=this,args=arguments,eventName=args&&args[0],handler=args&&args[1];o._mouseArea&&(area=o._mouseArea,"string"==typeof eventName&&"function"==typeof handler&&area.removeEventListener(eventName,handler))},attachEvent:function(){},detachEvent:function(){},validateAttrs:function(attrs){var attr,o=this,elAttrs=clone(o._rElement.attrs);if(null===attrs){if(o._isValid)return elAttrs;o._isValid=!0}attrs=attrs||elAttrs;for(attr in attrs)attrs[attr];return attrs},attrs:function(){}};var NodeListItem=function(node){this.node=node,this.next=null,this.prev=null},NodeList=function(){this.top=null,this.bottom=null};NodeList.prototype={constructor:NodeList,add:function(node){node=new NodeListItem(node),this.bottom||(this.bottom=node),this.top&&(this.top.next=node),node.next=null,node.prev=this.top,this.top=node},addList:function(list){this.bottom||(this.bottom=list.bottom),this.top&&(this.top.next=list.bottom,list.bottom.prev=this.top),this.top=list.top},toFront:function(node){if(this.top===node)return!1;this.bottom===node&&(this.bottom=node.next),node.prev&&(node.prev.next=node.next),node.next&&(node.next.prev=node.prev),this.top.next=node,node.prev=this.top,node.next=null,this.top=node},toBack:function(node){if(this.bottom===node)return!1;this.top===node&&(this.top=node.prev),node.prev&&(node.prev.next=node.next),node.next&&(node.next.prev=node.prev),this.bottom.prev=node,node.prev=null,node.next=this.bottom,this.bottom=node},insertBefore:function(){},insertAfter:function(){},each:function(fn,args){for(var item=this.bottom;item;)fn.apply(item.node,args),item=item.next},iterate:function(fn,args){for(var item=this.bottom;item&&!1!==fn.apply(item.node,args);)item=item.next},dispose:function(){this.each(function(){this.node.dispose&&this.node.dispose()}),this.top=null,this.bottom=null}};var CanvasLayer=function(ncowner,canvas){this.items=new NodeList,this.owner=ncowner,this.element=null,canvas?this.element=canvas:this.init()};CanvasLayer.prototype={constructor:CanvasLayer,appendChild:function(){var o=this,ownerWrapper=o.owner.wrapper,ele=this.element;ownerWrapper._image?ownerWrapper.insertBefore(ele,ownerWrapper._image):ownerWrapper.appendChild(ele)},insertBefore:function(){},insertAfter:function(){},init:function(){this.element=$("canvas"),$(this.element,{width:this.owner.wrapper.offsetWidth,height:this.owner.wrapper.offsetHeight}),this.element.style.cssText="position:absolute;left:0;top:0;",this.appendChild()},getCanvas:function(){return this.element},getContext:function(){return this.element.getContext("2d")},addToLayer:function(node){this.items.add(node)},mergeWithLayerOnTop:function(layerObj){this.items.addList(layerObj.items),layerObj.dispose(!0)},mergeWithLayerOnBottom:function(layerObj){layerObj.items.addList(this.items),this.items=layerObj.items,layerObj.dispose(!0)},dispose:function(softDispose){softDispose||this.items.each(function(){this.dispose()}),this.items=null,this.owner=null,this.element.parentNode.removeChild(this.element),this.element=null}};var NodeCollection=function(parent,wrapper,canvas){this.nodeItems=new NodeList,this.collectionItems=new NodeList,this.layerItems=new NodeList,this.owner=this.parent=parent,this.layerOnTop=null,this.currentLayer=null,this.baseLayer=null,wrapper?(this.wrapper=wrapper,this.currentLayer=this.baseLayer=new CanvasLayer(this,canvas)):this.init()};NodeCollection.prototype={constructor:NodeCollection,init:function(){var o=this,parent=o.parent,imageMap=parent.wrapper._image,wrapper=$("div");wrapper.style.cssText="width:100%;height:100%;position:absolute;left:0;top:0;",wrapper._map=parent.wrapper._map,imageMap?parent.wrapper.insertBefore(wrapper,imageMap):parent.wrapper.appendChild(wrapper),o.wrapper=wrapper,o.currentLayer=o.baseLayer=new CanvasLayer(o)},getCurrentContext:function(){return this.currentLayer.getContext()},setLayerOnTop:function(layerObj){this.layerOnTop=layerObj},getCurrentCanvas:function(){return this.currentLayer.getCanvas()},addNode:function(node){this.nodeItems.add(node),"group"===node.type?this.addCollection(node):this.currentLayer.addToLayer(node)},addCollection:function(collectionNode){collectionNode=collectionNode||new NodeCollection(this),this.collectionItems.add(collectionNode),this.currentLayer=new CanvasLayer(this),this.layerItems.add(this.currentLayer),collectionNode.setLayerOnTop(this.currentLayer)},dispose:function(){this.nodeItems.dispose(),this.collectionItems.dispose(),this.layerItems.dispose(),this.owner=this.parent=null,this.ownerLayer=null,this.currentLayer=null,this.baseLayer=null}};var CanvasObjectModel=function(cnvs,wrpr,width,height){var com=this,root=new NodeCollection(null,wrpr,cnvs);com.width=width,com.height=height,com.createNode=function(type,parent){parent=parent||root;var node,nodeItems=parent.nodeItems,layer=parent.currentLayer,canvasEle=layer.getCanvas();switch(type){case"rect":node=new RectFauxNode(parent);break;case"circle":node=new CircleFauxNode(parent);break;case"path":node=new PathFauxNode(parent);break;case"text":node=new TextFauxNode(parent);break;case"group":node=new GroupFauxNode(parent),parent.addCollection(node);break;default:node=new FauxNode(canvasEle)}return node.COMInstance=this,nodeItems.add(node),layer.addToLayer(node),node},com.redraw=function(node){var nodeList,childNode,layer;if("group"===node.type)nodeList=node.nodeItems,node.render();else for(layer=node.layer,nodeList=layer.items,childNode=nodeList.bottom,layer.element.width=layer.element.width;childNode;)fNode=childNode.node,"group"!==fNode.type&&fNode.render(),childNode=childNode.next},com.insertBefore=function(node){},com.insertAfter=function(node){},com.removeNode=function(node){},com.refreshNode=function(node){},com.refreshAll=function(){}};Point=function(x,y){this.x=x,this.y=y},Point.prototype.angleTo=function(p){return Math.atan2(p.y-this.y,p.x-this.x)},Point.prototype.applyTransform=function(v){var xp=this.x*v[0]+this.y*v[2]+v[4],yp=this.x*v[1]+this.y*v[3]+v[5];this.x=xp,this.y=yp},PathParser=new function(){this.tokens=null,this.setTokens=function(d){this.tokens="string"==typeof d?d.split(" "):d},this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new Point(0,0),this.control=new Point(0,0),this.current=new Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!=this.tokens[this.i+1].toString().match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var p=new Point(this.getScalar(),this.getScalar());return this.makeAbsolute(p)},this.getAsControlPoint=function(){var p=this.getPoint();return this.control=p,p},this.getAsCurrentPoint=function(){var p=this.getPoint();return this.current=p,p},this.getReflectedControlPoint=function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase()?this.current:new Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},this.makeAbsolute=function(p){return this.isRelativeCommand()&&(p.x+=this.current.x,p.y+=this.current.y),p},this.addMarker=function(p,from,priorTo){null!=priorTo&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(priorTo)),this.addMarkerAngle(p,null==from?null:from.angleTo(p))},this.addMarkerAngle=function(p,a){this.points.push(p),this.angles.push(a)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var i=0;i<this.angles.length;i++)if(null==this.angles[i])for(var j=i+1;j<this.angles.length;j++)if(null!=this.angles[j]){this.angles[i]=this.angles[j];break}return this.angles}},RectFauxNode=function(parentObj){this.type="rect",this._isValid=!1,this.parent=this.owner=parentObj,this.context=parentObj.getCurrentContext(),this.layer=parentObj.currentLayer},RectFauxNode.prototype=R.extend(new FauxNode,{constructor:RectFauxNode,paint:function(){var o=this,ctx=o.context,attrs=o.validateAttrs(),x=attrs.x,y=attrs.y,w=attrs.width,h=attrs.height,r=attrs.r,rx=r||attrs.rx,ry=r||attrs.ry;if(attrs.r?path=["M",x+rx,y,"L",x+w-rx,y].concat(["A",rx,ry,0,0,1,x+w,y+ry]).concat(["L",x+w,y+h-ry]).concat(["A",rx,ry,0,0,1,x+w-rx,y+h]).concat(["L",x+rx,y+h]).concat(["A",rx,ry,0,0,1,x,y+h-ry]).concat(["L",x,y+ry]).concat(["A",rx,ry,0,0,1,x+rx,y,"Z"]):path=["M",x,y,"H",x+w,"V",y+h,"H",x,"V",y,"Z"],o.drawPath(path),attrs["stroke-width"]){var strokeAlpha=attrs["stroke-opacity"]===undefined?attrs["opacity"]:attrs["stroke-opacity"];strokeAlpha!==undefined&&(ctx.globalAlpha=strokeAlpha),ctx.stroke()}var fillAlpha=attrs["fill-opacity"]===undefined?attrs["opacity"]:attrs["fill-opacity"];fillAlpha!==undefined&&(ctx.globalAlpha=fillAlpha),ctx.fill()},validateAttrs:function(attrs){var attr,val,o=this,elAttrs=clone(o._rElement.attrs);if(null===attrs){if(o._isValid)return elAttrs;o._isValid=!0}attrs=attrs||elAttrs;for(attr in attrs)switch(val=attrs[attr],attr){case"r":var w=elAttrs.width,h=elAttrs.height,maxR=mmin(w,h)/2;val>maxR&&(attrs.r=maxR),val<0&&(attrs.r=0);break;case"width":case"height":val<0&&(attrs[attr]=0);break;default:continue}return attrs},setShapeBBox:function(m){var o=this,el=o._rElement,attrs=el.attrs,sX=m.get(0),sY=m.get(3),tX=m.get(4),tY=m.get(5),strokeW=attrs["stroke-width"];o._bbox={x:attrs.x*sX+tX-strokeW,y:attrs.y*sY+tY-strokeW,width:attrs.width*sX+2*strokeW,height:attrs.height*sY+2*strokeW},o._bbox.x2=o._bbox.x+o._bbox.width,o._bbox.y2=o._bbox.y+o._bbox.height,o.X=o._bbox.x,o.Y=o._bbox.y,o.W=o._bbox.width,o.H=o._bbox.height}});var CircleFauxNode=function(parentObj){this.type="circle",this._isValid=!1,this.parent=this.owner=parentObj,this.context=parentObj.getCurrentContext(),this.layer=parentObj.currentLayer},PathFauxNode=function(parentObj){this.type="path",this._isValid=!1,this.parent=this.owner=parentObj,this.context=parentObj.getCurrentContext(),this.layer=parentObj.currentLayer},TextFauxNode=function(parentObj){this.type="text",this._isValid=!1,this.parent=this.owner=parentObj,this.context=parentObj.getCurrentContext(),this.layer=parentObj.currentLayer},GroupFauxNode=function(parent,width,height){this.type="group",this.nodeItems=new NodeList,this.collectionItems=new NodeList,this.layerItems=new NodeList,this.owner=this.parent=parent,this.layerOnTop=parent.currentLayer,this.currentLayer=null,this.baseLayer=null,this.init()};CircleFauxNode.prototype=R.extend(new FauxNode,{constructor:CircleFauxNode,paint:function(){var o=this,ctx=o.context,attrs=o.validateAttrs(),x=attrs.cx,y=attrs.cy,r=attrs.r,rx=r||attrs.rx,ry=r||attrs.ry;if(attrs.r){if(o.drawPath(["M",x+r,y,"A",rx,ry,0,1,0,x-r,y,"A",rx,ry,0,1,0,x+r,y,"Z"]),attrs["stroke-width"]){var strokeAlpha=attrs["stroke-opacity"]===undefined?attrs["opacity"]:attrs["stroke-opacity"];strokeAlpha!==undefined&&(ctx.globalAlpha=strokeAlpha),ctx.stroke()}var fillAlpha=attrs["fill-opacity"]===undefined?attrs["opacity"]:attrs["fill-opacity"];fillAlpha!==undefined&&(ctx.globalAlpha=fillAlpha),ctx.fill()}},setShapeBBox:function(m){var o=this,el=o._rElement,attrs=el.attrs,sX=m.get(0),sY=m.get(3),tX=m.get(4),tY=m.get(5),strokeW=attrs["stroke-width"];o._bbox={x:tX+(attrs.cx-attrs.r)*sX-strokeW,y:tY+(attrs.cy-attrs.r)*sY-strokeW,width:2*(strokeW+attrs.r*sX),height:2*(attrs.r*sY+strokeW)},o._bbox.x2=o._bbox.x+o._bbox.width,o._bbox.y2=o._bbox.y+o._bbox.height,o.X=o._bbox.x,o.Y=o._bbox.y,o.W=o._bbox.width,o.H=o._bbox.height}}),PathFauxNode.prototype=R.extend(new FauxNode,{constructor:PathFauxNode,paint:function(){var o=this,el=o._rElement,attrs=el.attrs,path=el.attr("path"),m=el.matrix,ctx=o.context;o.drawPath(path),o._transformPath=R.transformPath(path,m.toTransformString());var strokeAlpha=attrs["stroke-opacity"]===undefined?attrs["opacity"]:attrs["stroke-opacity"];strokeAlpha!==undefined&&(ctx.globalAlpha=strokeAlpha),ctx.stroke();var fillAlpha=attrs["fill-opacity"]===undefined?attrs["opacity"]:attrs["fill-opacity"];fillAlpha!==undefined&&(ctx.globalAlpha=fillAlpha),ctx.fill()}}),TextFauxNode.prototype=R.extend(new FauxNode,{constructor:TextFauxNode,paint:function(){var o=this,el=o._rElement,attrs=el.attr(),text=attrs["text"],stroke=attrs["stroke"],valign=attrs["vertical-align"],halign=attrs["text-anchor"],x=attrs["x"],y=attrs["y"],ctx=(el.matrix,o.context),fontSize=attrs["font-size"]||10,lineHeight=attrs["line-height"]||1.2*toInt(fontSize,10),fontArr=["normal",fontSize,attrs["font"]];if(ctx.fillStyle=stroke,ctx.font=fontArr.join(" "),text){var startY,width,textX,textY,texts=Str(text).split(/\n|<br\s*?\/?>/gi),totalHeight=texts.length*lineHeight,totalWidth=-Infinity,startX=Infinity;startY="top"===valign?y+lineHeight:"middle"===valign?y-totalHeight/2+lineHeight/2:y-totalHeight+lineHeight;for(var i=0,ii=texts.length;i<ii;i+=1)text=texts[i],textY=startY+lineHeight*i,width=ctx.measureText(text).width,textX="start"===halign?x:"middle"===halign?x-width/2:x-width,totalWidth=mmax(totalWidth,width),startX=mmin(startX,textX),ctx.fillText(text,textX,textY);el._textdirty=!1}o.outlinePath=["M",startX,startY-lineHeight/1.4,"H",startX+totalWidth,"V",startY-lineHeight+totalHeight,"H",startX,"V",startY-lineHeight/1.4]}}),GroupFauxNode.prototype=R.extend(R.extend(new FauxNode,NodeCollection.prototype),{constructor:GroupFauxNode,draw:function(){this.layerItems.each(function(){this.element.width=this.element.width}),FauxNode.prototype.draw.apply(this,arguments)},render:function(){var o=this;return o.draw(),o.setBBox(),o},paint:function(){var o=this,list=o.nodeList,el=o._rElement,attrs=(o.canvas,el.attrs),childNode=list.bottom;for(attrs.opacity!==undefined&&this.layerItems.each(function(){this.getContext().globalAlpha=attrs.opacity});childNode;)childNode.render(),childNode=childNode.next},setBBox:function(){},addMouseInteractivity:function(){},applyTransform:function(m){var o=this,parent=o.parent,parentMatrix=parent.getTransformMatrix&&parent.getTransformMatrix();parentMatrix?(o.matrixApplied=parentMatrix.clone(),o.matrixApplied.add(m.a,m.b,m.c,m.d,m.e,m.f)):o.matrixApplied=m,this.layerItems.each(function(){FauxNode.prototype.applyTransform.apply(this,[o.matrixApplied])})},getTransformMatrix:function(){return this.matrixApplied}}),Element=function(node,paper,group){var o=this,parent=group||paper;o.node=o[0]=node,node.raphael=!0,node.raphaelid=o.id=R._oid++,node._rElement=o,o.X=0,o.Y=0,o.attrs=o.attrs||{},o.styles=o.styles||{},o.followers=o.followers||[],o.paper=paper,o.com=parent.com,o.ca=o.customAttributes=o.customAttributes||new paper._CustomAttributes,o.matrix=R.matrix(),o._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0},o.parent=parent,!parent.bottom&&(parent.bottom=o),o.prev=parent.top||null,parent.top&&(parent.top.next=o),parent.top=o,o.next=null},Element.prototype=elproto,elproto.constructor=Element;var repaint=function(el,finalAttrs,positionChanged,dimensionChanged){var attr,node=getNode(el),preC=R._getConnectedNodes(node),attrs=el.attrs;preC.above,preC.below;for(attr in finalAttrs)attrs[attr]=finalAttrs[attr];node.redraw()},setFillAndStroke=function(el,params){var att,val,node=(el.attrs,el.node),finalAttrs={},needsRepaint=!1,positionChanged=!1,dimensionChanged=!1;for(att in params)if(params[has](att)){if(!R._availableAttrs[has](att))continue;switch(val=params[att],att){case"fill-opacity":case"opacity":case"stroke-opcaity":case"stroke":case"fill":finalAttrs[att]=val,needsRepaint=!0;break;case"stroke-width":case"cx":case"cy":case"x":case"y":finalAttrs[att]=val,positionChanged=!0;break;case"width":case"height":finalAttrs[att]=val,dimensionChanged=!0;break;case"clip-rect":finalAttrs[att]=val,needsRepaint=!0;break;case"font-size":case"font":case"vertical-align":case"text-anchor":finalAttrs[att]=val,needsRepaint=!0;default:continue}}tuneText(el,params,finalAttrs),finalAttrs=node.validateAttrs(finalAttrs),(needsRepaint||positionChanged||dimensionChanged)&&repaint(el,finalAttrs)},tuneText=function(el,params,finalAttrs){if("text"==el.type&&(params[has]("text")||params[has]("font")||params[has]("font-size")||params[has]("x")||params[has]("y")||params[has]("line-height")||params[has]("vertical-align"))){var a=el.attr(),fontSize=params["font-size"]||a["font-size"]||10,lineHeight=toFloat(params["line-height"]||a["line-height"])||1.2*toInt(fontSize,10),valign=params["vertical-align"]||a["vertical-align"]||"middle";isNaN(lineHeight)&&(lineHeight=1.2*fontSize),finalAttrs["font-size"]=toInt(fontSize,10)+"px",finalAttrs["font"]=params["font"]||a["font"]||"Verdana",finalAttrs["vertical-align"]=valign,finalAttrs["x"]=params["x"]||a["x"]||0,finalAttrs["y"]=params["y"]||a["y"]||0,finalAttrs["line-height"]=toInt(lineHeight,10),finalAttrs["text-anchor"]=params["text-anchor"]||a["text-anchor"]||"middle"}};R._engine.initWin=function(win){win=win,doc=win.document},R._engine.setSize=function(w,h){var paper=this,cs=paper.canvas.style;return cs.width=(paper.width=+w||paper.width)+"px",cs.height=(paper.height=+h||paper.height)+"px",paper},R._engine.create=function(){var wrapper,cssText,image,mmap,paper,canvas,con=R._getContainer.apply(0,arguments)||{},container=con.container,x=con.x,y=con.y,width=con.width,height=con.height;if(!container)throw new Error("Canvas container not found.");return paper=new R._Paper,paper.canvas=wrapper=$("div"),x=x||0,y=y||0,paper.width=width=width||512,paper.height=height=height||342,paper.left=paper.top=0,1==container?(wrapper.style.cssText=cssText+R.format(";width:100%;height:100%;position:absolute;left:{0}px;top:{1}px;",[x,y]),doc.body.appendChild(wrapper)):(wrapper.style.cssText=cssText+";width:100%;height:100%;position:absolute",container.firstChild?container.insertBefore(wrapper,container.firstChild):container.appendChild(wrapper)),cssText="overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-moz-user-select:-moz-none;-khtml-user-select:none;-ms-user-select:none;user-select:none;-o-user-select:none;cursor:default;"+R.format("width:{0}px;height:{1}px;",[width,height]),canvas=$("canvas"),canvas.style.cssText="position:absolute;left:0;top:0",canvas.setAttribute("width",paper.width),canvas.setAttribute("height",paper.height),paper.com=new CanvasObjectModel(canvas,wrapper,paper.width,paper.height),wrapper.appendChild(canvas),image=$("img"),image.src="image1.png",image.style.cssText="opacity: 0;z-index: 100;background: transparent;position: absolute;left: 0;top: 0;width: "+width+"px;height: "+height+"px",wrapper.appendChild(image),mmap=$("map"),mmap.setAttribute("name","mousemap"),mmap.setAttribute("id","mousemap"),wrapper.appendChild(mmap),image.setAttribute("usemap","#mousemap"),wrapper._image=image,wrapper._map=mmap,paper};var getNode=R._engine.getNode=function(el){return el.node||el[0].node};R._engine.getLastNode=function(el){return el.node||el[el.length-1].node},R._engine.rect=function(paper,x,y,w,h,r,group){var node=paper.com.createNode("rect",group&&group.node),el=new Element(node,paper,group),attrs=el.attrs;return attrs.x=x,attrs.y=y,attrs.width=w,attrs.height=h,attrs.fill="#fff",attrs.stroke="#000",attrs["stroke-width"]=1,attrs.r=r||0,attrs.rx=r||0,attrs.ry=r||0,el.type="rect",node.render(),el},R._engine.circle=function(paper,x,y,r,group){var node=paper.com.createNode("circle",group&&group.node),el=new Element(node,paper,group),attrs=el.attrs;return attrs.cx=x,attrs.cy=y,attrs.r=r,attrs.fill="none",attrs.stroke="#000",attrs["stroke-width"]=1,el.type="circle",node.render(),el},R._engine.ellipse=function(paper,x,y,rx,ry,group){var node=new FauxNode,el=new Element(node,paper,group);return el.type="ellipse",el},R._engine.image=function(paper,src,x,y,w,h,group){var node=new FauxNode,el=new Element(node,paper,group);return el.type="image",el},R._engine.text=function(paper,x,y,text,group){var node=paper.com.createNode("text",group&&group.node),el=new Element(node,paper,group),attrs=el.attrs;return attrs.x=x,attrs.y=y,attrs.text=text,attrs.fill="none",attrs.stroke="#000",attrs.font="Verdana",attrs["font-size"]="12px",attrs["vertical-align"]="middle",attrs["text-anchor"]="middle",el.type="text",node.render(),el},R._engine.path=function(pathString,paper,group){var node=paper.com.createNode("path",group&&group.node),el=new Element(node,paper,group),attrs=el.attrs;return attrs.path=pathString,attrs.fill="#fff",attrs.stroke="#000",attrs["stroke-width"]=1,el.type="path",node.render(),el},R._engine.group=function(paper,id,group){var node=paper.com.createNode("group",group&&group.node),el=new Element(node,paper,group),wrapper=node.wrapper;return id&&wrapper.setAttribute("class",["red",id].join("-")),el.canvas=wrapper,el.type="group",el},elproto._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y+(this.bby||0)-this.H/2,width:this.W,height:this.H}},elproto.toFront=function(){if(this.removed)return this;var follower,i,ii,o=this,thisNode=o.node,parent=o.parent,parentNode=thisNode.owner,followers=o.followers;for(R._tofront(o,parent)&&("group"===elproto.type?parent.canvas.appendChild(thisNode):parentNode.nodeList.tofront(thisNode)),i=0,ii=followers.length;i<ii;i++)(follower=followers[i]).stalk&&follower.el[follower.stalk](o);return o},elproto.toBack=function(){if(this.removed)return this;var follower,i,ii,o=this,thisNode=o.node,parent=o.parent,parentNode=thisNode.owner,followers=o.followers;for(R._toback(o,parent)&&("group"===elproto.type?parent.canvas.appendChild(thisNode):parentNode.nodeList.toback(thisNode)),i=0,ii=followers.length;i<ii;i++)(follower=followers[i]).stalk&&follower.el[follower.stalk](o);return o},elproto.insertAfter=function(element){if(this.removed)return this;var follower,i,ii,o=this,thisNode=o.node,thatNode=element.node,parentNode=thatNode.owner,followers=o.followers;for(thatNode.next?parentNode.nodeList.insertBefore(thisNode,thatNode.next):parentNode.appendChild(thisNode),R._insertafter(o,element,o.parent,element.parent),i=0,ii=followers.length;i<ii;i++)(follower=followers[i]).stalk&&follower.el[follower.stalk](element);return o},elproto.insertBefore=function(element){if(this.removed)return this;var follower,i,ii,o=this,thisNode=o.node,thatNode=element.node,parentNode=thatNode.owner,followers=o.followers;for(thatNode?parentNode.nodeList.insertBefore(thisNode,thatNode):parentNode.appendChild(thisNode),R._insertafter(o,element,o.parent,element.parent),i=0,ii=followers.length;i<ii;i++)(follower=followers[i]).stalk&&follower.el[follower.stalk](element);return o},elproto.appendChild=function(element){return this},elproto.removeChild=function(element){return this},elproto.attr=function(name,value){if(this.removed)return this;var names,params,par,res,key,out,subkey,delkeys,follower,ii,i,o=this,attrs=o.attrs,ca=o.ca;if(null==name){res={};for(key in attrs)attrs.hasOwnProperty(key)&&(res[key]=attrs[key]);return res.gradient&&"none"==res.fill&&(res.fill=res.gradient)&&delete res.gradient,res.transform=o._.transform,res}if(null==value&&R.is(name,"string")){if("fill"==name&&"none"==attrs.fill&&attrs.gradient)return attrs.gradient;if("transform"==name)return o._.transform;for(names=name.split(separator),out={},i=0,ii=names.length;i<ii;i++)name=names[i],name in attrs?out[name]=attrs[name]:R.is(ca[name],"function")?out[name]=ca[name].def:out[name]=R._availableAttrs[name];return ii-1?out:out[names[0]]}if(null==value&&R.is(name,"array")){for(out={},i=0,ii=name.length;i<ii;i++)out[name[i]]=o.attr(name[i]);return out}if(null!=value?(params={},params[name]=value):null!=name&&R.is(name,"object")&&(params=name),!1!==R.stopEvent)for(key in params)eve("raphael.attr."+key+"."+o.id,o,params[key],key);delkeys={};for(key in ca)if(ca[key]&&params.hasOwnProperty(key)&&R.is(ca[key],"function")&&!ca["_invoked"+key]){ca["_invoked"+key]=!0,par=ca[key].apply(o,[].concat(params[key])),delete ca["_invoked"+key];for(subkey in par)par.hasOwnProperty(subkey)&&(params[subkey]=par[subkey]);attrs[key]=params[key],!1===par&&(delkeys[key]=params[key],delete params[key])}for(setFillAndStroke(this,params),i=0,ii=o.followers.length;i<ii;i++)follower=o.followers[i],follower.cb&&!follower.cb.call(follower.el,params,o)||follower.el.attr(params);for(subkey in delkeys)params[subkey]=delkeys[subkey];return this},elproto.drag=function(onmove,onstart,onend,move_scope,start_scope,end_scope){function start(e){(e.originalEvent||e).preventDefault();var scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft;this._drag.x=e.clientX+scrollX,this._drag.y=e.clientY+scrollY,this._drag.id=e.identifier,!drag.length&&R.mousemove(dragMove).mouseup(dragUp),drag.push({el:this,move_scope:move_scope,start_scope:start_scope,end_scope:end_scope,onmoveHandler:onmove,onstartHandler:onstart,onendHandler:onend}),onstart&&eve.on("raphael.drag.start."+this.id,onstart),onmove&&eve.on("raphael.drag.move."+this.id,onmove),onend&&eve.on("raphael.drag.end."+this.id,onend),onstart&&eve("raphael.drag.start."+this.id,start_scope||move_scope||this,e.clientX+scrollX,e.clientY+scrollY,e)}return this._drag={},draggable.push({el:this,start:start}),this.mousedown(start),this},elproto.undrag=function(){for(var i=draggable.length;i--;)draggable[i].el==this&&(this.unmousedown(draggable[i].start),draggable.splice(i,1),eve.unbind("raphael.drag.*."+this.id));!draggable.length&&R.unmousemove(dragMove).unmouseup(dragUp)},elproto.rotate=function(deg,cx,cy){var bbox,o=this;return o.removed?o:(deg=Str(deg).split(separator),deg.length-1&&(cx=toFloat(deg[1]),cy=toFloat(deg[2])),deg=toFloat(deg[0]),null==cy&&(cx=cy),null!=cx&&null!=cy||(bbox=o.getBBox(1),cx=bbox.x+bbox.width/2,cy=bbox.y+bbox.height/2),o.transform(o._.transform.concat([["r",deg,cx,cy]])),o)},elproto.scale=function(sx,sy,cx,cy){var bbox,o=this;return o.removed?o:(sx=Str(sx).split(separator),sx.length-1&&(sy=toFloat(sx[1]),cx=toFloat(sx[2]),cy=toFloat(sx[3])),sx=toFloat(sx[0]),null==sy&&(sy=sx),null==cy&&(cx=cy),null!=cx&&null!=cy||(bbox=o.getBBox(1)),cx=null==cx?bbox.x+bbox.width/2:cx,cy=null==cy?bbox.y+bbox.height/2:cy,o.transform(o._.transform.concat([["s",sx,sy,cx,cy]])),o)},elproto.translate=function(dx,dy){var o=this;return o.removed?o:(dx=Str(dx).split(separator),dx.length-1&&(dy=toFloat(dx[1])),dx=toFloat(dx[0])||0,dy=+dy||0,o.transform(o._.transform.concat([["t",dx,dy]])),o)},elproto.transform=function(tstr){var sw,o=this,_=o._;return null===tstr?_.transform:(R._extractTransform(o,tstr),1==_.sx&&1==_.sy||(sw=o.attrs[has]("stroke-width")?o.attrs["stroke-width"]:1,o.attr({"stroke-width":sw})),o.node&&o.node.redraw(),o)},elproto.hide=function(){return this},elproto.show=function(){return this},elproto.on=function(eventType,handler){var el=this,listeners=el.listeners;listeners||(listeners=el.listeners={}),listeners[eventType]||(listeners[eventType]=[]),listeners[eventType].push(handler)},elproto.remove=function(){return this},paperproto.clear=function(){return eve("raphael.clear",this),this},paperproto.remove=function(){if(!this.removed){var i,paper=this,canvas=paper.canvas,pn=canvas.parentNode;eve("raphael.remove",paper),pn.removeChild(canvas);for(i in paper)paper[i]="function"==typeof paper[i]?R._removedFactory(i):null;this.removed=!0}},R.toString=function(){return"Your browser supports canvas.\nYou are running RedRaphael "+R.version};for(var method in elproto)elproto.hasOwnProperty(method)&&!setproto.hasOwnProperty(method)&&(setproto[method]=function(methodname){return function(){var arg=arguments;return this.forEach(function(el){el[methodname].apply(el,arg)})}}(method))}},module.exports=exports["default"]}])});